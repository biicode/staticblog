<!DOCTYPE html><html
lang="en-US" xmlns:fb="http://ogp.me/ns/fb#" xmlns:addthis="http://www.addthis.com/help/api-spec"  prefix="og: http://ogp.me/ns#">
<!-- Mirrored from blog.biicode.com/bii-internals-automating-macos-pkg-generation/ by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 03 Jan 2016 00:38:01 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head><link
rel='stylesheet' href='../wp-content/plugins/wp-minify/min/index1667.css?f=wp-content/plugins/wp-currency-converter/css/wp-currency-converter.css,wp-content/plugins/addthis/css/output.css,wp-content/plugins/crayon-syntax-highlighter/css/min/crayon.min.css,wp-content/uploads/sites/2/crayon-syntax-highlighter/themes/biicode/biicode.css,wp-content/plugins/crayon-syntax-highlighter/fonts/inconsolata.css,wp-content/plugins/cookie-law-info/css/cli-style.css,wp-content/themes/truly-minimal-wpcom/style.css,wp-content/plugins/tablepress/css/default.min.css&amp;m=1434970912' type='text/css' media='screen' /> <script type='text/javascript' src='../wp-content/plugins/wp-minify/min/index5cdb.css?f=wp-content/themes/truly-minimal-wpcom/js/html5.js,wp-includes/js/jquery/jquery.js,wp-includes/js/jquery/jquery-migrate.min.js,wp-content/plugins/q2w3-fixed-widget/js/q2w3-fixed-widget.min.js,wp-content/plugins/wp-currency-converter/js/wp-currency-converter.js,wp-content/plugins/crayon-syntax-highlighter/js/min/crayon.min.js,wp-content/plugins/cookie-law-info/js/cookielawinfo.js&amp;m=1434970912'></script> <meta
charset="UTF-8" /><meta
name="viewport" content="width=device-width" /><title>bii internals: Automating MacOS pkg generation - biicode Blog</title><link
rel="profile" href="http://gmpg.org/xfn/11" /><link
rel="pingback" href="../xmlrpc.php" /> <!--[if lt IE 9]> <![endif]--> <script type="text/javascript" src="../../biiwebproduction.s3.amazonaws.com/static/js/home/jquery-1.7.1.min.js"></script> <script type="text/javascript" src="../../biiwebproduction.s3.amazonaws.com/static/js/home/jquery.easing.1.3.js"></script> <script type="text/javascript" src="../../biiwebproduction.s3.amazonaws.com/static/js/nav/nav.js"></script> <meta
name="description" content="How to create a script to generate macos pkg from a folder containing your program files"/><link
rel="canonical" href="index.html" /><link
rel="publisher" href="http://plus.google.com/+biicode"/><meta
property="og:locale" content="en_US" /><meta
property="og:type" content="article" /><meta
property="og:title" content="bii internals: Automating MacOS pkg generation - biicode Blog" /><meta
property="og:description" content="How to create a script to generate macos pkg from a folder containing your program files" /><meta
property="og:url" content="http://blog.biicode.com/bii-internals-automating-macos-pkg-generation/" /><meta
property="og:site_name" content="biicode Blog" /><meta
property="article:publisher" content="https://www.facebook.com/Biicode" /><meta
property="article:tag" content="bii-internals" /><meta
property="article:tag" content="biicode" /><meta
property="article:tag" content="mac" /><meta
property="article:tag" content="macos" /><meta
property="article:tag" content="pkg" /><meta
property="article:tag" content="pkgbuild" /><meta
property="article:tag" content="productbuild" /><meta
property="article:section" content="biicode" /><meta
property="article:published_time" content="2014-06-06T10:52:36+00:00" /><meta
property="article:modified_time" content="2014-09-02T15:23:53+00:00" /><meta
property="og:updated_time" content="2014-09-02T15:23:53+00:00" /><meta
property="og:image" content="http://blog.biicode.com/wp-content/uploads/sites/2/2014/06/wizard1.png" /><meta
property="og:image" content="http://blog.biicode.com/wp-content/uploads/sites/2/2014/06/wizard2.png" /><link
rel="alternate" type="application/rss+xml" title="biicode Blog &raquo; Feed" href="http://feeds.feedburner.com/biicodeblog" /><link
rel="alternate" type="application/rss+xml" title="biicode Blog &raquo; Comments Feed" href="../comments/feed/index.html" /><meta
name="twitter:card" content="summary_large_image"><meta
name="twitter:creator" content="@biicode"><meta
name="twitter:site" content="@biicode"><meta
property="og:title" content="bii internals: Automating MacOS pkg generation"><meta
property="og:image" content="http://blog.biicode.com/wp-content/uploads/sites/2/2014/11/Logo-biicode-low.png"><meta
property="og:image:width" content="280"><meta
property="og:image:height" content="150"><link
rel="alternate" type="application/rss+xml" title="biicode Blog &raquo; bii internals: Automating MacOS pkg generation Comments Feed" href="feed/index.html" /> <script type="text/javascript">window._wpemojiSettings = {"baseUrl":"http:\/\/s.w.org\/images\/core\/emoji\/72x72\/","ext":".png","source":{"concatemoji":"http:\/\/blog.biicode.com\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.2.5"}};
			!function(a,b,c){function d(a){var c=b.createElement("canvas"),d=c.getContext&&c.getContext("2d");return d&&d.fillText?(d.textBaseline="top",d.font="600 32px Arial","flag"===a?(d.fillText(String.fromCharCode(55356,56812,55356,56807),0,0),c.toDataURL().length>3e3):(d.fillText(String.fromCharCode(55357,56835),0,0),0!==d.getImageData(16,16,1,1).data[0])):!1}function e(a){var c=b.createElement("script");c.src=a,c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g;c.supports={simple:d("simple"),flag:d("flag")},c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.simple&&c.supports.flag||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);</script> <style type="text/css">img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}</style><link
rel='stylesheet' id='mailchimpSF_main_css-css'  href='../index2740.html?mcsf_action=main_css&amp;ver=4.2.5' type='text/css' media='all' /> <!--[if IE]><link
rel='stylesheet' id='mailchimpSF_ie_css-css'  href='http://blog.biicode.com/wp-content/plugins/mailchimp/css/ie.css?ver=4.2.5' type='text/css' media='all' /> <![endif]--><link
rel='stylesheet' id='truly-minimal-droid-serif-css'  href='http://fonts.googleapis.com/css?family=Droid+Serif%3A400%2C700%2C400italic%2C700italic&amp;ver=4.2.5' type='text/css' media='all' /><link
rel='stylesheet' id='truly-minimal-droid-sans-css'  href='http://fonts.googleapis.com/css?family=Droid+Sans%3A400%2C700&amp;ver=4.2.5' type='text/css' media='all' /> <script type='text/javascript'>/*  */
var CrayonSyntaxSettings = {"version":"2.7.1","is_admin":"0","ajaxurl":"http:\/\/blog.biicode.com\/wp-admin\/admin-ajax.php","prefix":"crayon-","setting":"crayon-setting","selected":"crayon-setting-selected","changed":"crayon-setting-changed","special":"crayon-setting-special","orig_value":"data-orig-value","debug":""};
var CrayonSyntaxStrings = {"copy":"Press %s to Copy, %s to Paste","minimize":"Click To Expand Code"};
/*  */</script> <link
rel="EditURI" type="application/rsd+xml" title="RSD" href="../xmlrpc0db0.php?rsd" /><link
rel="wlwmanifest" type="application/wlwmanifest+xml" href="../wp-includes/wlwmanifest.xml" /><link
rel='shortlink' href='../indexab36.html?p=618' /> <script data-cfasync="false" src="http://load.sumome.com/" data-sumo-site-id="8d5d163c33e2beb1876a5027edd9a9c4c583be61433be230b24e6bcfc0387265" async></script><script type="text/javascript">var wpccAjaxLink = "../wp-admin/admin-ajax.html";</script>  <script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','../../www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-41860930-1', 'auto');
	ga('require', 'displayfeatures');
	ga('set', 'forceSSL', true);
	ga('send', 'pageview');</script>  <script type="text/javascript">jQuery(document).ready(function(e) {
    jQuery('a').click(function(e) {
		var $this = jQuery(this);
      	var href = $this.prop('href').split('?')[0];
		var ext = href.split('.').pop();
		if ('xls,xlsx,doc,docx,ppt,pot,pptx,pdf,pub,txt,zip,rar,tar,7z,gz,exe,wma,mov,avi,wmv,wav,mp3,midi,csv,tsv,jar,psd,pdn,ai,pez,wwf,torrent,cbr'.split(',').indexOf(ext) !== -1) {
        ga('send', 'event', 'Download', ext, href);
      }
	  if (href.toLowerCase().indexOf('mailto:') === 0) {
        ga('send', 'event', 'Mailto', href.substr(7));
      }
	  if (href.toLowerCase().indexOf('tel:') === 0) {
        ga('send', 'event', 'Phone number', href.substr(4));
      }
      if ((this.protocol === 'http:' || this.protocol === 'index.html') && this.hostname.indexOf(document.location.hostname) === -1) {
        ga('send', 'event', 'Outbound', this.hostname, this.pathname);
      }
	});
});</script> <style type="text/css">.site-title a {
			color: #f48123;
		}</style><link
href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'></head><body
class="single single-post postid-618 single-format-standard group-blog sidebar-right"><div
id="ContainerHeader"> <a
id="forkme" href="https://biicode.github.io/biicode"><img
style="z-index: 4;position: absolute; top: 0; left: 0; border: 0;" src="https://camo.githubusercontent.com/8b6b8ccc6da3aa5722903da7b58eb5ab1081adee/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f6c6566745f6f72616e67655f6666373630302e706e67" alt="Fork me on GitHub" data-canonical-src="../../s3.amazonaws.com/github/ribbons/forkme_left_orange_ff7600.png"></a><div
id="ContainerwidthHeader"><div
id="header"> <header
id="menu"><div
id="logo"> <a
href="https://www.biicode.com/"><img
src="../wp-content/themes/truly-minimal-wpcom/img/header/biicode-logo.png" alt="Biicode-logo" /></a></div><div
id="search-form"><form
method="get" id="searchform" class="searchform" action="http://blog.biicode.com/" role="search"><div
class="form-container"><input
type="search" class="search-field" name="s" value="" id="s" placeholder="Search in Blog &hellip;" /><div
class="submit-container"><input
name="search" value=""  type="submit" class="submit-bt" /></div></div></form></div> <nav
class="right"><ul><li><a
href="https://www.biicode.com/explore">Explore</a></li><li><a
href="http://web.biicode.com/pricing/">Plans</a></li><li> Learn <img
src="../wp-content/themes/truly-minimal-wpcom/img/header/arrow-drop-down-menu.jpg" style="margin:0px 0px 3px 4px" width="8" height="4" /><ul><li><a
href="http://web.biicode.com/learn/getting-started">Get Started</a></li><li><a
href="https://www.biicode.com/downloads">Downloads</a></li><li><a
href="http://docs.biicode.com/">Docs</a></li><li><a
href="http://forum.biicode.com/">Forum</a></li></ul></li><li><a
href="https://www.biicode.com/accounts/login">Log in</a></li></ul> </nav><div
id="signup-bt"> <img
src="../wp-content/themes/truly-minimal-wpcom/img/header/bt-signup-on.jpg" /> <a
href="https://www.biicode.com/accounts/signup/"><img
class="top" src="../wp-content/themes/truly-minimal-wpcom/img/header/bt-signup-off.jpg" /></a></div> </header></div><p
id="breadcrumbs"><span
xmlns:v="http://rdf.data-vocabulary.org/#"><span
typeof="v:Breadcrumb"><a
href="../index.html" rel="v:url" property="v:title">Biicode Blog</a> » <span
rel="v:child" typeof="v:Breadcrumb"><a
href="../category/biicode/index.html" rel="v:url" property="v:title">biicode</a> » <strong
class="breadcrumb_last">bii internals: Automating MacOS pkg generation</strong></span></span></span></p></div></div><div
id="page" class="hfeed site"><div
id="main" class="site-main"><div
id="primary" class="content-area"><div
id="content" class="site-content" role="main"> <article
id="post-618" class="post-618 post type-post status-publish format-standard hentry category-biicode tag-bii-internals tag-biicode tag-mac tag-macos tag-pkg tag-pkgbuild tag-productbuild"> <header
class="entry-header"><h1 class="entry-title">bii internals: Automating MacOS pkg generation</h1><div
class="entry-meta"> Posted on <a
href="index.html" title="10:52" rel="bookmark"><time
class="entry-date" datetime="2014-06-06T10:52:36+00:00">June 6, 2014</time></a><span
class="byline"> by <span
class="author vcard"><a
class="url fn n" href="../author/julia/index.html" title="View all posts by julia" rel="author">julia</a></span></span></div> </header><div
class="entry-content"><p>In a previous posts we talked about how we <a
title="bii internals: Compiling your python application with Cython" href="../bii-internals-compiling-your-python-application-with-cython/index.html">cythonized</a> and <a
title="bii internals: Packaging a compiled app with PyInstaller" href="../bii-internals-packaging-a-compiled-app-with-pyinstaller/index.html">packaged biicode with pyinstaller</a>. Now we will explain how to generate installers for the different systems, starting with mac. The problem with pkg generation is that most of the existing tutorials and references are xcode oriented, and we just wanted to use plain console.</p><p><span
id="more-618"></span></p><p>Let’s get started on how generate a mac installer:</p><p>Before packaging we need to prepare a set of additional files: license and welcome text, background img, postinstall script and the Distribution.xml.</p><p><strong>Distribution.xm</strong>l is a distribution definition file which defines the installation experience for the installer package that contains it, you can read about its different options in the <a
href="https://developer.apple.com/library/mac/documentation/DeveloperTools/Reference/DistributionDefinitionRef/Chapters/Introduction.html#//apple_ref/doc/uid/TP40005370-CH1-SW1">Apple developers page</a>. A minimal Distribution.xml looks like this:</p><div
id="crayon-56886b0dbffac508793931" class="crayon-syntax crayon-theme-biicode crayon-font-inconsolata crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 14px !important; line-height: 15px !important;"><div
class="crayon-toolbar" data-settings=" mouseover hide delay" style="font-size: 14px !important;height: 21px !important; line-height: 21px !important;"><span
class="crayon-title">Distribution.xml</span><div
class="crayon-tools" style="font-size: 14px !important;height: 21px !important; line-height: 21px !important;"><span
class="crayon-mixed-highlight" title="Contains Mixed Languages"></span><div
class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div
class="crayon-button-icon"></div></div><div
class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div
class="crayon-button-icon"></div></div><div
class="crayon-button crayon-expand-button" title="Expand Code"><div
class="crayon-button-icon"></div></div><div
class="crayon-button crayon-copy-button" title="Copy"><div
class="crayon-button-icon"></div></div><div
class="crayon-button crayon-popup-button" title="Open Code In New Window"><div
class="crayon-button-icon"></div></div></div></div><div
class="crayon-info" style="min-height: 19.6px !important; line-height: 19.6px !important;"></div><div
class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 15px !important;">
&lt;?xml version="1.0" encoding="utf-8" standalone="yes"?&gt;
   &lt;installer-gui-script minSpecVersion="2"&gt;
   &lt;!--+==========================+
       |       Presentation       |
       +==========================+--&gt;
   &lt;title&gt;Biicode&lt;/title&gt;
   &lt;options customize="never" rootVolumeOnly="true"/&gt;
   &lt;welcome file="Welcome.rtf"/&gt;
   &lt;license file="license.rtf"/&gt;
   &lt;background file="background.png" scaling="proportional" alignment="bottomleft"/&gt;
   &lt;allowed-os-versions&gt;
       &lt;os-version min="10.9" /&gt;
   &lt;/allowed-os-versions&gt;
   &lt;options customize="never" require-scripts="false"/&gt;
   &lt;product id="biicode" version="%VERSION%" /&gt;
   &lt;!--+==========================+
       |         Installer        |
       +==========================+--&gt;
   &lt;choices-outline&gt;
       &lt;line choice="default"&gt;
           &lt;line choice="biicode"/&gt;
       &lt;/line&gt;
   &lt;/choices-outline&gt;
   &lt;choice id="default"/&gt;
   &lt;choice id="biicode" visible="false"&gt;
       &lt;pkg-ref id="biicode"/&gt;
   &lt;/choice&gt;
   &lt;!--+==========================+
       |    Package References    |
       +==========================+--&gt;
   &lt;pkg-ref id="biicode" version="%VERSION%" onConclusion="none"&gt;%PKG%&lt;/pkg-ref&gt;
&lt;/installer-gui-script&gt;</textarea></div><div
class="crayon-main" style=""><table
class="crayon-table"><tr
class="crayon-row"><td
class="crayon-nums " data-settings="show"><div
class="crayon-nums-content" style="font-size: 14px !important; line-height: 15px !important;"><div
class="crayon-num" data-line="crayon-56886b0dbffac508793931-1">1</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886b0dbffac508793931-2">2</div><div
class="crayon-num" data-line="crayon-56886b0dbffac508793931-3">3</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886b0dbffac508793931-4">4</div><div
class="crayon-num" data-line="crayon-56886b0dbffac508793931-5">5</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886b0dbffac508793931-6">6</div><div
class="crayon-num" data-line="crayon-56886b0dbffac508793931-7">7</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886b0dbffac508793931-8">8</div><div
class="crayon-num" data-line="crayon-56886b0dbffac508793931-9">9</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886b0dbffac508793931-10">10</div><div
class="crayon-num" data-line="crayon-56886b0dbffac508793931-11">11</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886b0dbffac508793931-12">12</div><div
class="crayon-num" data-line="crayon-56886b0dbffac508793931-13">13</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886b0dbffac508793931-14">14</div><div
class="crayon-num" data-line="crayon-56886b0dbffac508793931-15">15</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886b0dbffac508793931-16">16</div><div
class="crayon-num" data-line="crayon-56886b0dbffac508793931-17">17</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886b0dbffac508793931-18">18</div><div
class="crayon-num" data-line="crayon-56886b0dbffac508793931-19">19</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886b0dbffac508793931-20">20</div><div
class="crayon-num" data-line="crayon-56886b0dbffac508793931-21">21</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886b0dbffac508793931-22">22</div><div
class="crayon-num" data-line="crayon-56886b0dbffac508793931-23">23</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886b0dbffac508793931-24">24</div><div
class="crayon-num" data-line="crayon-56886b0dbffac508793931-25">25</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886b0dbffac508793931-26">26</div><div
class="crayon-num" data-line="crayon-56886b0dbffac508793931-27">27</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886b0dbffac508793931-28">28</div><div
class="crayon-num" data-line="crayon-56886b0dbffac508793931-29">29</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886b0dbffac508793931-30">30</div><div
class="crayon-num" data-line="crayon-56886b0dbffac508793931-31">31</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886b0dbffac508793931-32">32</div><div
class="crayon-num" data-line="crayon-56886b0dbffac508793931-33">33</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886b0dbffac508793931-34">34</div><div
class="crayon-num" data-line="crayon-56886b0dbffac508793931-35">35</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886b0dbffac508793931-36">36</div><div
class="crayon-num" data-line="crayon-56886b0dbffac508793931-37">37</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886b0dbffac508793931-38">38</div><div
class="crayon-num" data-line="crayon-56886b0dbffac508793931-39">39</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886b0dbffac508793931-40">40</div></div></td><td
class="crayon-code"><div
class="crayon-pre" style="font-size: 14px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div
class="crayon-line" id="crayon-56886b0dbffac508793931-1"><span
class="crayon-ta">&lt;?</span><span
class="crayon-e">xml </span><span
class="crayon-i">version</span><span
class="crayon-o">=</span><span
class="crayon-s">"1.0"</span><span
class="crayon-h"> </span><span
class="crayon-i">encoding</span><span
class="crayon-o">=</span><span
class="crayon-s">"utf-8"</span><span
class="crayon-h"> </span><span
class="crayon-i">standalone</span><span
class="crayon-o">=</span><span
class="crayon-s">"yes"</span><span
class="crayon-ta">?&gt;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886b0dbffac508793931-2"> <span
class="crayon-h"> </span> <span
class="crayon-o">&lt;</span><span
class="crayon-v">installer</span><span
class="crayon-o">-</span><span
class="crayon-v">gui</span><span
class="crayon-o">-</span><span
class="crayon-e">script </span><span
class="crayon-v">minSpecVersion</span><span
class="crayon-o">=</span><span
class="crayon-s">"2"</span><span
class="crayon-o">&gt;</span></div><div
class="crayon-line" id="crayon-56886b0dbffac508793931-3">&nbsp;</div><div
class="crayon-line crayon-striped-line" id="crayon-56886b0dbffac508793931-4">   <span
class="crayon-o">&lt;</span><span
class="crayon-o">!</span><span
class="crayon-o">--</span><span
class="crayon-o">+=</span><span
class="crayon-o">===</span><span
class="crayon-o">===</span><span
class="crayon-o">===</span><span
class="crayon-o">===</span><span
class="crayon-o">===</span><span
class="crayon-o">===</span><span
class="crayon-o">===</span><span
class="crayon-o">===</span><span
class="crayon-o">=</span><span
class="crayon-o">+</span></div><div
class="crayon-line" id="crayon-56886b0dbffac508793931-5">       <span
class="crayon-o">|</span><span
class="crayon-h"> </span>      <span
class="crayon-i">Presentation</span><span
class="crayon-h"> </span>      <span
class="crayon-o">|</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886b0dbffac508793931-6">       <span
class="crayon-o">+=</span><span
class="crayon-o">===</span><span
class="crayon-o">===</span><span
class="crayon-o">===</span><span
class="crayon-o">===</span><span
class="crayon-o">===</span><span
class="crayon-o">===</span><span
class="crayon-o">===</span><span
class="crayon-o">===</span><span
class="crayon-o">=</span><span
class="crayon-o">+</span><span
class="crayon-o">--</span><span
class="crayon-o">&gt;</span></div><div
class="crayon-line" id="crayon-56886b0dbffac508793931-7">&nbsp;</div><div
class="crayon-line crayon-striped-line" id="crayon-56886b0dbffac508793931-8">   <span
class="crayon-o">&lt;</span><span
class="crayon-v">title</span><span
class="crayon-o">&gt;</span><span
class="crayon-v">Biicode</span><span
class="crayon-o">&lt;</span><span
class="crayon-o">/</span><span
class="crayon-v">title</span><span
class="crayon-o">&gt;</span></div><div
class="crayon-line" id="crayon-56886b0dbffac508793931-9">   <span
class="crayon-o">&lt;</span><span
class="crayon-e">options </span><span
class="crayon-v">customize</span><span
class="crayon-o">=</span><span
class="crayon-s">"never"</span><span
class="crayon-h"> </span><span
class="crayon-v">rootVolumeOnly</span><span
class="crayon-o">=</span><span
class="crayon-s">"true"</span><span
class="crayon-o">/</span><span
class="crayon-o">&gt;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886b0dbffac508793931-10">   <span
class="crayon-o">&lt;</span><span
class="crayon-e">welcome </span><span
class="crayon-v">file</span><span
class="crayon-o">=</span><span
class="crayon-s">"Welcome.rtf"</span><span
class="crayon-o">/</span><span
class="crayon-o">&gt;</span></div><div
class="crayon-line" id="crayon-56886b0dbffac508793931-11">   <span
class="crayon-o">&lt;</span><span
class="crayon-e">license </span><span
class="crayon-v">file</span><span
class="crayon-o">=</span><span
class="crayon-s">"license.rtf"</span><span
class="crayon-o">/</span><span
class="crayon-o">&gt;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886b0dbffac508793931-12">   <span
class="crayon-o">&lt;</span><span
class="crayon-e">background </span><span
class="crayon-v">file</span><span
class="crayon-o">=</span><span
class="crayon-s">"background.png"</span><span
class="crayon-h"> </span><span
class="crayon-v">scaling</span><span
class="crayon-o">=</span><span
class="crayon-s">"proportional"</span><span
class="crayon-h"> </span><span
class="crayon-v">alignment</span><span
class="crayon-o">=</span><span
class="crayon-s">"bottomleft"</span><span
class="crayon-o">/</span><span
class="crayon-o">&gt;</span></div><div
class="crayon-line" id="crayon-56886b0dbffac508793931-13">&nbsp;</div><div
class="crayon-line crayon-striped-line" id="crayon-56886b0dbffac508793931-14">   <span
class="crayon-o">&lt;</span><span
class="crayon-v">allowed</span><span
class="crayon-o">-</span><span
class="crayon-v">os</span><span
class="crayon-o">-</span><span
class="crayon-v">versions</span><span
class="crayon-o">&gt;</span></div><div
class="crayon-line" id="crayon-56886b0dbffac508793931-15">       <span
class="crayon-o">&lt;</span><span
class="crayon-v">os</span><span
class="crayon-o">-</span><span
class="crayon-e">version </span><span
class="crayon-v">min</span><span
class="crayon-o">=</span><span
class="crayon-s">"10.9"</span><span
class="crayon-h"> </span><span
class="crayon-o">/</span><span
class="crayon-o">&gt;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886b0dbffac508793931-16">   <span
class="crayon-o">&lt;</span><span
class="crayon-o">/</span><span
class="crayon-v">allowed</span><span
class="crayon-o">-</span><span
class="crayon-v">os</span><span
class="crayon-o">-</span><span
class="crayon-v">versions</span><span
class="crayon-o">&gt;</span></div><div
class="crayon-line" id="crayon-56886b0dbffac508793931-17">&nbsp;</div><div
class="crayon-line crayon-striped-line" id="crayon-56886b0dbffac508793931-18">   <span
class="crayon-o">&lt;</span><span
class="crayon-e">options </span><span
class="crayon-v">customize</span><span
class="crayon-o">=</span><span
class="crayon-s">"never"</span><span
class="crayon-h"> </span><span
class="crayon-v">require</span><span
class="crayon-o">-</span><span
class="crayon-v">scripts</span><span
class="crayon-o">=</span><span
class="crayon-s">"false"</span><span
class="crayon-o">/</span><span
class="crayon-o">&gt;</span></div><div
class="crayon-line" id="crayon-56886b0dbffac508793931-19">   <span
class="crayon-o">&lt;</span><span
class="crayon-e">product </span><span
class="crayon-v">id</span><span
class="crayon-o">=</span><span
class="crayon-s">"biicode"</span><span
class="crayon-h"> </span><span
class="crayon-v">version</span><span
class="crayon-o">=</span><span
class="crayon-s">"%VERSION%"</span><span
class="crayon-h"> </span><span
class="crayon-o">/</span><span
class="crayon-o">&gt;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886b0dbffac508793931-20">&nbsp;</div><div
class="crayon-line" id="crayon-56886b0dbffac508793931-21">   <span
class="crayon-o">&lt;</span><span
class="crayon-o">!</span><span
class="crayon-o">--</span><span
class="crayon-o">+=</span><span
class="crayon-o">===</span><span
class="crayon-o">===</span><span
class="crayon-o">===</span><span
class="crayon-o">===</span><span
class="crayon-o">===</span><span
class="crayon-o">===</span><span
class="crayon-o">===</span><span
class="crayon-o">===</span><span
class="crayon-o">=</span><span
class="crayon-o">+</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886b0dbffac508793931-22">       <span
class="crayon-o">|</span><span
class="crayon-h"> </span>        <span
class="crayon-i">Installer</span><span
class="crayon-h"> </span>       <span
class="crayon-o">|</span></div><div
class="crayon-line" id="crayon-56886b0dbffac508793931-23">       <span
class="crayon-o">+=</span><span
class="crayon-o">===</span><span
class="crayon-o">===</span><span
class="crayon-o">===</span><span
class="crayon-o">===</span><span
class="crayon-o">===</span><span
class="crayon-o">===</span><span
class="crayon-o">===</span><span
class="crayon-o">===</span><span
class="crayon-o">=</span><span
class="crayon-o">+</span><span
class="crayon-o">--</span><span
class="crayon-o">&gt;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886b0dbffac508793931-24">&nbsp;</div><div
class="crayon-line" id="crayon-56886b0dbffac508793931-25">   <span
class="crayon-o">&lt;</span><span
class="crayon-v">choices</span><span
class="crayon-o">-</span><span
class="crayon-v">outline</span><span
class="crayon-o">&gt;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886b0dbffac508793931-26">       <span
class="crayon-o">&lt;</span><span
class="crayon-e">line </span><span
class="crayon-v">choice</span><span
class="crayon-o">=</span><span
class="crayon-s">"default"</span><span
class="crayon-o">&gt;</span></div><div
class="crayon-line" id="crayon-56886b0dbffac508793931-27">           <span
class="crayon-o">&lt;</span><span
class="crayon-e">line </span><span
class="crayon-v">choice</span><span
class="crayon-o">=</span><span
class="crayon-s">"biicode"</span><span
class="crayon-o">/</span><span
class="crayon-o">&gt;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886b0dbffac508793931-28">       <span
class="crayon-o">&lt;</span><span
class="crayon-o">/</span><span
class="crayon-v">line</span><span
class="crayon-o">&gt;</span></div><div
class="crayon-line" id="crayon-56886b0dbffac508793931-29">   <span
class="crayon-o">&lt;</span><span
class="crayon-o">/</span><span
class="crayon-v">choices</span><span
class="crayon-o">-</span><span
class="crayon-v">outline</span><span
class="crayon-o">&gt;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886b0dbffac508793931-30">   <span
class="crayon-o">&lt;</span><span
class="crayon-e">choice </span><span
class="crayon-v">id</span><span
class="crayon-o">=</span><span
class="crayon-s">"default"</span><span
class="crayon-o">/</span><span
class="crayon-o">&gt;</span></div><div
class="crayon-line" id="crayon-56886b0dbffac508793931-31">   <span
class="crayon-o">&lt;</span><span
class="crayon-e">choice </span><span
class="crayon-v">id</span><span
class="crayon-o">=</span><span
class="crayon-s">"biicode"</span><span
class="crayon-h"> </span><span
class="crayon-v">visible</span><span
class="crayon-o">=</span><span
class="crayon-s">"false"</span><span
class="crayon-o">&gt;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886b0dbffac508793931-32">       <span
class="crayon-o">&lt;</span><span
class="crayon-v">pkg</span><span
class="crayon-o">-</span><span
class="crayon-e">ref </span><span
class="crayon-v">id</span><span
class="crayon-o">=</span><span
class="crayon-s">"biicode"</span><span
class="crayon-o">/</span><span
class="crayon-o">&gt;</span></div><div
class="crayon-line" id="crayon-56886b0dbffac508793931-33">   <span
class="crayon-o">&lt;</span><span
class="crayon-o">/</span><span
class="crayon-v">choice</span><span
class="crayon-o">&gt;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886b0dbffac508793931-34">&nbsp;</div><div
class="crayon-line" id="crayon-56886b0dbffac508793931-35">   <span
class="crayon-o">&lt;</span><span
class="crayon-o">!</span><span
class="crayon-o">--</span><span
class="crayon-o">+=</span><span
class="crayon-o">===</span><span
class="crayon-o">===</span><span
class="crayon-o">===</span><span
class="crayon-o">===</span><span
class="crayon-o">===</span><span
class="crayon-o">===</span><span
class="crayon-o">===</span><span
class="crayon-o">===</span><span
class="crayon-o">=</span><span
class="crayon-o">+</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886b0dbffac508793931-36">       <span
class="crayon-o">|</span><span
class="crayon-h"> </span>   <span
class="crayon-t">Package</span><span
class="crayon-h"> </span><span
class="crayon-i">References</span><span
class="crayon-h"> </span>   <span
class="crayon-o">|</span></div><div
class="crayon-line" id="crayon-56886b0dbffac508793931-37">       <span
class="crayon-o">+=</span><span
class="crayon-o">===</span><span
class="crayon-o">===</span><span
class="crayon-o">===</span><span
class="crayon-o">===</span><span
class="crayon-o">===</span><span
class="crayon-o">===</span><span
class="crayon-o">===</span><span
class="crayon-o">===</span><span
class="crayon-o">=</span><span
class="crayon-o">+</span><span
class="crayon-o">--</span><span
class="crayon-o">&gt;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886b0dbffac508793931-38">&nbsp;</div><div
class="crayon-line" id="crayon-56886b0dbffac508793931-39">   <span
class="crayon-o">&lt;</span><span
class="crayon-v">pkg</span><span
class="crayon-o">-</span><span
class="crayon-e">ref </span><span
class="crayon-v">id</span><span
class="crayon-o">=</span><span
class="crayon-s">"biicode"</span><span
class="crayon-h"> </span><span
class="crayon-v">version</span><span
class="crayon-o">=</span><span
class="crayon-s">"%VERSION%"</span><span
class="crayon-h"> </span><span
class="crayon-v">onConclusion</span><span
class="crayon-o">=</span><span
class="crayon-s">"none"</span><span
class="crayon-o">&gt;</span><span
class="crayon-o">%</span><span
class="crayon-v">PKG</span><span
class="crayon-o">%</span><span
class="crayon-o">&lt;</span><span
class="crayon-o">/</span><span
class="crayon-v">pkg</span><span
class="crayon-o">-</span><span
class="crayon-v">ref</span><span
class="crayon-o">&gt;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886b0dbffac508793931-40"><span
class="crayon-o">&lt;</span><span
class="crayon-o">/</span><span
class="crayon-v">installer</span><span
class="crayon-o">-</span><span
class="crayon-v">gui</span><span
class="crayon-o">-</span><span
class="crayon-v">script</span><span
class="crayon-o">&gt;</span></div></div></td></tr></table></div></div><p><strong>postinstall</strong> script is a script that runs as super user after installation is complete. In our case it will set permissions and create a symbolic link in the PATH:</p><div
id="crayon-56886b0dbffbf962085792" class="crayon-syntax crayon-theme-biicode crayon-font-inconsolata crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 14px !important; line-height: 15px !important;"><div
class="crayon-toolbar" data-settings=" mouseover hide delay" style="font-size: 14px !important;height: 21px !important; line-height: 21px !important;"><span
class="crayon-title"></span><div
class="crayon-tools" style="font-size: 14px !important;height: 21px !important; line-height: 21px !important;"><div
class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div
class="crayon-button-icon"></div></div><div
class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div
class="crayon-button-icon"></div></div><div
class="crayon-button crayon-expand-button" title="Expand Code"><div
class="crayon-button-icon"></div></div><div
class="crayon-button crayon-copy-button" title="Copy"><div
class="crayon-button-icon"></div></div><div
class="crayon-button crayon-popup-button" title="Open Code In New Window"><div
class="crayon-button-icon"></div></div></div></div><div
class="crayon-info" style="min-height: 19.6px !important; line-height: 19.6px !important;"></div><div
class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 15px !important;">
#!/usr/bin/env bash
echo "Setting permissions"
sudo chmod -R a+rx /usr/lib/biicode
echo "Creating symlink"
sudo ln -f -s /usr/lib/biicode/bii /usr/bin/bii</textarea></div><div
class="crayon-main" style=""><table
class="crayon-table"><tr
class="crayon-row"><td
class="crayon-nums " data-settings="show"><div
class="crayon-nums-content" style="font-size: 14px !important; line-height: 15px !important;"><div
class="crayon-num" data-line="crayon-56886b0dbffbf962085792-1">1</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886b0dbffbf962085792-2">2</div><div
class="crayon-num" data-line="crayon-56886b0dbffbf962085792-3">3</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886b0dbffbf962085792-4">4</div><div
class="crayon-num" data-line="crayon-56886b0dbffbf962085792-5">5</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886b0dbffbf962085792-6">6</div></div></td><td
class="crayon-code"><div
class="crayon-pre" style="font-size: 14px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div
class="crayon-line" id="crayon-56886b0dbffbf962085792-1"><span
class="crayon-p">#!/usr/bin/env bash</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886b0dbffbf962085792-2">&nbsp;</div><div
class="crayon-line" id="crayon-56886b0dbffbf962085792-3"><span
class="crayon-i">echo</span><span
class="crayon-h"> </span><span
class="crayon-s">"Setting permissions"</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886b0dbffbf962085792-4"><span
class="crayon-e">sudo </span><span
class="crayon-v">chmod</span><span
class="crayon-h"> </span><span
class="crayon-o">-</span><span
class="crayon-i">R</span><span
class="crayon-h"> </span><span
class="crayon-v">a</span><span
class="crayon-o">+</span><span
class="crayon-v">rx</span><span
class="crayon-h"> </span><span
class="crayon-o">/</span><span
class="crayon-v">usr</span><span
class="crayon-o">/</span><span
class="crayon-v">lib</span><span
class="crayon-o">/</span><span
class="crayon-e">biicode</span></div><div
class="crayon-line" id="crayon-56886b0dbffbf962085792-5"><span
class="crayon-i">echo</span><span
class="crayon-h"> </span><span
class="crayon-s">"Creating symlink"</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886b0dbffbf962085792-6"><span
class="crayon-e">sudo </span><span
class="crayon-v">ln</span><span
class="crayon-h"> </span><span
class="crayon-o">-</span><span
class="crayon-v">f</span><span
class="crayon-h"> </span><span
class="crayon-o">-</span><span
class="crayon-v">s</span><span
class="crayon-h"> </span><span
class="crayon-o">/</span><span
class="crayon-v">usr</span><span
class="crayon-o">/</span><span
class="crayon-v">lib</span><span
class="crayon-o">/</span><span
class="crayon-v">biicode</span><span
class="crayon-o">/</span><span
class="crayon-v">bii</span><span
class="crayon-h"> </span><span
class="crayon-o">/</span><span
class="crayon-v">usr</span><span
class="crayon-o">/</span><span
class="crayon-v">bin</span><span
class="crayon-o">/</span><span
class="crayon-v">bii</span></div></div></td></tr></table></div></div><p><strong>Welcome.rtf</strong> is the rich text that appears in the first step of the installation wizard, that looks like this:</p><div
id="attachment_619" style="width: 640px" class="wp-caption aligncenter"><img
class="wp-image-619" src="../wp-content/uploads/sites/2/2014/06/wizard1.png" alt="Biicode installation Wizard: Welcome" width="630" height="447" /><p
class="wp-caption-text">Biicode installation Wizard: Welcome</p></div><p><strong>background.png</strong> is the image containing the bee you se above.</p><p><strong>license.rtf</strong> contains the license users need to accept in the next step.</p><div
id="attachment_620" style="width: 640px" class="wp-caption aligncenter"><img
class="wp-image-620 size-full" src="../wp-content/uploads/sites/2/2014/06/wizard2.png" alt="Biicode installation Wizard: License" width="630" height="440" /><p
class="wp-caption-text">Biicode installation Wizard: License</p></div><p>Both Welcome and license can be in different languages with the proper suffixes so they will display in the user’s language.</p><p>In our automation repo we have all these files in a folder like this:</p><div
id="crayon-56886b0dbffca337015185" class="crayon-syntax crayon-theme-biicode crayon-font-inconsolata crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 14px !important; line-height: 15px !important;"><div
class="crayon-toolbar" data-settings=" mouseover hide delay" style="font-size: 14px !important;height: 21px !important; line-height: 21px !important;"><span
class="crayon-title"></span><div
class="crayon-tools" style="font-size: 14px !important;height: 21px !important; line-height: 21px !important;"><div
class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div
class="crayon-button-icon"></div></div><div
class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div
class="crayon-button-icon"></div></div><div
class="crayon-button crayon-expand-button" title="Expand Code"><div
class="crayon-button-icon"></div></div><div
class="crayon-button crayon-copy-button" title="Copy"><div
class="crayon-button-icon"></div></div><div
class="crayon-button crayon-popup-button" title="Open Code In New Window"><div
class="crayon-button-icon"></div></div></div></div><div
class="crayon-info" style="min-height: 19.6px !important; line-height: 19.6px !important;"></div><div
class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 15px !important;">
resources
├── macos
   ├── Distribution.xml
   ├── Resources
   │   ├── Welcome.rtf
   │   ├── background.png
   │   └── license.rtf
   └── scripts
       └── postinstall</textarea></div><div
class="crayon-main" style=""><table
class="crayon-table"><tr
class="crayon-row"><td
class="crayon-nums " data-settings="show"><div
class="crayon-nums-content" style="font-size: 14px !important; line-height: 15px !important;"><div
class="crayon-num" data-line="crayon-56886b0dbffca337015185-1">1</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886b0dbffca337015185-2">2</div><div
class="crayon-num" data-line="crayon-56886b0dbffca337015185-3">3</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886b0dbffca337015185-4">4</div><div
class="crayon-num" data-line="crayon-56886b0dbffca337015185-5">5</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886b0dbffca337015185-6">6</div><div
class="crayon-num" data-line="crayon-56886b0dbffca337015185-7">7</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886b0dbffca337015185-8">8</div><div
class="crayon-num" data-line="crayon-56886b0dbffca337015185-9">9</div></div></td><td
class="crayon-code"><div
class="crayon-pre" style="font-size: 14px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div
class="crayon-line" id="crayon-56886b0dbffca337015185-1"><span
class="crayon-i">resources</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886b0dbffca337015185-2">├──<span
class="crayon-h"> </span><span
class="crayon-i">macos</span></div><div
class="crayon-line" id="crayon-56886b0dbffca337015185-3">   ├──<span
class="crayon-h"> </span><span
class="crayon-v">Distribution</span><span
class="crayon-sy">.</span><span
class="crayon-i">xml</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886b0dbffca337015185-4">   ├──<span
class="crayon-h"> </span><span
class="crayon-i">Resources</span></div><div
class="crayon-line" id="crayon-56886b0dbffca337015185-5">   │<span
class="crayon-h"> </span>  ├──<span
class="crayon-h"> </span><span
class="crayon-v">Welcome</span><span
class="crayon-sy">.</span><span
class="crayon-i">rtf</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886b0dbffca337015185-6">   │<span
class="crayon-h"> </span>  ├──<span
class="crayon-h"> </span><span
class="crayon-v">background</span><span
class="crayon-sy">.</span><span
class="crayon-i">png</span></div><div
class="crayon-line" id="crayon-56886b0dbffca337015185-7">   │<span
class="crayon-h"> </span>  └──<span
class="crayon-h"> </span><span
class="crayon-v">license</span><span
class="crayon-sy">.</span><span
class="crayon-i">rtf</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886b0dbffca337015185-8">   └──<span
class="crayon-h"> </span><span
class="crayon-i">scripts</span></div><div
class="crayon-line" id="crayon-56886b0dbffca337015185-9">       └──<span
class="crayon-h"> </span><span
class="crayon-v">postinstall</span></div></div></td></tr></table></div></div><p>Now that we have everything set up we can start packaging, the main script looks like this:</p><div
id="crayon-56886b0dbffd3724289059" class="crayon-syntax crayon-theme-biicode crayon-font-inconsolata crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 14px !important; line-height: 15px !important;"><div
class="crayon-toolbar" data-settings=" mouseover hide delay" style="font-size: 14px !important;height: 21px !important; line-height: 21px !important;"><span
class="crayon-title"></span><div
class="crayon-tools" style="font-size: 14px !important;height: 21px !important; line-height: 21px !important;"><div
class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div
class="crayon-button-icon"></div></div><div
class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div
class="crayon-button-icon"></div></div><div
class="crayon-button crayon-expand-button" title="Expand Code"><div
class="crayon-button-icon"></div></div><div
class="crayon-button crayon-copy-button" title="Copy"><div
class="crayon-button-icon"></div></div><div
class="crayon-button crayon-popup-button" title="Open Code In New Window"><div
class="crayon-button-icon"></div></div><span
class="crayon-language">Python</span></div></div><div
class="crayon-info" style="min-height: 19.6px !important; line-height: 19.6px !important;"></div><div
class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 15px !important;">
import os
import sys
import tempfile
folder_tmp = tempfile.mkdtemp(suffix='biicode')
   pkg_path = os.path.join(folder_tmp, 'tmpbiicode.pkg')
   resources = os.path.join(os.path.dirname(__file__), 'resources/macos/')
   retcode = create_package_from_sources(binary_path, pkg_path, resources)
   if retcode == 0:
       retcode = create_product_package(folder_tmp, resources)
   sys.exit(retcode)</textarea></div><div
class="crayon-main" style=""><table
class="crayon-table"><tr
class="crayon-row"><td
class="crayon-nums " data-settings="show"><div
class="crayon-nums-content" style="font-size: 14px !important; line-height: 15px !important;"><div
class="crayon-num" data-line="crayon-56886b0dbffd3724289059-1">1</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886b0dbffd3724289059-2">2</div><div
class="crayon-num" data-line="crayon-56886b0dbffd3724289059-3">3</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886b0dbffd3724289059-4">4</div><div
class="crayon-num" data-line="crayon-56886b0dbffd3724289059-5">5</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886b0dbffd3724289059-6">6</div><div
class="crayon-num" data-line="crayon-56886b0dbffd3724289059-7">7</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886b0dbffd3724289059-8">8</div><div
class="crayon-num" data-line="crayon-56886b0dbffd3724289059-9">9</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886b0dbffd3724289059-10">10</div><div
class="crayon-num" data-line="crayon-56886b0dbffd3724289059-11">11</div></div></td><td
class="crayon-code"><div
class="crayon-pre" style="font-size: 14px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div
class="crayon-line" id="crayon-56886b0dbffd3724289059-1"><span
class="crayon-r">import</span><span
class="crayon-h"> </span><span
class="crayon-k ">os</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886b0dbffd3724289059-2"><span
class="crayon-r">import</span><span
class="crayon-h"> </span><span
class="crayon-k ">sys</span></div><div
class="crayon-line" id="crayon-56886b0dbffd3724289059-3"><span
class="crayon-r">import</span><span
class="crayon-h"> </span><span
class="crayon-k ">tempfile</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886b0dbffd3724289059-4">&nbsp;</div><div
class="crayon-line" id="crayon-56886b0dbffd3724289059-5"><span
class="crayon-v">folder_tmp</span><span
class="crayon-h"> </span><span
class="crayon-o">=</span><span
class="crayon-h"> </span><span
class="crayon-k ">tempfile</span><span
class="crayon-sy">.</span><span
class="crayon-e">mkdtemp</span><span
class="crayon-sy">(</span><span
class="crayon-v">suffix</span><span
class="crayon-o">=</span><span
class="crayon-s">'biicode'</span><span
class="crayon-sy">)</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886b0dbffd3724289059-6">   <span
class="crayon-v">pkg_path</span><span
class="crayon-h"> </span><span
class="crayon-o">=</span><span
class="crayon-h"> </span><span
class="crayon-k ">os.path</span><span
class="crayon-sy">.</span><span
class="crayon-e">join</span><span
class="crayon-sy">(</span><span
class="crayon-v">folder_tmp</span><span
class="crayon-sy">,</span><span
class="crayon-h"> </span><span
class="crayon-s">'tmpbiicode.pkg'</span><span
class="crayon-sy">)</span></div><div
class="crayon-line" id="crayon-56886b0dbffd3724289059-7">   <span
class="crayon-v">resources</span><span
class="crayon-h"> </span><span
class="crayon-o">=</span><span
class="crayon-h"> </span><span
class="crayon-k ">os.path</span><span
class="crayon-sy">.</span><span
class="crayon-e">join</span><span
class="crayon-sy">(</span><span
class="crayon-k ">os.path</span><span
class="crayon-sy">.</span><span
class="crayon-e">dirname</span><span
class="crayon-sy">(</span><span
class="crayon-v">__file__</span><span
class="crayon-sy">)</span><span
class="crayon-sy">,</span><span
class="crayon-h"> </span><span
class="crayon-s">'resources/macos/'</span><span
class="crayon-sy">)</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886b0dbffd3724289059-8">   <span
class="crayon-v">retcode</span><span
class="crayon-h"> </span><span
class="crayon-o">=</span><span
class="crayon-h"> </span><span
class="crayon-e">create_package_from_sources</span><span
class="crayon-sy">(</span><span
class="crayon-v">binary_path</span><span
class="crayon-sy">,</span><span
class="crayon-h"> </span><span
class="crayon-v">pkg_path</span><span
class="crayon-sy">,</span><span
class="crayon-h"> </span><span
class="crayon-v">resources</span><span
class="crayon-sy">)</span></div><div
class="crayon-line" id="crayon-56886b0dbffd3724289059-9">   <span
class="crayon-st">if</span><span
class="crayon-h"> </span><span
class="crayon-v">retcode</span><span
class="crayon-h"> </span><span
class="crayon-o">==</span><span
class="crayon-h"> </span><span
class="crayon-cn">0</span><span
class="crayon-o">:</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886b0dbffd3724289059-10">       <span
class="crayon-v">retcode</span><span
class="crayon-h"> </span><span
class="crayon-o">=</span><span
class="crayon-h"> </span><span
class="crayon-e">create_product_package</span><span
class="crayon-sy">(</span><span
class="crayon-v">folder_tmp</span><span
class="crayon-sy">,</span><span
class="crayon-h"> </span><span
class="crayon-v">resources</span><span
class="crayon-sy">)</span></div><div
class="crayon-line" id="crayon-56886b0dbffd3724289059-11">   <span
class="crayon-k ">sys</span><span
class="crayon-sy">.</span><span
class="crayon-e">exit</span><span
class="crayon-sy">(</span><span
class="crayon-v">retcode</span><span
class="crayon-sy">)</span></div></div></td></tr></table></div></div><p>This script, creates a temporary directory to work in, creates the base package, patches the distribution file and creates the final pkg to release. binary_path is the path to the app processed by PyInstaller.</p><div
id="crayon-56886b0dbffdd425483825" class="crayon-syntax crayon-theme-biicode crayon-font-inconsolata crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 14px !important; line-height: 15px !important;"><div
class="crayon-toolbar" data-settings=" mouseover hide delay" style="font-size: 14px !important;height: 21px !important; line-height: 21px !important;"><span
class="crayon-title"></span><div
class="crayon-tools" style="font-size: 14px !important;height: 21px !important; line-height: 21px !important;"><div
class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div
class="crayon-button-icon"></div></div><div
class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div
class="crayon-button-icon"></div></div><div
class="crayon-button crayon-expand-button" title="Expand Code"><div
class="crayon-button-icon"></div></div><div
class="crayon-button crayon-copy-button" title="Copy"><div
class="crayon-button-icon"></div></div><div
class="crayon-button crayon-popup-button" title="Open Code In New Window"><div
class="crayon-button-icon"></div></div><span
class="crayon-language">Python</span></div></div><div
class="crayon-info" style="min-height: 19.6px !important; line-height: 19.6px !important;"></div><div
class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 15px !important;">
def create_package_from_sources(binary_path, pkg_path, resources):
   try:
       shutil.copytree(os.path.join(resources, 'Resources'),
                       os.path.join(os.path.split(binary_path)[0],
                       'Resources'))
   except:
       pass
   command = 'pkgbuild --root %s/ %s --scripts %s/scripts ' \
              % (os.path.split(binary)[0], pkg_path, resources)
   command += '--identifier biicode --version %s ' % version
   command += '--install-location usr/lib/biicode'
   print command
   return os.system(command)</textarea></div><div
class="crayon-main" style=""><table
class="crayon-table"><tr
class="crayon-row"><td
class="crayon-nums " data-settings="show"><div
class="crayon-nums-content" style="font-size: 14px !important; line-height: 15px !important;"><div
class="crayon-num" data-line="crayon-56886b0dbffdd425483825-1">1</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886b0dbffdd425483825-2">2</div><div
class="crayon-num" data-line="crayon-56886b0dbffdd425483825-3">3</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886b0dbffdd425483825-4">4</div><div
class="crayon-num" data-line="crayon-56886b0dbffdd425483825-5">5</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886b0dbffdd425483825-6">6</div><div
class="crayon-num" data-line="crayon-56886b0dbffdd425483825-7">7</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886b0dbffdd425483825-8">8</div><div
class="crayon-num" data-line="crayon-56886b0dbffdd425483825-9">9</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886b0dbffdd425483825-10">10</div><div
class="crayon-num" data-line="crayon-56886b0dbffdd425483825-11">11</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886b0dbffdd425483825-12">12</div><div
class="crayon-num" data-line="crayon-56886b0dbffdd425483825-13">13</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886b0dbffdd425483825-14">14</div><div
class="crayon-num" data-line="crayon-56886b0dbffdd425483825-15">15</div></div></td><td
class="crayon-code"><div
class="crayon-pre" style="font-size: 14px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div
class="crayon-line" id="crayon-56886b0dbffdd425483825-1"><span
class="crayon-r">def</span><span
class="crayon-h"> </span><span
class="crayon-e">create_package_from_sources</span><span
class="crayon-sy">(</span><span
class="crayon-v">binary_path</span><span
class="crayon-sy">,</span><span
class="crayon-h"> </span><span
class="crayon-v">pkg_path</span><span
class="crayon-sy">,</span><span
class="crayon-h"> </span><span
class="crayon-v">resources</span><span
class="crayon-sy">)</span><span
class="crayon-o">:</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886b0dbffdd425483825-2">   <span
class="crayon-st">try</span><span
class="crayon-o">:</span></div><div
class="crayon-line" id="crayon-56886b0dbffdd425483825-3">       <span
class="crayon-k ">shutil</span><span
class="crayon-sy">.</span><span
class="crayon-e">copytree</span><span
class="crayon-sy">(</span><span
class="crayon-k ">os.path</span><span
class="crayon-sy">.</span><span
class="crayon-e">join</span><span
class="crayon-sy">(</span><span
class="crayon-v">resources</span><span
class="crayon-sy">,</span><span
class="crayon-h"> </span><span
class="crayon-s">'Resources'</span><span
class="crayon-sy">)</span><span
class="crayon-sy">,</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886b0dbffdd425483825-4">                       <span
class="crayon-k ">os.path</span><span
class="crayon-sy">.</span><span
class="crayon-e">join</span><span
class="crayon-sy">(</span><span
class="crayon-k ">os.path</span><span
class="crayon-sy">.</span><span
class="crayon-e">split</span><span
class="crayon-sy">(</span><span
class="crayon-v">binary_path</span><span
class="crayon-sy">)</span><span
class="crayon-sy">[</span><span
class="crayon-cn">0</span><span
class="crayon-sy">]</span><span
class="crayon-sy">,</span></div><div
class="crayon-line" id="crayon-56886b0dbffdd425483825-5"><span
class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class="crayon-s">'Resources'</span><span
class="crayon-sy">)</span><span
class="crayon-sy">)</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886b0dbffdd425483825-6">   <span
class="crayon-st">except</span><span
class="crayon-o">:</span></div><div
class="crayon-line" id="crayon-56886b0dbffdd425483825-7">       <span
class="crayon-r">pass</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886b0dbffdd425483825-8">&nbsp;</div><div
class="crayon-line" id="crayon-56886b0dbffdd425483825-9">   <span
class="crayon-v">command</span><span
class="crayon-h"> </span><span
class="crayon-o">=</span><span
class="crayon-h"> </span><span
class="crayon-s">'pkgbuild --root %s/ %s --scripts %s/scripts '</span><span
class="crayon-h"> </span><span
class="crayon-sy">\</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886b0dbffdd425483825-10"><span
class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="crayon-o">%</span><span
class="crayon-h"> </span><span
class="crayon-sy">(</span><span
class="crayon-k ">os.path</span><span
class="crayon-sy">.</span><span
class="crayon-e">split</span><span
class="crayon-sy">(</span><span
class="crayon-v">binary</span><span
class="crayon-sy">)</span><span
class="crayon-sy">[</span><span
class="crayon-cn">0</span><span
class="crayon-sy">]</span><span
class="crayon-sy">,</span><span
class="crayon-h"> </span><span
class="crayon-v">pkg_path</span><span
class="crayon-sy">,</span><span
class="crayon-h"> </span><span
class="crayon-v">resources</span><span
class="crayon-sy">)</span></div><div
class="crayon-line" id="crayon-56886b0dbffdd425483825-11">   <span
class="crayon-v">command</span><span
class="crayon-h"> </span><span
class="crayon-o">+=</span><span
class="crayon-h"> </span><span
class="crayon-s">'--identifier biicode --version %s '</span><span
class="crayon-h"> </span><span
class="crayon-o">%</span><span
class="crayon-h"> </span><span
class="crayon-i">version</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886b0dbffdd425483825-12">   <span
class="crayon-v">command</span><span
class="crayon-h"> </span><span
class="crayon-o">+=</span><span
class="crayon-h"> </span><span
class="crayon-s">'--install-location usr/lib/biicode'</span></div><div
class="crayon-line" id="crayon-56886b0dbffdd425483825-13">&nbsp;</div><div
class="crayon-line crayon-striped-line" id="crayon-56886b0dbffdd425483825-14">   <span
class="crayon-k ">print</span><span
class="crayon-h"> </span><span
class="crayon-i">command</span></div><div
class="crayon-line" id="crayon-56886b0dbffdd425483825-15">   <span
class="crayon-st">return</span><span
class="crayon-h"> </span><span
class="crayon-k ">os</span><span
class="crayon-sy">.</span><span
class="crayon-e">system</span><span
class="crayon-sy">(</span><span
class="crayon-v">command</span><span
class="crayon-sy">)</span></div></div></td></tr></table></div></div><p>So we copy the previously mentioned files (resources) to a Resources file in the pyinstaller generated folder and invoke pkgbuild.</p><p>pkgbuild builds an OS X Installer component package from on-disk files. A “component package” contains payload to be installed by the OS X Installer. Although a component<br
/> package can be installed on its own, it is typically incorporated into a product archive, along with a “distribution” and localized resources, using<a
href="https://developer.apple.com/library/mac/documentation/Darwin/Reference/ManPages/man1/productbuild.1.html#//apple_ref/doc/man/1/productbuild"> productbuild.</a></p><p>So then we can create the final product package:</p><div
id="crayon-56886b0dbffe7715055762" class="crayon-syntax crayon-theme-biicode crayon-font-inconsolata crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 14px !important; line-height: 15px !important;"><div
class="crayon-toolbar" data-settings=" mouseover hide delay" style="font-size: 14px !important;height: 21px !important; line-height: 21px !important;"><span
class="crayon-title"></span><div
class="crayon-tools" style="font-size: 14px !important;height: 21px !important; line-height: 21px !important;"><div
class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div
class="crayon-button-icon"></div></div><div
class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div
class="crayon-button-icon"></div></div><div
class="crayon-button crayon-expand-button" title="Expand Code"><div
class="crayon-button-icon"></div></div><div
class="crayon-button crayon-copy-button" title="Copy"><div
class="crayon-button-icon"></div></div><div
class="crayon-button crayon-popup-button" title="Open Code In New Window"><div
class="crayon-button-icon"></div></div><span
class="crayon-language">Python</span></div></div><div
class="crayon-info" style="min-height: 19.6px !important; line-height: 19.6px !important;"></div><div
class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 15px !important;">
def create_product_package(holder, resources):
   dist_file = os.path.join(holder, 'Distribution.xml')
   shutil.copy(os.path.join(resources, 'Distribution.xml'), dist_file)
   file_utils.search_and_replace(dist_file, '%VERSION%', version)
   file_utils.search_and_replace(dist_file, '%PKG%', 'tmpbiicode.pkg')
   command = 'productbuild '
   command += '--distribution %s ' % dist_file
   command += '--package-path %s ' % holder
   command += '--resources %s ' % os.path.join(resources, 'Resources')
   command += '~/biicode.pkg'
   print command
   print holder
   return os.system(command)</textarea></div><div
class="crayon-main" style=""><table
class="crayon-table"><tr
class="crayon-row"><td
class="crayon-nums " data-settings="show"><div
class="crayon-nums-content" style="font-size: 14px !important; line-height: 15px !important;"><div
class="crayon-num" data-line="crayon-56886b0dbffe7715055762-1">1</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886b0dbffe7715055762-2">2</div><div
class="crayon-num" data-line="crayon-56886b0dbffe7715055762-3">3</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886b0dbffe7715055762-4">4</div><div
class="crayon-num" data-line="crayon-56886b0dbffe7715055762-5">5</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886b0dbffe7715055762-6">6</div><div
class="crayon-num" data-line="crayon-56886b0dbffe7715055762-7">7</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886b0dbffe7715055762-8">8</div><div
class="crayon-num" data-line="crayon-56886b0dbffe7715055762-9">9</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886b0dbffe7715055762-10">10</div><div
class="crayon-num" data-line="crayon-56886b0dbffe7715055762-11">11</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886b0dbffe7715055762-12">12</div><div
class="crayon-num" data-line="crayon-56886b0dbffe7715055762-13">13</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886b0dbffe7715055762-14">14</div><div
class="crayon-num" data-line="crayon-56886b0dbffe7715055762-15">15</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886b0dbffe7715055762-16">16</div></div></td><td
class="crayon-code"><div
class="crayon-pre" style="font-size: 14px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div
class="crayon-line" id="crayon-56886b0dbffe7715055762-1"><span
class="crayon-r">def</span><span
class="crayon-h"> </span><span
class="crayon-e">create_product_package</span><span
class="crayon-sy">(</span><span
class="crayon-v">holder</span><span
class="crayon-sy">,</span><span
class="crayon-h"> </span><span
class="crayon-v">resources</span><span
class="crayon-sy">)</span><span
class="crayon-o">:</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886b0dbffe7715055762-2">&nbsp;</div><div
class="crayon-line" id="crayon-56886b0dbffe7715055762-3">   <span
class="crayon-v">dist_file</span><span
class="crayon-h"> </span><span
class="crayon-o">=</span><span
class="crayon-h"> </span><span
class="crayon-k ">os.path</span><span
class="crayon-sy">.</span><span
class="crayon-e">join</span><span
class="crayon-sy">(</span><span
class="crayon-v">holder</span><span
class="crayon-sy">,</span><span
class="crayon-h"> </span><span
class="crayon-s">'Distribution.xml'</span><span
class="crayon-sy">)</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886b0dbffe7715055762-4">   <span
class="crayon-k ">shutil</span><span
class="crayon-sy">.</span><span
class="crayon-k ">copy</span><span
class="crayon-sy">(</span><span
class="crayon-k ">os.path</span><span
class="crayon-sy">.</span><span
class="crayon-e">join</span><span
class="crayon-sy">(</span><span
class="crayon-v">resources</span><span
class="crayon-sy">,</span><span
class="crayon-h"> </span><span
class="crayon-s">'Distribution.xml'</span><span
class="crayon-sy">)</span><span
class="crayon-sy">,</span><span
class="crayon-h"> </span><span
class="crayon-v">dist_file</span><span
class="crayon-sy">)</span></div><div
class="crayon-line" id="crayon-56886b0dbffe7715055762-5">   <span
class="crayon-v">file_utils</span><span
class="crayon-sy">.</span><span
class="crayon-e">search_and_replace</span><span
class="crayon-sy">(</span><span
class="crayon-v">dist_file</span><span
class="crayon-sy">,</span><span
class="crayon-h"> </span><span
class="crayon-s">'%VERSION%'</span><span
class="crayon-sy">,</span><span
class="crayon-h"> </span><span
class="crayon-v">version</span><span
class="crayon-sy">)</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886b0dbffe7715055762-6">   <span
class="crayon-v">file_utils</span><span
class="crayon-sy">.</span><span
class="crayon-e">search_and_replace</span><span
class="crayon-sy">(</span><span
class="crayon-v">dist_file</span><span
class="crayon-sy">,</span><span
class="crayon-h"> </span><span
class="crayon-s">'%PKG%'</span><span
class="crayon-sy">,</span><span
class="crayon-h"> </span><span
class="crayon-s">'tmpbiicode.pkg'</span><span
class="crayon-sy">)</span></div><div
class="crayon-line" id="crayon-56886b0dbffe7715055762-7">&nbsp;</div><div
class="crayon-line crayon-striped-line" id="crayon-56886b0dbffe7715055762-8">   <span
class="crayon-v">command</span><span
class="crayon-h"> </span><span
class="crayon-o">=</span><span
class="crayon-h"> </span><span
class="crayon-s">'productbuild '</span></div><div
class="crayon-line" id="crayon-56886b0dbffe7715055762-9">   <span
class="crayon-v">command</span><span
class="crayon-h"> </span><span
class="crayon-o">+=</span><span
class="crayon-h"> </span><span
class="crayon-s">'--distribution %s '</span><span
class="crayon-h"> </span><span
class="crayon-o">%</span><span
class="crayon-h"> </span><span
class="crayon-v">dist</span><span
class="crayon-sy">_</span>file</div><div
class="crayon-line crayon-striped-line" id="crayon-56886b0dbffe7715055762-10">   <span
class="crayon-v">command</span><span
class="crayon-h"> </span><span
class="crayon-o">+=</span><span
class="crayon-h"> </span><span
class="crayon-s">'--package-path %s '</span><span
class="crayon-h"> </span><span
class="crayon-o">%</span><span
class="crayon-h"> </span><span
class="crayon-i">holder</span></div><div
class="crayon-line" id="crayon-56886b0dbffe7715055762-11">   <span
class="crayon-v">command</span><span
class="crayon-h"> </span><span
class="crayon-o">+=</span><span
class="crayon-h"> </span><span
class="crayon-s">'--resources %s '</span><span
class="crayon-h"> </span><span
class="crayon-o">%</span><span
class="crayon-h"> </span><span
class="crayon-k ">os.path</span><span
class="crayon-sy">.</span><span
class="crayon-e">join</span><span
class="crayon-sy">(</span><span
class="crayon-v">resources</span><span
class="crayon-sy">,</span><span
class="crayon-h"> </span><span
class="crayon-s">'Resources'</span><span
class="crayon-sy">)</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886b0dbffe7715055762-12">   <span
class="crayon-v">command</span><span
class="crayon-h"> </span><span
class="crayon-o">+=</span><span
class="crayon-h"> </span><span
class="crayon-s">'~/biicode.pkg'</span></div><div
class="crayon-line" id="crayon-56886b0dbffe7715055762-13">&nbsp;</div><div
class="crayon-line crayon-striped-line" id="crayon-56886b0dbffe7715055762-14">   <span
class="crayon-k ">print</span><span
class="crayon-h"> </span><span
class="crayon-i">command</span></div><div
class="crayon-line" id="crayon-56886b0dbffe7715055762-15">   <span
class="crayon-k ">print</span><span
class="crayon-h"> </span><span
class="crayon-i">holder</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886b0dbffe7715055762-16">   <span
class="crayon-st">return</span><span
class="crayon-h"> </span><span
class="crayon-k ">os</span><span
class="crayon-sy">.</span><span
class="crayon-e">system</span><span
class="crayon-sy">(</span><span
class="crayon-v">command</span><span
class="crayon-sy">)</span></div></div></td></tr></table></div></div><p>productbuild builds a product archive for the OS X Installer or the Mac App Store. A product archive is a flat file with a .pkg extension.  productbuild creates a deployable product archive, which can be used with the OS X Installer, or submitted to the Mac App Store.</p><p>An additional step would be signing the package so it comes from a “trusted” developer (and you dont need to right-click on it to install it) but we are skipping that step for the moment.</p><p>Hope you enjoy packaging!<br
/></p><div
id="ContainerFriendsSubscribe"><div
class="mc_custom_border_hdr">Stay tuned</div><style>.widget_mailchimpsf_widget .widget-title {
		line-height: 1.4em;
		margin-bottom: 0.75em;
	}
	#mc_subheader {
		line-height: 1.25em;
		margin-bottom: 18px;
	}
	.mc_merge_var {
		margin-bottom: 1.0em;
	}
	.mc_var_label,
	.mc_interest_label {
		display: block;
		margin-bottom: 0.5em;
	}
	.mc_input {
		-moz-box-sizing: border-box;
		-webkit-box-sizing: border-box;
		box-sizing: border-box;
		width: 100%;
	}
	.mc_input.mc_phone {
		width: auto;
	}
	select.mc_select {
		margin-top: 0.5em;
		width: 100%;
	}
	.mc_address_label {
		margin-top: 1.0em;
		margin-bottom: 0.5em;
		display: block;
	}
	.mc_address_label ~ select {
		width: 100%;
	}
	.mc_list li {
		list-style: none;
		background: none !important;
	}
	.mc_interests_header {
		margin-top: 1.0em;
		margin-bottom: 0.5em;
	}
	.mc_interest label,
	.mc_interest input {
		margin-bottom: 0.4em;
	}
	#mc_signup_submit {
		margin-top: 1.5em;
		width: 80%;
	}
	#mc_unsub_link a {
		font-size: 0.75em;
	}
	#mc_unsub_link {
		margin-top: 1.0em;
	}
	.mc_header_address,
	.mc_email_format {
		display: block;
		font-weight: bold;
		margin-top: 1.0em;
		margin-bottom: 0.5em;
	}
	.mc_email_options {
		margin-top: 0.5em;
	}
	.mc_email_type {
		padding-left: 4px;
	}</style><div
id="mc_signup"><form
method="post" action="#mc_signup" id="mc_signup_form"> <input
type="hidden" id="mc_submit_type" name="mc_submit_type" value="html" /> <input
type="hidden" name="mcsf_action" value="mc_submit_signup_form" /> <input
type="hidden" id="_mc_submit_signup_form_nonce" name="_mc_submit_signup_form_nonce" value="528a10d57f" /><div
class="mc_form_inside"><div
class="updated" id="mc_message"></div><div
class="mc_merge_var"> <label
for="mc_mv_EMAIL" class="mc_var_label mc_header mc_header_email">Email Address</label> <input
type="text" size="18" placeholder="" name="mc_mv_EMAIL" id="mc_mv_EMAIL" class="mc_input"/></div><div
class="mc_signup_submit"> <input
type="submit" name="mc_signup_submit" id="mc_signup_submit" value="Send" class="button" /></div></div></form></div></div><p></p><hr
class="dot-line" />Related Posts<ul><li><a
href="../bii-internals-automating-deb-pkg-generation/index.html" title="bii internals: Automating DEB pkg generation">bii internals: Automating DEB pkg generation</a></li><li><a
href="../bii-internals-c-vs-python/index.html" title="bii internals: C vs Python efficiency">bii internals: C vs Python efficiency</a></li><li><a
href="../bii-internals-how-to-do-your-own-windows-installer/index.html" title="bii internals: How to do your own Windows Installer">bii internals: How to do your own Windows Installer</a></li><li><a
href="../bii-internals-compiling-your-python-application-with-cython/index.html" title="bii internals: Compiling your python application with Cython">bii internals: Compiling your python application with Cython</a></li></ul><div
class="addthis_toolbox addthis_default_style addthis_32x32_style" addthis:url='http://blog.biicode.com/bii-internals-automating-macos-pkg-generation/' addthis:title='bii internals: Automating MacOS pkg generation' ><a
class="addthis_button_facebook"></a><a
class="addthis_button_twitter"></a><a
class="addthis_button_google_plusone_share"></a><a
class="addthis_button_compact"></a><a
class="addthis_counter addthis_bubble_style"></a></div></div> <footer
class="entry-meta"> This entry was posted in <a
href="../category/biicode/index.html" rel="category tag">biicode</a> and tagged <a
href="../tag/bii-internals/index.html" rel="tag">bii-internals</a>, <a
href="../tag/biicode/index.html" rel="tag">biicode</a>, <a
href="../tag/mac/index.html" rel="tag">mac</a>, <a
href="../tag/macos/index.html" rel="tag">macos</a>, <a
href="../tag/pkg/index.html" rel="tag">pkg</a>. Bookmark the <a
href="index.html" title="Permalink to bii internals: Automating MacOS pkg generation" rel="bookmark">permalink</a>. </footer> </article> <nav
role="navigation" id="nav-below" class="navigation-post"><h1 class="screen-reader-text">Post navigation</h1><div
class="previous"><a
href="../iot-fill-a-spreadsheet-in-your-google-drive-with-cc3000-wifi-and-temboo-service-arduino/index.html" rel="prev"><span
class="meta-nav">&larr;</span> IoT and Arduino: Fill a SpreadSheet in your Google Drive with CC3000 WiFi and temboo service</a></div><div
class="next"><a
href="../api-days-mediterranea/index.html" rel="next">API Days Mediterranea <span
class="meta-nav">&rarr;</span></a></div> </nav><div
id="disqus_thread"><div
id="dsq-content"><ul
id="dsq-comments"><li
class="post pingback"><p>Pingback: <a
href='../bii-internals-how-to-do-your-own-windows-installer/index.html' rel='external nofollow' class='url'>bii internals: How to do your own Windows Installer | Biicode Blog</a>()</p></li></li><li
class="post pingback"><p>Pingback: <a
href='../bii-internals-automating-deb-pkg-generation/index.html' rel='external nofollow' class='url'>bii internals: Automating DEB pkg generation | Biicode Blog</a>()</p></li></li></ul></div></div> <script type="text/javascript">var disqus_url = 'index.html';
var disqus_identifier = '618%20http_/blog.biicode.com/indexab36.html?p=618';
var disqus_container_id = 'disqus_thread';
var disqus_shortname = 'biicodeblog';
var disqus_title = "bii internals: Automating MacOS pkg generation";
var disqus_config_custom = window.disqus_config;
var disqus_config = function () {
    /*
    All currently supported events:
    onReady: fires when everything is ready,
    onNewComment: fires when a new comment is posted,
    onIdentify: fires when user is authenticated
    */
    this.language = '';
        this.callbacks.onReady.push(function () {
        // sync comments in the background so we don't block the page
        var script = document.createElement('script');
        script.async = true;
        script.src = 'indexe21f.html?cf_action=sync_comments&amp;post_id=618';
        var firstScript = document.getElementsByTagName('script')[0];
        firstScript.parentNode.insertBefore(script, firstScript);
    });
    if (disqus_config_custom) {
        disqus_config_custom.call(this);
    }
};
(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script> </div></div><div
id="secondary" class="widget-area" role="complementary"> <aside
id="text-2" class="widget widget_text"><div
class="textwidget"><p
class="widgettitleWhatwedo" align="center"> biicode is:</p><p
class="hrOrange">&nbsp;</p><p
align="center" class="widgetxtWhatwedo">For <span
style="font-weight:normal">C/C++ developers,</span> biicode is a file-based dependencies manager that makes code reuse simple.</p><div
id="Sidebar-Tryforfree"> <img
src="../wp-content/uploads/sites/3/2014/05/try-it-for-free-on.jpg" /> <a
href="http://www.biicode.com/downloads"><img
class="top" src="../wp-content/uploads/sites/3/2014/05/try-it-for-free-off.jpg" /></a></div></div> </aside><aside
id="text-3" class="widget widget_text"><div
class="textwidget"> <a
href="https://www.biicode.com/biicode-open-source-challenge"><img
src="../wp-content/uploads/sites/3/2014/05/banner-open-source.jpg" /></a></div> </aside><aside
id="categories-2" class="widget widget_categories"><h1 class="widget-title">Categories</h1><label
class="screen-reader-text" for="cat">Categories</label><select
name='cat' id='cat' class='postform' ><option
value='-1'>Select Category</option><option
class="level-0" value="3">#biicontest2014</option><option
class="level-0" value="328">algorithms</option><option
class="level-0" value="350">Arduino</option><option
class="level-0" value="12">biicode</option><option
class="level-0" value="173">biicode-internals</option><option
class="level-0" value="7">biicoders</option><option
class="level-0" value="229">BITSCAN</option><option
class="level-0" value="372">c++</option><option
class="level-0" value="49">events</option><option
class="level-0" value="198">Gamedev</option><option
class="level-0" value="318">Integrations</option><option
class="level-0" value="209">Meta-programming</option><option
class="level-0" value="43">news</option><option
class="level-0" value="163">Our Story</option><option
class="level-0" value="269">Software design</option><option
class="level-0" value="50">try this out</option><option
class="level-0" value="225">ZeroMQ</option> </select> <script type='text/javascript'>/*  */
(function() {
	var dropdown = document.getElementById( "cat" );
	function onCatChange() {
		if ( dropdown.options[ dropdown.selectedIndex ].value > 0 ) {
			location.href = "http://blog.biicode.com/?cat=" + dropdown.options[ dropdown.selectedIndex ].value;
		}
	}
	dropdown.onchange = onCatChange;
})();
/*  */</script> </aside></div></div></div><div
id="containerfooter"> <footer><div
class="center"><div
class="footer-item company"><h3>About</h3><ul><li><a
href="http://web.biicode.com/about-us">Company</a></li><li><a
href="http://web.biicode.com/pricing">Pricing</a></li><li><a
href="http://web.biicode.com/jobs">Careers</a></li><li><a
href="http://web.biicode.com/meet-the-team">Team </a></li><li><a
href="http://web.biicode.com/contact-us/">Contact us </a></li></ul></div><div
class="footer-item contact"><h3>Features</h3><ul><li><a
href="http://web.biicode.com/features/arduino/">Arduino</a></li><li><a
href="http://web.biicode.com/features/raspberry-pi/">Raspberry Pi</a></li><li><a
href="http://web.biicode.com/features/cpp/">C/C++</a></li><li><a
href="http://web.biicode.com/features/nodejs/">Node.js</a></li></ul></div><div
class="footer-item resources"><h3>Resources</h3><ul><li><a
href="http://web.biicode.com/learn/getting-started">Getting Started</a></li><li><a
href="https://www.biicode.com/downloads">Downloads </a></li><li><a
href="http://www.biicode.com/explore">Explore</a></li><li><a
href="http://docs.biicode.com/">Documentation</a></li><li><a
href="http://forum.biicode.com/">Forum</a></li><li><a
href="../index.html">Blog</a></li></ul></div><div
class="footer-item resources"><h3>Community</h3><ul><li><a
href="http://web.biicode.com/community/friends/">Friends</a></li><li><a
href="http://web.biicode.com/community/roadmap/">Roadmap</a></li></ul></div><div
class="signupfooter"><div
id="signupfooter-bt"> <img
src="../wp-content/themes/truly-minimal-wpcom/img/footer/bt-sign-up-footer-on.png" /> <a
href="https://www.biicode.com/accounts/signup/"><img
class="top" src="../wp-content/themes/truly-minimal-wpcom/img/footer/bt-sign-up-footer-off.png" /></a></div><div
id="socialiconsfooter-bt"> <img
src="../wp-content/themes/truly-minimal-wpcom/img/footer/icon-fb-footer-on.png" /> <a
href="https://www.facebook.com/Biicode"><img
class="top" src="../wp-content/themes/truly-minimal-wpcom/img/footer/icon-fb-footer-off.png" /></a></div><div
id="socialiconsfooter-bt"> <img
src="../wp-content/themes/truly-minimal-wpcom/img/footer/icon-twitter-footer-on.png" /> <a
href="https://twitter.com/biicode"><img
class="top" src="../wp-content/themes/truly-minimal-wpcom/img/footer/icon-twitter-footer-off.png" /></a></div><div
id="socialiconsfooter-bt"> <img
src="../wp-content/themes/truly-minimal-wpcom/img/footer/icon-google-footer-on.png" /> <a
href="https://plus.google.com/110838391970414654069/posts"><img
class="top" src="../wp-content/themes/truly-minimal-wpcom/img/footer/icon-google-footer-off.png" /></a></div><div
id="socialiconsfooter-bt"> <img
src="../wp-content/themes/truly-minimal-wpcom/img/footer/icon-linkedin-footer-on.png" /> <a
href="http://www.linkedin.com/company/biicode"><img
class="top" src="../wp-content/themes/truly-minimal-wpcom/img/footer/icon-linkedin-footer-off.png" /></a></div></div><div
class="center copyright"> <img
src="../wp-content/themes/truly-minimal-wpcom/img/footer/biicoce-logo-footer.png" class="logo" width="32" height="42" /><p>© 2014 Biicode. All rights reserved · <a
href="http://web.biicode.com/legal/terms-and-conditions">Terms and conditions</a> · <a
href="http://web.biicode.com/legal/privacy-policy">Privacy Policy</a> · <a
href="http://web.biicode.com/legal/community-guidelines">Community guidelines</a></p></div></div> </footer></div>
 <script type="text/javascript">//
			jQuery(document).ready(function() {
				// Edit 09/05: remove globals and package into Object Literal, and removed the debug function
				cli_show_cookiebar({
					html: '<div id="cookie-law-info-bar"><span>This website uses cookies to improve your experience. We\'ll assume you\'re ok with this, but you can opt-out if you wish.<a href=\"#\" id=\"cookie_action_close_header\"  class=\"medium cli-plugin-button cli-plugin-main-button\" >Accept</a> <a href=\"http://web.biicode.com/legal/privacy-policy/\" id=\"CONSTANT_OPEN_URL\" target=\"_new\"  class=\"cli-plugin-main-link\"  >Read More</a></span></div><div id="cookie-law-info-again"><span id="cookie_hdr_showagain">Privacy & Cookies Policy</span></div>',
					settings: '{"animate_speed_hide":"500","animate_speed_show":"500","background":"#fff","border":"#444","border_on":true,"button_1_button_colour":"#000000","button_1_button_hover":"#000000","button_1_link_colour":"#fff","button_1_as_button":true,"button_2_button_colour":"#333","button_2_button_hover":"#292929","button_2_link_colour":"#444","button_2_as_button":false,"font_family":"Arial, Helvetica, sans-serif","notify_animate_hide":true,"notify_animate_show":false,"notify_div_id":"#cookie-law-info-bar","notify_position_horizontal":"right","notify_position_vertical":"bottom","scroll_close":false,"scroll_close_reload":false,"showagain_tab":true,"showagain_background":"#fff","showagain_border":"#000","showagain_div_id":"#cookie-law-info-again","showagain_x_position":"100px","text":"#000","show_once_yn":false,"show_once":"10000"}'
				});
			});
			//</script> <script type="text/javascript">// 
        var disqus_shortname = 'biicodeblog';
        (function () {
            var nodes = document.getElementsByTagName('span');
            for (var i = 0, url; i < nodes.length; i++) {
                if (nodes[i].className.indexOf('dsq-postid') != -1) {
                    nodes[i].parentNode.setAttribute('data-disqus-identifier', nodes[i].getAttribute('data-dsqidentifier'));
                    url = nodes[i].parentNode.href.split('#', 1);
                    if (url.length == 1) { url = url[0]; }
                    else { url = url[1]; }
                    nodes[i].parentNode.href = url + '#disqus_thread';
                }
            }
            var s = document.createElement('script');
            s.async = true;
            s.type = 'text/javascript';
            s.src = '//' + disqus_shortname + '.disqus.com/count.js';
            (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
        }());
        //</script><script type="text/javascript">if (typeof(addthis_share) == "undefined"){ addthis_share = {"passthrough":{"twitter":{"via":"biicode"}}};}

var addthis_config = {"data_track_clickback":false,"data_track_addressbar":false,"data_track_textcopy":false,"ui_atversion":"300"};
var addthis_product = 'wpp-4.0.7';
</script><script type="text/javascript" src="../../s7.addthis.com/js/300/addthis_widget.js#pubid=ra-522dcd676fbf553f"></script><script type="text/javascript">
jQuery(window).load(function(){
  var q2w3_sidebar_1_options = { "sidebar" : "sidebar-1", "margin_top" : 10, "margin_bottom" : 450, "screen_max_width" : 0, "width_inherit" : false, "widgets" : ['text-2','text-3','categories-2'] };
  q2w3_sidebar(q2w3_sidebar_1_options);
  setInterval(function () { q2w3_sidebar(q2w3_sidebar_1_options); }, 1500);
});
</script>
<script type='text/javascript' src='../wp-content/themes/truly-minimal-wpcom/js/navigation11a8.js?ver=20120206'></script>
<script type='text/javascript' src='../wp-content/themes/truly-minimal-wpcom/js/skip-link-focus-fix08e0.js?ver=20130115'></script>
<script type='text/javascript' src='../wp-includes/js/comment-reply.mind19b.js?ver=4.2.5'></script>
<!--wp_footer-->
</body>

<!-- Mirrored from blog.biicode.com/bii-internals-automating-macos-pkg-generation/ by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 03 Jan 2016 00:38:04 GMT -->
</html>