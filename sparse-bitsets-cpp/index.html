<!DOCTYPE html><html
lang="en-US" xmlns:fb="http://ogp.me/ns/fb#" xmlns:addthis="http://www.addthis.com/help/api-spec"  prefix="og: http://ogp.me/ns#">
<!-- Mirrored from blog.biicode.com/sparse-bitsets-cpp/ by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 03 Jan 2016 00:51:15 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head><link
rel='stylesheet' href='../wp-content/plugins/wp-minify/min/index1667.css?f=wp-content/plugins/wp-currency-converter/css/wp-currency-converter.css,wp-content/plugins/addthis/css/output.css,wp-content/plugins/crayon-syntax-highlighter/css/min/crayon.min.css,wp-content/uploads/sites/2/crayon-syntax-highlighter/themes/biicode/biicode.css,wp-content/plugins/crayon-syntax-highlighter/fonts/inconsolata.css,wp-content/plugins/cookie-law-info/css/cli-style.css,wp-content/themes/truly-minimal-wpcom/style.css,wp-content/plugins/tablepress/css/default.min.css&amp;m=1434970912' type='text/css' media='screen' /> <script type='text/javascript' src='../wp-content/plugins/wp-minify/min/index5cdb.css?f=wp-content/themes/truly-minimal-wpcom/js/html5.js,wp-includes/js/jquery/jquery.js,wp-includes/js/jquery/jquery-migrate.min.js,wp-content/plugins/q2w3-fixed-widget/js/q2w3-fixed-widget.min.js,wp-content/plugins/wp-currency-converter/js/wp-currency-converter.js,wp-content/plugins/crayon-syntax-highlighter/js/min/crayon.min.js,wp-content/plugins/cookie-law-info/js/cookielawinfo.js&amp;m=1434970912'></script> <meta
charset="UTF-8" /><meta
name="viewport" content="width=device-width" /><title>Sparse bitsets in C++ with BITSCAN - biicode Blog</title><link
rel="profile" href="http://gmpg.org/xfn/11" /><link
rel="pingback" href="../xmlrpc.php" /> <!--[if lt IE 9]> <![endif]--> <script type="text/javascript" src="../../biiwebproduction.s3.amazonaws.com/static/js/home/jquery-1.7.1.min.js"></script> <script type="text/javascript" src="../../biiwebproduction.s3.amazonaws.com/static/js/home/jquery.easing.1.3.js"></script> <script type="text/javascript" src="../../biiwebproduction.s3.amazonaws.com/static/js/nav/nav.js"></script> <meta
name="description" content="This post shows how BITSCAN, the exclusive library developed by grand chess Master Pablo San Segundo, operates with sparse bitsets in biicode."/><link
rel="canonical" href="index.html" /><link
rel="publisher" href="http://plus.google.com/+biicode"/><meta
property="og:locale" content="en_US" /><meta
property="og:type" content="article" /><meta
property="og:title" content="Sparse bitsets in C++ with BITSCAN - biicode Blog" /><meta
property="og:description" content="This post shows how BITSCAN, the exclusive library developed by grand chess Master Pablo San Segundo, operates with sparse bitsets in biicode." /><meta
property="og:url" content="http://blog.biicode.com/sparse-bitsets-cpp/" /><meta
property="og:site_name" content="biicode Blog" /><meta
property="article:publisher" content="https://www.facebook.com/Biicode" /><meta
property="article:tag" content="bitscan" /><meta
property="article:tag" content="bitstring analysis" /><meta
property="article:tag" content="c++" /><meta
property="article:tag" content="cpp" /><meta
property="article:tag" content="graph" /><meta
property="article:tag" content="sparse" /><meta
property="article:tag" content="sparse bitsets" /><meta
property="article:tag" content="sparsity" /><meta
property="article:tag" content="ugraph" /><meta
property="article:section" content="BITSCAN" /><meta
property="article:published_time" content="2014-09-23T11:01:20+00:00" /><meta
property="article:modified_time" content="2014-09-23T11:35:56+00:00" /><meta
property="og:updated_time" content="2014-09-23T11:35:56+00:00" /><meta
property="og:image" content="http://blog.biicode.com/wp-content/uploads/sites/2/2014/09/242.jpg" /><link
rel="alternate" type="application/rss+xml" title="biicode Blog &raquo; Feed" href="http://feeds.feedburner.com/biicodeblog" /><link
rel="alternate" type="application/rss+xml" title="biicode Blog &raquo; Comments Feed" href="../comments/feed/index.html" /><meta
name="twitter:card" content="summary_large_image"><meta
name="twitter:creator" content="@biicode"><meta
name="twitter:site" content="@biicode"><meta
property="og:title" content="Sparse bitsets in C++ with BITSCAN - biicode Blog"><meta
property="og:image" content="http://blog.biicode.com/wp-content/uploads/sites/2/2014/09/sparse-bitstrings-bitscan.png"><meta
property="og:image:width" content="280"><meta
property="og:image:height" content="150"><link
rel="alternate" type="application/rss+xml" title="biicode Blog &raquo; Sparse bitsets in C++ with BITSCAN Comments Feed" href="feed/index.html" /> <script type="text/javascript">window._wpemojiSettings = {"baseUrl":"http:\/\/s.w.org\/images\/core\/emoji\/72x72\/","ext":".png","source":{"concatemoji":"http:\/\/blog.biicode.com\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.2.5"}};
			!function(a,b,c){function d(a){var c=b.createElement("canvas"),d=c.getContext&&c.getContext("2d");return d&&d.fillText?(d.textBaseline="top",d.font="600 32px Arial","flag"===a?(d.fillText(String.fromCharCode(55356,56812,55356,56807),0,0),c.toDataURL().length>3e3):(d.fillText(String.fromCharCode(55357,56835),0,0),0!==d.getImageData(16,16,1,1).data[0])):!1}function e(a){var c=b.createElement("script");c.src=a,c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g;c.supports={simple:d("simple"),flag:d("flag")},c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.simple&&c.supports.flag||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);</script> <style type="text/css">img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}</style><link
rel='stylesheet' id='mailchimpSF_main_css-css'  href='../index2740.html?mcsf_action=main_css&amp;ver=4.2.5' type='text/css' media='all' /> <!--[if IE]><link
rel='stylesheet' id='mailchimpSF_ie_css-css'  href='http://blog.biicode.com/wp-content/plugins/mailchimp/css/ie.css?ver=4.2.5' type='text/css' media='all' /> <![endif]--><link
rel='stylesheet' id='truly-minimal-droid-serif-css'  href='http://fonts.googleapis.com/css?family=Droid+Serif%3A400%2C700%2C400italic%2C700italic&amp;ver=4.2.5' type='text/css' media='all' /><link
rel='stylesheet' id='truly-minimal-droid-sans-css'  href='http://fonts.googleapis.com/css?family=Droid+Sans%3A400%2C700&amp;ver=4.2.5' type='text/css' media='all' /> <script type='text/javascript'>/*  */
var CrayonSyntaxSettings = {"version":"2.7.1","is_admin":"0","ajaxurl":"http:\/\/blog.biicode.com\/wp-admin\/admin-ajax.php","prefix":"crayon-","setting":"crayon-setting","selected":"crayon-setting-selected","changed":"crayon-setting-changed","special":"crayon-setting-special","orig_value":"data-orig-value","debug":""};
var CrayonSyntaxStrings = {"copy":"Press %s to Copy, %s to Paste","minimize":"Click To Expand Code"};
/*  */</script> <link
rel="EditURI" type="application/rsd+xml" title="RSD" href="../xmlrpc0db0.php?rsd" /><link
rel="wlwmanifest" type="application/wlwmanifest+xml" href="../wp-includes/wlwmanifest.xml" /><link
rel='shortlink' href='../index44d6.html?p=1584' /> <script data-cfasync="false" src="http://load.sumome.com/" data-sumo-site-id="8d5d163c33e2beb1876a5027edd9a9c4c583be61433be230b24e6bcfc0387265" async></script><script type="text/javascript">var wpccAjaxLink = "../wp-admin/admin-ajax.html";</script>  <script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','../../www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-41860930-1', 'auto');
	ga('require', 'displayfeatures');
	ga('set', 'forceSSL', true);
	ga('send', 'pageview');</script>  <script type="text/javascript">jQuery(document).ready(function(e) {
    jQuery('a').click(function(e) {
		var $this = jQuery(this);
      	var href = $this.prop('href').split('?')[0];
		var ext = href.split('.').pop();
		if ('xls,xlsx,doc,docx,ppt,pot,pptx,pdf,pub,txt,zip,rar,tar,7z,gz,exe,wma,mov,avi,wmv,wav,mp3,midi,csv,tsv,jar,psd,pdn,ai,pez,wwf,torrent,cbr'.split(',').indexOf(ext) !== -1) {
        ga('send', 'event', 'Download', ext, href);
      }
	  if (href.toLowerCase().indexOf('mailto:') === 0) {
        ga('send', 'event', 'Mailto', href.substr(7));
      }
	  if (href.toLowerCase().indexOf('tel:') === 0) {
        ga('send', 'event', 'Phone number', href.substr(4));
      }
      if ((this.protocol === 'http:' || this.protocol === 'index.html') && this.hostname.indexOf(document.location.hostname) === -1) {
        ga('send', 'event', 'Outbound', this.hostname, this.pathname);
      }
	});
});</script> <style type="text/css">.site-title a {
			color: #f48123;
		}</style><link
href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'></head><body
class="single single-post postid-1584 single-format-standard group-blog sidebar-right"><div
id="ContainerHeader"> <a
id="forkme" href="https://biicode.github.io/biicode"><img
style="z-index: 4;position: absolute; top: 0; left: 0; border: 0;" src="https://camo.githubusercontent.com/8b6b8ccc6da3aa5722903da7b58eb5ab1081adee/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f6c6566745f6f72616e67655f6666373630302e706e67" alt="Fork me on GitHub" data-canonical-src="../../s3.amazonaws.com/github/ribbons/forkme_left_orange_ff7600.png"></a><div
id="ContainerwidthHeader"><div
id="header"> <header
id="menu"><div
id="logo"> <a
href="https://www.biicode.com/"><img
src="../wp-content/themes/truly-minimal-wpcom/img/header/biicode-logo.png" alt="Biicode-logo" /></a></div><div
id="search-form"><form
method="get" id="searchform" class="searchform" action="http://blog.biicode.com/" role="search"><div
class="form-container"><input
type="search" class="search-field" name="s" value="" id="s" placeholder="Search in Blog &hellip;" /><div
class="submit-container"><input
name="search" value=""  type="submit" class="submit-bt" /></div></div></form></div> <nav
class="right"><ul><li><a
href="https://www.biicode.com/explore">Explore</a></li><li><a
href="http://web.biicode.com/pricing/">Plans</a></li><li> Learn <img
src="../wp-content/themes/truly-minimal-wpcom/img/header/arrow-drop-down-menu.jpg" style="margin:0px 0px 3px 4px" width="8" height="4" /><ul><li><a
href="http://web.biicode.com/learn/getting-started">Get Started</a></li><li><a
href="https://www.biicode.com/downloads">Downloads</a></li><li><a
href="http://docs.biicode.com/">Docs</a></li><li><a
href="http://forum.biicode.com/">Forum</a></li></ul></li><li><a
href="https://www.biicode.com/accounts/login">Log in</a></li></ul> </nav><div
id="signup-bt"> <img
src="../wp-content/themes/truly-minimal-wpcom/img/header/bt-signup-on.jpg" /> <a
href="https://www.biicode.com/accounts/signup/"><img
class="top" src="../wp-content/themes/truly-minimal-wpcom/img/header/bt-signup-off.jpg" /></a></div> </header></div><p
id="breadcrumbs"><span
xmlns:v="http://rdf.data-vocabulary.org/#"><span
typeof="v:Breadcrumb"><a
href="../index.html" rel="v:url" property="v:title">Biicode Blog</a> » <span
rel="v:child" typeof="v:Breadcrumb"><a
href="../category/bitscan-2/index.html" rel="v:url" property="v:title">BITSCAN</a> » <strong
class="breadcrumb_last">Sparse bitsets in C++ with BITSCAN</strong></span></span></span></p></div></div><div
id="page" class="hfeed site"><div
id="main" class="site-main"><div
id="primary" class="content-area"><div
id="content" class="site-content" role="main"> <article
id="post-1584" class="post-1584 post type-post status-publish format-standard has-post-thumbnail hentry category-bitscan-2 tag-bitscan tag-bitstring-analysis tag-c tag-cpp tag-graph tag-sparse tag-sparse-bitsets tag-sparsity tag-ugraph"> <header
class="entry-header"><h1 class="entry-title">Sparse bitsets in C++ with BITSCAN</h1><div
class="entry-meta"> Posted on <a
href="index.html" title="11:01" rel="bookmark"><time
class="entry-date" datetime="2014-09-23T11:01:20+00:00">September 23, 2014</time></a><span
class="byline"> by <span
class="author vcard"><a
class="url fn n" href="../author/pablo/index.html" title="View all posts by pablo" rel="author">pablo</a></span></span></div> </header><div
class="entry-content"><h2>Sparse bitsets in C++</h2><p><em>Sparsity</em> when referring to systems indicates that they are loosely coupled. Thus, a sparse matrix is a matrix in which most of its elements are zero, a sparse graph has very few adjacent vertices (its adjacency matrix is also sparse) etc. Opposite to sparsity is density, and dense systems are those that are strongly coupled.</p><p>In a recent post we proposed <a
title="K CORES analysis bitscan" href="../k-cores-analysis-bitscan/index.html" target="_blank">BITSCAN </a> a recent C++ library to manipulate bit strings. A comparative survey with other state of the art implementations (such as <em>bitset</em> (STL), or <em>dynamic_biset</em>(BOOST)) may be found <a
href="../bitscan-efficiency-at-glance/index.html">here</a>. This post brifely describes how BITSCAN operates with sparse bitsets.</p><div
id="attachment_1592" style="width: 295px" class="wp-caption aligncenter"><img
class="wp-image-1592 size-full" src="../wp-content/uploads/sites/2/2014/09/sparse-bitstrings-bitscan.png" alt="Sparse bitsets in C++ with biicode's library BITSCAN" width="285" height="177" /><p
class="wp-caption-text">Figure 1</p></div><p><span
id="more-1584"></span></p><p>Sparse bitsets are bitstrings with a very high rate of 0-bits. Consider a population set of 1.000 elements (for example production parts per day) from which we want to store a Boolean property (e.g. parts which didn´t pass a specific quality tests). Let´s assume that, in a particular day, only 3 parts were affected. The classical way to deal with such a problem would be to store the 3 elements in an array but if we are interested to <em>reason</em> with that information we might decide on a bitstring encoding. In STL the correct way would look something like this:</p><div
id="crayon-56886d732949e366704792" class="crayon-syntax crayon-theme-biicode crayon-font-inconsolata crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 14px !important; line-height: 15px !important;"><div
class="crayon-toolbar" data-settings=" mouseover hide delay" style="font-size: 14px !important;height: 21px !important; line-height: 21px !important;"><span
class="crayon-title"></span><div
class="crayon-tools" style="font-size: 14px !important;height: 21px !important; line-height: 21px !important;"><div
class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div
class="crayon-button-icon"></div></div><div
class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div
class="crayon-button-icon"></div></div><div
class="crayon-button crayon-expand-button" title="Expand Code"><div
class="crayon-button-icon"></div></div><div
class="crayon-button crayon-copy-button" title="Copy"><div
class="crayon-button-icon"></div></div><div
class="crayon-button crayon-popup-button" title="Open Code In New Window"><div
class="crayon-button-icon"></div></div></div></div><div
class="crayon-info" style="min-height: 19.6px !important; line-height: 19.6px !important;"></div><div
class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 15px !important;">
#include &lt;bitset&gt;		//STL implementation for bit strings
void main(){
  bitset&lt;1000&gt; bs;		//fixed population size
  bs.set(0);
  bs.set(1);
  bs.set(2);
}</textarea></div><div
class="crayon-main" style=""><table
class="crayon-table"><tr
class="crayon-row"><td
class="crayon-nums " data-settings="show"><div
class="crayon-nums-content" style="font-size: 14px !important; line-height: 15px !important;"><div
class="crayon-num" data-line="crayon-56886d732949e366704792-1">1</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886d732949e366704792-2">2</div><div
class="crayon-num" data-line="crayon-56886d732949e366704792-3">3</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886d732949e366704792-4">4</div><div
class="crayon-num" data-line="crayon-56886d732949e366704792-5">5</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886d732949e366704792-6">6</div><div
class="crayon-num" data-line="crayon-56886d732949e366704792-7">7</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886d732949e366704792-8">8</div></div></td><td
class="crayon-code"><div
class="crayon-pre" style="font-size: 14px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div
class="crayon-line" id="crayon-56886d732949e366704792-1"><span
class="crayon-p">#include &lt;bitset&gt;		//STL implementation for bit strings</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886d732949e366704792-2"><span
class="crayon-h"> </span></div><div
class="crayon-line" id="crayon-56886d732949e366704792-3"><span
class="crayon-t">void</span><span
class="crayon-h"> </span><span
class="crayon-e">main</span><span
class="crayon-sy">(</span><span
class="crayon-sy">)</span><span
class="crayon-sy">{</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886d732949e366704792-4"><span
class="crayon-h">&nbsp;&nbsp;</span><span
class="crayon-v">bitset</span><span
class="crayon-o">&lt;</span><span
class="crayon-cn">1000</span><span
class="crayon-o">&gt;</span><span
class="crayon-h"> </span><span
class="crayon-v">bs</span><span
class="crayon-sy">;</span><span
class="crayon-h"> </span><span
class="crayon-c">//fixed population size </span></div><div
class="crayon-line" id="crayon-56886d732949e366704792-5"><span
class="crayon-h">&nbsp;&nbsp;</span><span
class="crayon-v">bs</span><span
class="crayon-sy">.</span><span
class="crayon-e">set</span><span
class="crayon-sy">(</span><span
class="crayon-cn">0</span><span
class="crayon-sy">)</span><span
class="crayon-sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886d732949e366704792-6"><span
class="crayon-h">&nbsp;&nbsp;</span><span
class="crayon-v">bs</span><span
class="crayon-sy">.</span><span
class="crayon-e">set</span><span
class="crayon-sy">(</span><span
class="crayon-cn">1</span><span
class="crayon-sy">)</span><span
class="crayon-sy">;</span></div><div
class="crayon-line" id="crayon-56886d732949e366704792-7"><span
class="crayon-h">&nbsp;&nbsp;</span><span
class="crayon-v">bs</span><span
class="crayon-sy">.</span><span
class="crayon-e">set</span><span
class="crayon-sy">(</span><span
class="crayon-cn">2</span><span
class="crayon-sy">)</span><span
class="crayon-sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886d732949e366704792-8"><span
class="crayon-sy">}</span></div></div></td></tr></table></div></div><p>Consider now a production of 1.000.000 parts and again just 3 members in the set. Now bitset&lt;1000000&gt; simply allocates an enormous amount of wasted space. Moreover, reasoning with such degree of sparsity will operate most of the time with empty bit blocks and perform a huge number of spurious bit masking operations.</p><h2>Operating with sparse bitsets</h2><p>BITSCAN treats sparsity as a special case. Internally, sparse bitsets are an ordered array of elements which look similar to the following code (ignore the actual names):</p><div
id="crayon-56886d73294b1895061392" class="crayon-syntax crayon-theme-biicode crayon-font-inconsolata crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 14px !important; line-height: 15px !important;"><div
class="crayon-toolbar" data-settings=" mouseover hide delay" style="font-size: 14px !important;height: 21px !important; line-height: 21px !important;"><span
class="crayon-title"></span><div
class="crayon-tools" style="font-size: 14px !important;height: 21px !important; line-height: 21px !important;"><div
class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div
class="crayon-button-icon"></div></div><div
class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div
class="crayon-button-icon"></div></div><div
class="crayon-button crayon-expand-button" title="Expand Code"><div
class="crayon-button-icon"></div></div><div
class="crayon-button crayon-copy-button" title="Copy"><div
class="crayon-button-icon"></div></div><div
class="crayon-button crayon-popup-button" title="Open Code In New Window"><div
class="crayon-button-icon"></div></div></div></div><div
class="crayon-info" style="min-height: 19.6px !important; line-height: 19.6px !important;"></div><div
class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 15px !important;">
struct elem{
  int index;				//index of bit block in the bit string
  BITBOARD bb;
}
class SparseBitString{
  vector&lt;elem&gt; bitstring;		//sorted array by index
}</textarea></div><div
class="crayon-main" style=""><table
class="crayon-table"><tr
class="crayon-row"><td
class="crayon-nums " data-settings="show"><div
class="crayon-nums-content" style="font-size: 14px !important; line-height: 15px !important;"><div
class="crayon-num" data-line="crayon-56886d73294b1895061392-1">1</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886d73294b1895061392-2">2</div><div
class="crayon-num" data-line="crayon-56886d73294b1895061392-3">3</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886d73294b1895061392-4">4</div><div
class="crayon-num" data-line="crayon-56886d73294b1895061392-5">5</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886d73294b1895061392-6">6</div><div
class="crayon-num" data-line="crayon-56886d73294b1895061392-7">7</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886d73294b1895061392-8">8</div></div></td><td
class="crayon-code"><div
class="crayon-pre" style="font-size: 14px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div
class="crayon-line" id="crayon-56886d73294b1895061392-1"><span
class="crayon-t">struct</span><span
class="crayon-h"> </span><span
class="crayon-e">elem</span><span
class="crayon-sy">{</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886d73294b1895061392-2"><span
class="crayon-h">&nbsp;&nbsp;</span><span
class="crayon-t">int</span><span
class="crayon-h"> </span><span
class="crayon-v">index</span><span
class="crayon-sy">;</span><span
class="crayon-h"> </span><span
class="crayon-c">//index of bit block in the bit string</span></div><div
class="crayon-line" id="crayon-56886d73294b1895061392-3"><span
class="crayon-h">&nbsp;&nbsp;</span><span
class="crayon-e">BITBOARD </span><span
class="crayon-v">bb</span><span
class="crayon-sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886d73294b1895061392-4"><span
class="crayon-sy">}</span></div><div
class="crayon-line" id="crayon-56886d73294b1895061392-5">&nbsp;</div><div
class="crayon-line crayon-striped-line" id="crayon-56886d73294b1895061392-6"><span
class="crayon-t">class</span><span
class="crayon-h"> </span><span
class="crayon-e">SparseBitString</span><span
class="crayon-sy">{</span><span
class="crayon-h"> </span></div><div
class="crayon-line" id="crayon-56886d73294b1895061392-7"><span
class="crayon-h">&nbsp;&nbsp;</span><span
class="crayon-v">vector</span><span
class="crayon-o">&lt;</span><span
class="crayon-v">elem</span><span
class="crayon-o">&gt;</span><span
class="crayon-h"> </span><span
class="crayon-v">bitstring</span><span
class="crayon-sy">;</span><span
class="crayon-h"> </span><span
class="crayon-c">//sorted array by index</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886d73294b1895061392-8"><span
class="crayon-sy">}</span></div></div></td></tr></table></div></div><p>&nbsp;</p><p><img
class="size-full wp-image-1668 alignright" src="../wp-content/uploads/sites/2/2014/09/2421.jpg" alt="Sparse bitsets are weakly coupled and get a special treatment with BITSCAN in biicode." width="397" height="600" />Each element is a bitblock the size of the register word (typically 64 bits) <em>which contains at least a 1-bit</em>; empty bitblocks are simply ignored. Returning to the previous manufacturing example, the sparse bitstring in BITSCAN would only store the single <em>elem</em> {index=0, bb=00000111} for the whole 1.000.000 population.<em> Figure 1</em> shows another example; there a bit string is used to store all the white pawns in a given position. Considering an 8-bit CPU register size, a BITSCAN sparse bit string would only store the 3 non-zero bit-blocks with their corresponding indexes (3, 4, 7) (assume index 1 refers to the bottom block).</p><p>The actual wrappers for sparse bitstrings are the following data types:</p><ul><li><strong>sparse_bitarray</strong>: The main data type which includes all optimizations. In most cases this is the type to be used.</li><li><strong>simple_sparse_bitarray</strong>: A simpler data type to be used only if compiler/HW does not support intrinsics.</li></ul><p>An elementary example of how to use sparse bitsets in BITSCAN is:</p><div
id="crayon-56886d73294bb963936533" class="crayon-syntax crayon-theme-biicode crayon-font-inconsolata crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 14px !important; line-height: 15px !important;"><div
class="crayon-toolbar" data-settings=" mouseover hide delay" style="font-size: 14px !important;height: 21px !important; line-height: 21px !important;"><span
class="crayon-title"></span><div
class="crayon-tools" style="font-size: 14px !important;height: 21px !important; line-height: 21px !important;"><div
class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div
class="crayon-button-icon"></div></div><div
class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div
class="crayon-button-icon"></div></div><div
class="crayon-button crayon-expand-button" title="Expand Code"><div
class="crayon-button-icon"></div></div><div
class="crayon-button crayon-copy-button" title="Copy"><div
class="crayon-button-icon"></div></div><div
class="crayon-button crayon-popup-button" title="Open Code In New Window"><div
class="crayon-button-icon"></div></div></div></div><div
class="crayon-info" style="min-height: 19.6px !important; line-height: 19.6px !important;"></div><div
class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 15px !important;">
#include "pablodev/bitscan/bitscan.h"	        //one and only header for the BITSCAN block in Biicode
void main(){
  sparse_bitarray sba(1000000);			//size of the population
  sba.set_bit(0);
  sba.set_bit(1);
  sba.set_bit(2);
  //stores just one 64-bit block
}</textarea></div><div
class="crayon-main" style=""><table
class="crayon-table"><tr
class="crayon-row"><td
class="crayon-nums " data-settings="show"><div
class="crayon-nums-content" style="font-size: 14px !important; line-height: 15px !important;"><div
class="crayon-num" data-line="crayon-56886d73294bb963936533-1">1</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886d73294bb963936533-2">2</div><div
class="crayon-num" data-line="crayon-56886d73294bb963936533-3">3</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886d73294bb963936533-4">4</div><div
class="crayon-num" data-line="crayon-56886d73294bb963936533-5">5</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886d73294bb963936533-6">6</div><div
class="crayon-num" data-line="crayon-56886d73294bb963936533-7">7</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886d73294bb963936533-8">8</div><div
class="crayon-num" data-line="crayon-56886d73294bb963936533-9">9</div></div></td><td
class="crayon-code"><div
class="crayon-pre" style="font-size: 14px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div
class="crayon-line" id="crayon-56886d73294bb963936533-1"><span
class="crayon-p">#include "pablodev/bitscan/bitscan.h"	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//one and only header for the BITSCAN block in Biicode</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886d73294bb963936533-2"><span
class="crayon-h"> </span></div><div
class="crayon-line" id="crayon-56886d73294bb963936533-3"><span
class="crayon-t">void</span><span
class="crayon-h"> </span><span
class="crayon-e">main</span><span
class="crayon-sy">(</span><span
class="crayon-sy">)</span><span
class="crayon-sy">{</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886d73294bb963936533-4"><span
class="crayon-h">&nbsp;&nbsp;</span><span
class="crayon-e">sparse_bitarray </span><span
class="crayon-e">sba</span><span
class="crayon-sy">(</span><span
class="crayon-cn">1000000</span><span
class="crayon-sy">)</span><span
class="crayon-sy">;</span><span
class="crayon-h"> </span><span
class="crayon-c">//size of the population</span></div><div
class="crayon-line" id="crayon-56886d73294bb963936533-5"><span
class="crayon-h">&nbsp;&nbsp;</span><span
class="crayon-v">sba</span><span
class="crayon-sy">.</span><span
class="crayon-e">set_bit</span><span
class="crayon-sy">(</span><span
class="crayon-cn">0</span><span
class="crayon-sy">)</span><span
class="crayon-sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886d73294bb963936533-6"><span
class="crayon-h">&nbsp;&nbsp;</span><span
class="crayon-v">sba</span><span
class="crayon-sy">.</span><span
class="crayon-e">set_bit</span><span
class="crayon-sy">(</span><span
class="crayon-cn">1</span><span
class="crayon-sy">)</span><span
class="crayon-sy">;</span></div><div
class="crayon-line" id="crayon-56886d73294bb963936533-7"><span
class="crayon-h">&nbsp;&nbsp;</span><span
class="crayon-v">sba</span><span
class="crayon-sy">.</span><span
class="crayon-e">set_bit</span><span
class="crayon-sy">(</span><span
class="crayon-cn">2</span><span
class="crayon-sy">)</span><span
class="crayon-sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886d73294bb963936533-8"><span
class="crayon-h">&nbsp;&nbsp;</span><span
class="crayon-c">//stores just one 64-bit block</span></div><div
class="crayon-line" id="crayon-56886d73294bb963936533-9"><span
class="crayon-sy">}</span></div></div></td></tr></table></div></div><p>Features currently included for sparse bitsets are oriented towards fast bit scanning. Set union (OR mask) and intersection (AND mask) are also supported. Note that the sparse storage of bitblocks has a penalty on insertion (set_bit is an <em>ordered</em> insertion which runs in logarithmic time) and so does individual bit retrieval (also logarithmic).</p><p>An example of a (<em>non-destructive</em>) bit scan appears below. This is the typical case in which the bit string remains constant. A more efficient form of scanning (<em>destructive</em>) deletes 1-bits as they are scanned. There are many more such examples in the <em>tests </em>folder of the distribution.</p><div
id="crayon-56886d73294c5277745045" class="crayon-syntax crayon-theme-biicode crayon-font-inconsolata crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 14px !important; line-height: 15px !important;"><div
class="crayon-toolbar" data-settings=" mouseover hide delay" style="font-size: 14px !important;height: 21px !important; line-height: 21px !important;"><span
class="crayon-title"></span><div
class="crayon-tools" style="font-size: 14px !important;height: 21px !important; line-height: 21px !important;"><div
class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div
class="crayon-button-icon"></div></div><div
class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div
class="crayon-button-icon"></div></div><div
class="crayon-button crayon-expand-button" title="Expand Code"><div
class="crayon-button-icon"></div></div><div
class="crayon-button crayon-copy-button" title="Copy"><div
class="crayon-button-icon"></div></div><div
class="crayon-button crayon-popup-button" title="Open Code In New Window"><div
class="crayon-button-icon"></div></div></div></div><div
class="crayon-info" style="min-height: 19.6px !important; line-height: 19.6px !important;"></div><div
class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 15px !important;">
#include "pablodev/bitscan/bitscan.h"	        //one and only header for the BITSCAN block in Biicode
void main(){
  sparse_bitarray sba(1000000);			//size of the population
  //set sba appropiately...
  int nBit=EMPTY_ELEM;
  if(sba.init_scan(bbo::NON_DESTRUCTIVE)!=EMPTY_ELEM){
     while(true){
        nBit=sba.next_bit();
        if(nBit==EMPTY_ELEM) break;
        //int foo = nBit...
     }
  }
}</textarea></div><div
class="crayon-main" style=""><table
class="crayon-table"><tr
class="crayon-row"><td
class="crayon-nums " data-settings="show"><div
class="crayon-nums-content" style="font-size: 14px !important; line-height: 15px !important;"><div
class="crayon-num" data-line="crayon-56886d73294c5277745045-1">1</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886d73294c5277745045-2">2</div><div
class="crayon-num" data-line="crayon-56886d73294c5277745045-3">3</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886d73294c5277745045-4">4</div><div
class="crayon-num" data-line="crayon-56886d73294c5277745045-5">5</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886d73294c5277745045-6">6</div><div
class="crayon-num" data-line="crayon-56886d73294c5277745045-7">7</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886d73294c5277745045-8">8</div><div
class="crayon-num" data-line="crayon-56886d73294c5277745045-9">9</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886d73294c5277745045-10">10</div><div
class="crayon-num" data-line="crayon-56886d73294c5277745045-11">11</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886d73294c5277745045-12">12</div><div
class="crayon-num" data-line="crayon-56886d73294c5277745045-13">13</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886d73294c5277745045-14">14</div><div
class="crayon-num" data-line="crayon-56886d73294c5277745045-15">15</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886d73294c5277745045-16">16</div></div></td><td
class="crayon-code"><div
class="crayon-pre" style="font-size: 14px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div
class="crayon-line" id="crayon-56886d73294c5277745045-1"><span
class="crayon-p">#include "pablodev/bitscan/bitscan.h"	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//one and only header for the BITSCAN block in Biicode</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886d73294c5277745045-2"><span
class="crayon-h"> </span></div><div
class="crayon-line" id="crayon-56886d73294c5277745045-3"><span
class="crayon-t">void</span><span
class="crayon-h"> </span><span
class="crayon-e">main</span><span
class="crayon-sy">(</span><span
class="crayon-sy">)</span><span
class="crayon-sy">{</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886d73294c5277745045-4"><span
class="crayon-h">&nbsp;&nbsp;</span><span
class="crayon-e">sparse_bitarray </span><span
class="crayon-e">sba</span><span
class="crayon-sy">(</span><span
class="crayon-cn">1000000</span><span
class="crayon-sy">)</span><span
class="crayon-sy">;</span><span
class="crayon-h"> </span><span
class="crayon-c">//size of the population</span></div><div
class="crayon-line" id="crayon-56886d73294c5277745045-5"><span
class="crayon-h">&nbsp;&nbsp;</span><span
class="crayon-c">//set sba appropiately...</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886d73294c5277745045-6">&nbsp;</div><div
class="crayon-line" id="crayon-56886d73294c5277745045-7"><span
class="crayon-h">&nbsp;&nbsp;</span><span
class="crayon-t">int</span><span
class="crayon-h"> </span><span
class="crayon-v">nBit</span><span
class="crayon-o">=</span><span
class="crayon-v">EMPTY_ELEM</span><span
class="crayon-sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886d73294c5277745045-8"><span
class="crayon-h">&nbsp;&nbsp;</span><span
class="crayon-st">if</span><span
class="crayon-sy">(</span><span
class="crayon-v">sba</span><span
class="crayon-sy">.</span><span
class="crayon-e">init_scan</span><span
class="crayon-sy">(</span><span
class="crayon-v">bbo</span><span
class="crayon-o">::</span><span
class="crayon-v">NON_DESTRUCTIVE</span><span
class="crayon-sy">)</span><span
class="crayon-o">!=</span><span
class="crayon-v">EMPTY_ELEM</span><span
class="crayon-sy">)</span><span
class="crayon-sy">{</span></div><div
class="crayon-line" id="crayon-56886d73294c5277745045-9"><span
class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class="crayon-st">while</span><span
class="crayon-sy">(</span><span
class="crayon-t">true</span><span
class="crayon-sy">)</span><span
class="crayon-sy">{</span><span
class="crayon-h">&nbsp;&nbsp; </span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886d73294c5277745045-10"><span
class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="crayon-v">nBit</span><span
class="crayon-o">=</span><span
class="crayon-v">sba</span><span
class="crayon-sy">.</span><span
class="crayon-e">next_bit</span><span
class="crayon-sy">(</span><span
class="crayon-sy">)</span><span
class="crayon-sy">;</span></div><div
class="crayon-line" id="crayon-56886d73294c5277745045-11"><span
class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="crayon-st">if</span><span
class="crayon-sy">(</span><span
class="crayon-v">nBit</span><span
class="crayon-o">==</span><span
class="crayon-v">EMPTY_ELEM</span><span
class="crayon-sy">)</span><span
class="crayon-h"> </span><span
class="crayon-st">break</span><span
class="crayon-sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886d73294c5277745045-12"><span
class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div
class="crayon-line" id="crayon-56886d73294c5277745045-13"><span
class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="crayon-c">//int foo = nBit...</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886d73294c5277745045-14"><span
class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class="crayon-sy">}</span></div><div
class="crayon-line" id="crayon-56886d73294c5277745045-15"><span
class="crayon-h">&nbsp;&nbsp;</span><span
class="crayon-sy">}</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886d73294c5277745045-16"><span
class="crayon-sy">}</span></div></div></td></tr></table></div></div><p>A very important application for sparse bitsets is the <span
style="text-decoration: underline;">encoding of real graphs</span> which tend to be have high order but also tend to be very sparse. The <a
title="GRAPH LIBRARY BIICODE BITSCAN" href="http://www.biicode.com/pablodev/pablodev/graph/master" target="_blank">GRAPH </a> block in the Biicode repository now contains an illustrative wrapper for sparse graphs based on BITSCAN. It is still very much in alpha, but we are developping regularly an it already includes <a
href="../k-cores-analysis-bitscan/index.html">an efficient implementation of k-Core analysis</a>. A post on sparse graphs and GRAPH will be coming out soon!</p><p>Stay tuned by signing up below</p><div
id="ContainerFriendsSubscribe"><div
class="mc_custom_border_hdr">Stay tuned</div><style>.widget_mailchimpsf_widget .widget-title {
		line-height: 1.4em;
		margin-bottom: 0.75em;
	}
	#mc_subheader {
		line-height: 1.25em;
		margin-bottom: 18px;
	}
	.mc_merge_var {
		margin-bottom: 1.0em;
	}
	.mc_var_label,
	.mc_interest_label {
		display: block;
		margin-bottom: 0.5em;
	}
	.mc_input {
		-moz-box-sizing: border-box;
		-webkit-box-sizing: border-box;
		box-sizing: border-box;
		width: 100%;
	}
	.mc_input.mc_phone {
		width: auto;
	}
	select.mc_select {
		margin-top: 0.5em;
		width: 100%;
	}
	.mc_address_label {
		margin-top: 1.0em;
		margin-bottom: 0.5em;
		display: block;
	}
	.mc_address_label ~ select {
		width: 100%;
	}
	.mc_list li {
		list-style: none;
		background: none !important;
	}
	.mc_interests_header {
		margin-top: 1.0em;
		margin-bottom: 0.5em;
	}
	.mc_interest label,
	.mc_interest input {
		margin-bottom: 0.4em;
	}
	#mc_signup_submit {
		margin-top: 1.5em;
		width: 80%;
	}
	#mc_unsub_link a {
		font-size: 0.75em;
	}
	#mc_unsub_link {
		margin-top: 1.0em;
	}
	.mc_header_address,
	.mc_email_format {
		display: block;
		font-weight: bold;
		margin-top: 1.0em;
		margin-bottom: 0.5em;
	}
	.mc_email_options {
		margin-top: 0.5em;
	}
	.mc_email_type {
		padding-left: 4px;
	}</style><div
id="mc_signup"><form
method="post" action="#mc_signup" id="mc_signup_form"> <input
type="hidden" id="mc_submit_type" name="mc_submit_type" value="html" /> <input
type="hidden" name="mcsf_action" value="mc_submit_signup_form" /> <input
type="hidden" id="_mc_submit_signup_form_nonce" name="_mc_submit_signup_form_nonce" value="528a10d57f" /><div
class="mc_form_inside"><div
class="updated" id="mc_message"></div><div
class="mc_merge_var"> <label
for="mc_mv_EMAIL" class="mc_var_label mc_header mc_header_email">Email Address</label> <input
type="text" size="18" placeholder="" name="mc_mv_EMAIL" id="mc_mv_EMAIL" class="mc_input"/></div><div
class="mc_signup_submit"> <input
type="submit" name="mc_signup_submit" id="mc_signup_submit" value="Send" class="button" /></div></div></form></div></div><p></p><hr
class="dot-line" />Related Posts<ul><li><a
href="../bitscan-cpp-library-bit-strings/index.html" title="BITSCAN: a C++ library for bit strings">BITSCAN: a C++ library for bit strings</a></li><li><a
href="../bit-parallel-approximate-coloring/index.html" title="Bit-parallel approximate coloring">Bit-parallel approximate coloring</a></li><li><a
href="../bit-encoded-graph/index.html" title="Bit-encoded Graphs">Bit-encoded Graphs</a></li><li><a
href="../quick-approach-bitscan/index.html" title="A quick approach to BITSCAN">A quick approach to BITSCAN</a></li></ul><div
class="addthis_toolbox addthis_default_style addthis_32x32_style" addthis:url='http://blog.biicode.com/sparse-bitsets-cpp/' addthis:title='Sparse bitsets in C++ with BITSCAN' ><a
class="addthis_button_facebook"></a><a
class="addthis_button_twitter"></a><a
class="addthis_button_google_plusone_share"></a><a
class="addthis_button_compact"></a><a
class="addthis_counter addthis_bubble_style"></a></div></div> <footer
class="entry-meta"> This entry was posted in <a
href="../category/bitscan-2/index.html" rel="category tag">BITSCAN</a> and tagged <a
href="../tag/bitscan/index.html" rel="tag">bitscan</a>, <a
href="../tag/bitstring-analysis/index.html" rel="tag">bitstring analysis</a>, <a
href="../tag/c/index.html" rel="tag">c++</a>, <a
href="../tag/cpp/index.html" rel="tag">cpp</a>, <a
href="../tag/graph/index.html" rel="tag">graph</a>. Bookmark the <a
href="index.html" title="Permalink to Sparse bitsets in C++ with BITSCAN" rel="bookmark">permalink</a>. </footer> </article> <nav
role="navigation" id="nav-below" class="navigation-post"><h1 class="screen-reader-text">Post navigation</h1><div
class="previous"><a
href="../our-story-ii/index.html" rel="prev"><span
class="meta-nav">&larr;</span> Our Story (II): Miguel Hernando&#8217;s road to entrepreneurship</a></div><div
class="next"><a
href="../template-metaprogramming-cpp-ii/index.html" rel="next">Template Metaprogramming with Modern C++: templates in depth <span
class="meta-nav">&rarr;</span></a></div> </nav><div
id="disqus_thread"></div> <script type="text/javascript">var disqus_url = 'index.html';
var disqus_identifier = '1584%20http_/blog.biicode.com/index44d6.html?p=1584';
var disqus_container_id = 'disqus_thread';
var disqus_shortname = 'biicodeblog';
var disqus_title = "Sparse bitsets in C++ with BITSCAN";
var disqus_config_custom = window.disqus_config;
var disqus_config = function () {
    /*
    All currently supported events:
    onReady: fires when everything is ready,
    onNewComment: fires when a new comment is posted,
    onIdentify: fires when user is authenticated
    */
    this.language = '';
        this.callbacks.onReady.push(function () {
        // sync comments in the background so we don't block the page
        var script = document.createElement('script');
        script.async = true;
        script.src = 'indexf3a8.html?cf_action=sync_comments&amp;post_id=1584';
        var firstScript = document.getElementsByTagName('script')[0];
        firstScript.parentNode.insertBefore(script, firstScript);
    });
    if (disqus_config_custom) {
        disqus_config_custom.call(this);
    }
};
(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script> </div></div><div
id="secondary" class="widget-area" role="complementary"> <aside
id="text-2" class="widget widget_text"><div
class="textwidget"><p
class="widgettitleWhatwedo" align="center"> biicode is:</p><p
class="hrOrange">&nbsp;</p><p
align="center" class="widgetxtWhatwedo">For <span
style="font-weight:normal">C/C++ developers,</span> biicode is a file-based dependencies manager that makes code reuse simple.</p><div
id="Sidebar-Tryforfree"> <img
src="../wp-content/uploads/sites/3/2014/05/try-it-for-free-on.jpg" /> <a
href="http://www.biicode.com/downloads"><img
class="top" src="../wp-content/uploads/sites/3/2014/05/try-it-for-free-off.jpg" /></a></div></div> </aside><aside
id="text-3" class="widget widget_text"><div
class="textwidget"> <a
href="https://www.biicode.com/biicode-open-source-challenge"><img
src="../wp-content/uploads/sites/3/2014/05/banner-open-source.jpg" /></a></div> </aside><aside
id="categories-2" class="widget widget_categories"><h1 class="widget-title">Categories</h1><label
class="screen-reader-text" for="cat">Categories</label><select
name='cat' id='cat' class='postform' ><option
value='-1'>Select Category</option><option
class="level-0" value="3">#biicontest2014</option><option
class="level-0" value="328">algorithms</option><option
class="level-0" value="350">Arduino</option><option
class="level-0" value="12">biicode</option><option
class="level-0" value="173">biicode-internals</option><option
class="level-0" value="7">biicoders</option><option
class="level-0" value="229">BITSCAN</option><option
class="level-0" value="372">c++</option><option
class="level-0" value="49">events</option><option
class="level-0" value="198">Gamedev</option><option
class="level-0" value="318">Integrations</option><option
class="level-0" value="209">Meta-programming</option><option
class="level-0" value="43">news</option><option
class="level-0" value="163">Our Story</option><option
class="level-0" value="269">Software design</option><option
class="level-0" value="50">try this out</option><option
class="level-0" value="225">ZeroMQ</option> </select> <script type='text/javascript'>/*  */
(function() {
	var dropdown = document.getElementById( "cat" );
	function onCatChange() {
		if ( dropdown.options[ dropdown.selectedIndex ].value > 0 ) {
			location.href = "http://blog.biicode.com/?cat=" + dropdown.options[ dropdown.selectedIndex ].value;
		}
	}
	dropdown.onchange = onCatChange;
})();
/*  */</script> </aside></div></div></div><div
id="containerfooter"> <footer><div
class="center"><div
class="footer-item company"><h3>About</h3><ul><li><a
href="http://web.biicode.com/about-us">Company</a></li><li><a
href="http://web.biicode.com/pricing">Pricing</a></li><li><a
href="http://web.biicode.com/jobs">Careers</a></li><li><a
href="http://web.biicode.com/meet-the-team">Team </a></li><li><a
href="http://web.biicode.com/contact-us/">Contact us </a></li></ul></div><div
class="footer-item contact"><h3>Features</h3><ul><li><a
href="http://web.biicode.com/features/arduino/">Arduino</a></li><li><a
href="http://web.biicode.com/features/raspberry-pi/">Raspberry Pi</a></li><li><a
href="http://web.biicode.com/features/cpp/">C/C++</a></li><li><a
href="http://web.biicode.com/features/nodejs/">Node.js</a></li></ul></div><div
class="footer-item resources"><h3>Resources</h3><ul><li><a
href="http://web.biicode.com/learn/getting-started">Getting Started</a></li><li><a
href="https://www.biicode.com/downloads">Downloads </a></li><li><a
href="http://www.biicode.com/explore">Explore</a></li><li><a
href="http://docs.biicode.com/">Documentation</a></li><li><a
href="http://forum.biicode.com/">Forum</a></li><li><a
href="../index.html">Blog</a></li></ul></div><div
class="footer-item resources"><h3>Community</h3><ul><li><a
href="http://web.biicode.com/community/friends/">Friends</a></li><li><a
href="http://web.biicode.com/community/roadmap/">Roadmap</a></li></ul></div><div
class="signupfooter"><div
id="signupfooter-bt"> <img
src="../wp-content/themes/truly-minimal-wpcom/img/footer/bt-sign-up-footer-on.png" /> <a
href="https://www.biicode.com/accounts/signup/"><img
class="top" src="../wp-content/themes/truly-minimal-wpcom/img/footer/bt-sign-up-footer-off.png" /></a></div><div
id="socialiconsfooter-bt"> <img
src="../wp-content/themes/truly-minimal-wpcom/img/footer/icon-fb-footer-on.png" /> <a
href="https://www.facebook.com/Biicode"><img
class="top" src="../wp-content/themes/truly-minimal-wpcom/img/footer/icon-fb-footer-off.png" /></a></div><div
id="socialiconsfooter-bt"> <img
src="../wp-content/themes/truly-minimal-wpcom/img/footer/icon-twitter-footer-on.png" /> <a
href="https://twitter.com/biicode"><img
class="top" src="../wp-content/themes/truly-minimal-wpcom/img/footer/icon-twitter-footer-off.png" /></a></div><div
id="socialiconsfooter-bt"> <img
src="../wp-content/themes/truly-minimal-wpcom/img/footer/icon-google-footer-on.png" /> <a
href="https://plus.google.com/110838391970414654069/posts"><img
class="top" src="../wp-content/themes/truly-minimal-wpcom/img/footer/icon-google-footer-off.png" /></a></div><div
id="socialiconsfooter-bt"> <img
src="../wp-content/themes/truly-minimal-wpcom/img/footer/icon-linkedin-footer-on.png" /> <a
href="http://www.linkedin.com/company/biicode"><img
class="top" src="../wp-content/themes/truly-minimal-wpcom/img/footer/icon-linkedin-footer-off.png" /></a></div></div><div
class="center copyright"> <img
src="../wp-content/themes/truly-minimal-wpcom/img/footer/biicoce-logo-footer.png" class="logo" width="32" height="42" /><p>© 2014 Biicode. All rights reserved · <a
href="http://web.biicode.com/legal/terms-and-conditions">Terms and conditions</a> · <a
href="http://web.biicode.com/legal/privacy-policy">Privacy Policy</a> · <a
href="http://web.biicode.com/legal/community-guidelines">Community guidelines</a></p></div></div> </footer></div>
 <script type="text/javascript">//
			jQuery(document).ready(function() {
				// Edit 09/05: remove globals and package into Object Literal, and removed the debug function
				cli_show_cookiebar({
					html: '<div id="cookie-law-info-bar"><span>This website uses cookies to improve your experience. We\'ll assume you\'re ok with this, but you can opt-out if you wish.<a href=\"#\" id=\"cookie_action_close_header\"  class=\"medium cli-plugin-button cli-plugin-main-button\" >Accept</a> <a href=\"http://web.biicode.com/legal/privacy-policy/\" id=\"CONSTANT_OPEN_URL\" target=\"_new\"  class=\"cli-plugin-main-link\"  >Read More</a></span></div><div id="cookie-law-info-again"><span id="cookie_hdr_showagain">Privacy & Cookies Policy</span></div>',
					settings: '{"animate_speed_hide":"500","animate_speed_show":"500","background":"#fff","border":"#444","border_on":true,"button_1_button_colour":"#000000","button_1_button_hover":"#000000","button_1_link_colour":"#fff","button_1_as_button":true,"button_2_button_colour":"#333","button_2_button_hover":"#292929","button_2_link_colour":"#444","button_2_as_button":false,"font_family":"Arial, Helvetica, sans-serif","notify_animate_hide":true,"notify_animate_show":false,"notify_div_id":"#cookie-law-info-bar","notify_position_horizontal":"right","notify_position_vertical":"bottom","scroll_close":false,"scroll_close_reload":false,"showagain_tab":true,"showagain_background":"#fff","showagain_border":"#000","showagain_div_id":"#cookie-law-info-again","showagain_x_position":"100px","text":"#000","show_once_yn":false,"show_once":"10000"}'
				});
			});
			//</script> <script type="text/javascript">// 
        var disqus_shortname = 'biicodeblog';
        (function () {
            var nodes = document.getElementsByTagName('span');
            for (var i = 0, url; i < nodes.length; i++) {
                if (nodes[i].className.indexOf('dsq-postid') != -1) {
                    nodes[i].parentNode.setAttribute('data-disqus-identifier', nodes[i].getAttribute('data-dsqidentifier'));
                    url = nodes[i].parentNode.href.split('#', 1);
                    if (url.length == 1) { url = url[0]; }
                    else { url = url[1]; }
                    nodes[i].parentNode.href = url + '#disqus_thread';
                }
            }
            var s = document.createElement('script');
            s.async = true;
            s.type = 'text/javascript';
            s.src = '//' + disqus_shortname + '.disqus.com/count.js';
            (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
        }());
        //</script><script type="text/javascript">if (typeof(addthis_share) == "undefined"){ addthis_share = {"passthrough":{"twitter":{"via":"biicode"}}};}

var addthis_config = {"data_track_clickback":false,"data_track_addressbar":false,"data_track_textcopy":false,"ui_atversion":"300"};
var addthis_product = 'wpp-4.0.7';
</script><script type="text/javascript" src="../../s7.addthis.com/js/300/addthis_widget.js#pubid=ra-522dcd676fbf553f"></script><script type="text/javascript">
jQuery(window).load(function(){
  var q2w3_sidebar_1_options = { "sidebar" : "sidebar-1", "margin_top" : 10, "margin_bottom" : 450, "screen_max_width" : 0, "width_inherit" : false, "widgets" : ['text-2','text-3','categories-2'] };
  q2w3_sidebar(q2w3_sidebar_1_options);
  setInterval(function () { q2w3_sidebar(q2w3_sidebar_1_options); }, 1500);
});
</script>
<script type='text/javascript' src='../wp-content/themes/truly-minimal-wpcom/js/navigation11a8.js?ver=20120206'></script>
<script type='text/javascript' src='../wp-content/themes/truly-minimal-wpcom/js/skip-link-focus-fix08e0.js?ver=20130115'></script>
<script type='text/javascript' src='../wp-includes/js/comment-reply.mind19b.js?ver=4.2.5'></script>
<!--wp_footer-->
</body>

<!-- Mirrored from blog.biicode.com/sparse-bitsets-cpp/ by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 03 Jan 2016 00:51:22 GMT -->
</html>