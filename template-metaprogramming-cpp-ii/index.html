<!DOCTYPE html><html
lang="en-US" xmlns:fb="http://ogp.me/ns/fb#" xmlns:addthis="http://www.addthis.com/help/api-spec"  prefix="og: http://ogp.me/ns#">
<!-- Mirrored from blog.biicode.com/template-metaprogramming-cpp-ii/ by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 03 Jan 2016 00:43:33 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head><link
rel='stylesheet' href='../wp-content/plugins/wp-minify/min/index1667.css?f=wp-content/plugins/wp-currency-converter/css/wp-currency-converter.css,wp-content/plugins/addthis/css/output.css,wp-content/plugins/crayon-syntax-highlighter/css/min/crayon.min.css,wp-content/uploads/sites/2/crayon-syntax-highlighter/themes/biicode/biicode.css,wp-content/plugins/crayon-syntax-highlighter/fonts/inconsolata.css,wp-content/plugins/cookie-law-info/css/cli-style.css,wp-content/themes/truly-minimal-wpcom/style.css,wp-content/plugins/tablepress/css/default.min.css&amp;m=1434970912' type='text/css' media='screen' /> <script type='text/javascript' src='../wp-content/plugins/wp-minify/min/index5cdb.css?f=wp-content/themes/truly-minimal-wpcom/js/html5.js,wp-includes/js/jquery/jquery.js,wp-includes/js/jquery/jquery-migrate.min.js,wp-content/plugins/q2w3-fixed-widget/js/q2w3-fixed-widget.min.js,wp-content/plugins/wp-currency-converter/js/wp-currency-converter.js,wp-content/plugins/crayon-syntax-highlighter/js/min/crayon.min.js,wp-content/plugins/cookie-law-info/js/cookielawinfo.js&amp;m=1434970912'></script> <meta
charset="UTF-8" /><meta
name="viewport" content="width=device-width" /><title>Template Metaprogramming w/ Modern C++ (II) - biicode blog</title><link
rel="profile" href="http://gmpg.org/xfn/11" /><link
rel="pingback" href="../xmlrpc.php" /> <!--[if lt IE 9]> <![endif]--> <script type="text/javascript" src="../../biiwebproduction.s3.amazonaws.com/static/js/home/jquery-1.7.1.min.js"></script> <script type="text/javascript" src="../../biiwebproduction.s3.amazonaws.com/static/js/home/jquery.easing.1.3.js"></script> <script type="text/javascript" src="../../biiwebproduction.s3.amazonaws.com/static/js/nav/nav.js"></script> <meta
name="description" content="In this post we will learn C++ template metaprogramming in depth: Class &amp; function templates, template parameters, variadic templates with examples."/><link
rel="canonical" href="index.html" /><link
rel="publisher" href="http://plus.google.com/+biicode"/><meta
property="og:locale" content="en_US" /><meta
property="og:type" content="article" /><meta
property="og:title" content="Template Metaprogramming w/ Modern C++ (II) - biicode blog" /><meta
property="og:description" content="In this post we will learn C++ template metaprogramming in depth: Class &amp; function templates, template parameters, variadic templates with examples." /><meta
property="og:url" content="http://blog.biicode.com/template-metaprogramming-cpp-ii/" /><meta
property="og:site_name" content="biicode Blog" /><meta
property="article:publisher" content="https://www.facebook.com/Biicode" /><meta
property="article:tag" content="c++" /><meta
property="article:tag" content="c++11" /><meta
property="article:tag" content="c++14" /><meta
property="article:tag" content="cpp" /><meta
property="article:tag" content="metaprogramming" /><meta
property="article:tag" content="modern c++" /><meta
property="article:tag" content="template metaprogramming" /><meta
property="article:section" content="Meta-programming" /><meta
property="article:published_time" content="2014-09-25T10:42:40+00:00" /><meta
property="article:modified_time" content="2014-10-09T17:55:38+00:00" /><meta
property="og:updated_time" content="2014-10-09T17:55:38+00:00" /><meta
property="og:image" content="http://blog.biicode.com/wp-content/uploads/sites/2/2014/09/template-metaprogramming-modern-cplus.jpg" /><link
rel="alternate" type="application/rss+xml" title="biicode Blog &raquo; Feed" href="http://feeds.feedburner.com/biicodeblog" /><link
rel="alternate" type="application/rss+xml" title="biicode Blog &raquo; Comments Feed" href="../comments/feed/index.html" /><meta
name="twitter:card" content="summary_large_image"><meta
name="twitter:creator" content="@Manu343726"><meta
name="twitter:site" content="@biicode"><meta
property="og:title" content="Template Metaprogramming w/ Modern C++ (II) - biicode blog"><meta
property="og:image" content="http://blog.biicode.com/wp-content/uploads/sites/2/2014/09/template-metaprogramming-modern-cplus.jpg"><meta
property="og:image:width" content="280"><meta
property="og:image:height" content="150"><link
rel="alternate" type="application/rss+xml" title="biicode Blog &raquo; Template Metaprogramming with Modern C++: templates in depth Comments Feed" href="feed/index.html" /> <script type="text/javascript">window._wpemojiSettings = {"baseUrl":"http:\/\/s.w.org\/images\/core\/emoji\/72x72\/","ext":".png","source":{"concatemoji":"http:\/\/blog.biicode.com\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.2.5"}};
			!function(a,b,c){function d(a){var c=b.createElement("canvas"),d=c.getContext&&c.getContext("2d");return d&&d.fillText?(d.textBaseline="top",d.font="600 32px Arial","flag"===a?(d.fillText(String.fromCharCode(55356,56812,55356,56807),0,0),c.toDataURL().length>3e3):(d.fillText(String.fromCharCode(55357,56835),0,0),0!==d.getImageData(16,16,1,1).data[0])):!1}function e(a){var c=b.createElement("script");c.src=a,c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g;c.supports={simple:d("simple"),flag:d("flag")},c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.simple&&c.supports.flag||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);</script> <style type="text/css">img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}</style><link
rel='stylesheet' id='mailchimpSF_main_css-css'  href='../index2740.html?mcsf_action=main_css&amp;ver=4.2.5' type='text/css' media='all' /> <!--[if IE]><link
rel='stylesheet' id='mailchimpSF_ie_css-css'  href='http://blog.biicode.com/wp-content/plugins/mailchimp/css/ie.css?ver=4.2.5' type='text/css' media='all' /> <![endif]--><link
rel='stylesheet' id='truly-minimal-droid-serif-css'  href='http://fonts.googleapis.com/css?family=Droid+Serif%3A400%2C700%2C400italic%2C700italic&amp;ver=4.2.5' type='text/css' media='all' /><link
rel='stylesheet' id='truly-minimal-droid-sans-css'  href='http://fonts.googleapis.com/css?family=Droid+Sans%3A400%2C700&amp;ver=4.2.5' type='text/css' media='all' /> <script type='text/javascript'>/*  */
var CrayonSyntaxSettings = {"version":"2.7.1","is_admin":"0","ajaxurl":"http:\/\/blog.biicode.com\/wp-admin\/admin-ajax.php","prefix":"crayon-","setting":"crayon-setting","selected":"crayon-setting-selected","changed":"crayon-setting-changed","special":"crayon-setting-special","orig_value":"data-orig-value","debug":""};
var CrayonSyntaxStrings = {"copy":"Press %s to Copy, %s to Paste","minimize":"Click To Expand Code"};
/*  */</script> <link
rel="EditURI" type="application/rsd+xml" title="RSD" href="../xmlrpc0db0.php?rsd" /><link
rel="wlwmanifest" type="application/wlwmanifest+xml" href="../wp-includes/wlwmanifest.xml" /><link
rel='shortlink' href='../indexbab4.html?p=1682' /> <script data-cfasync="false" src="http://load.sumome.com/" data-sumo-site-id="8d5d163c33e2beb1876a5027edd9a9c4c583be61433be230b24e6bcfc0387265" async></script><script type="text/javascript">var wpccAjaxLink = "../wp-admin/admin-ajax.html";</script>  <script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','../../www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-41860930-1', 'auto');
	ga('require', 'displayfeatures');
	ga('set', 'forceSSL', true);
	ga('send', 'pageview');</script>  <script type="text/javascript">jQuery(document).ready(function(e) {
    jQuery('a').click(function(e) {
		var $this = jQuery(this);
      	var href = $this.prop('href').split('?')[0];
		var ext = href.split('.').pop();
		if ('xls,xlsx,doc,docx,ppt,pot,pptx,pdf,pub,txt,zip,rar,tar,7z,gz,exe,wma,mov,avi,wmv,wav,mp3,midi,csv,tsv,jar,psd,pdn,ai,pez,wwf,torrent,cbr'.split(',').indexOf(ext) !== -1) {
        ga('send', 'event', 'Download', ext, href);
      }
	  if (href.toLowerCase().indexOf('mailto:') === 0) {
        ga('send', 'event', 'Mailto', href.substr(7));
      }
	  if (href.toLowerCase().indexOf('tel:') === 0) {
        ga('send', 'event', 'Phone number', href.substr(4));
      }
      if ((this.protocol === 'http:' || this.protocol === 'index.html') && this.hostname.indexOf(document.location.hostname) === -1) {
        ga('send', 'event', 'Outbound', this.hostname, this.pathname);
      }
	});
});</script> <style type="text/css">.site-title a {
			color: #f48123;
		}</style><link
href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'></head><body
class="single single-post postid-1682 single-format-standard group-blog sidebar-right"><div
id="ContainerHeader"> <a
id="forkme" href="https://biicode.github.io/biicode"><img
style="z-index: 4;position: absolute; top: 0; left: 0; border: 0;" src="https://camo.githubusercontent.com/8b6b8ccc6da3aa5722903da7b58eb5ab1081adee/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f6c6566745f6f72616e67655f6666373630302e706e67" alt="Fork me on GitHub" data-canonical-src="../../s3.amazonaws.com/github/ribbons/forkme_left_orange_ff7600.png"></a><div
id="ContainerwidthHeader"><div
id="header"> <header
id="menu"><div
id="logo"> <a
href="https://www.biicode.com/"><img
src="../wp-content/themes/truly-minimal-wpcom/img/header/biicode-logo.png" alt="Biicode-logo" /></a></div><div
id="search-form"><form
method="get" id="searchform" class="searchform" action="http://blog.biicode.com/" role="search"><div
class="form-container"><input
type="search" class="search-field" name="s" value="" id="s" placeholder="Search in Blog &hellip;" /><div
class="submit-container"><input
name="search" value=""  type="submit" class="submit-bt" /></div></div></form></div> <nav
class="right"><ul><li><a
href="https://www.biicode.com/explore">Explore</a></li><li><a
href="http://web.biicode.com/pricing/">Plans</a></li><li> Learn <img
src="../wp-content/themes/truly-minimal-wpcom/img/header/arrow-drop-down-menu.jpg" style="margin:0px 0px 3px 4px" width="8" height="4" /><ul><li><a
href="http://web.biicode.com/learn/getting-started">Get Started</a></li><li><a
href="https://www.biicode.com/downloads">Downloads</a></li><li><a
href="http://docs.biicode.com/">Docs</a></li><li><a
href="http://forum.biicode.com/">Forum</a></li></ul></li><li><a
href="https://www.biicode.com/accounts/login">Log in</a></li></ul> </nav><div
id="signup-bt"> <img
src="../wp-content/themes/truly-minimal-wpcom/img/header/bt-signup-on.jpg" /> <a
href="https://www.biicode.com/accounts/signup/"><img
class="top" src="../wp-content/themes/truly-minimal-wpcom/img/header/bt-signup-off.jpg" /></a></div> </header></div><p
id="breadcrumbs"><span
xmlns:v="http://rdf.data-vocabulary.org/#"><span
typeof="v:Breadcrumb"><a
href="../index.html" rel="v:url" property="v:title">Biicode Blog</a> » <span
rel="v:child" typeof="v:Breadcrumb"><a
href="../category/meta-programming/index.html" rel="v:url" property="v:title">Meta-programming</a> » <strong
class="breadcrumb_last">Template Metaprogramming with Modern C++: templates in depth</strong></span></span></span></p></div></div><div
id="page" class="hfeed site"><div
id="main" class="site-main"><div
id="primary" class="content-area"><div
id="content" class="site-content" role="main"> <article
id="post-1682" class="post-1682 post type-post status-publish format-standard has-post-thumbnail hentry category-meta-programming tag-c tag-c11 tag-c14 tag-cpp tag-metaprogramming tag-modern-c tag-template-metaprogramming"> <header
class="entry-header"><h1 class="entry-title">Template Metaprogramming with Modern C++: templates in depth</h1><div
class="entry-meta"> Posted on <a
href="index.html" title="10:42" rel="bookmark"><time
class="entry-date" datetime="2014-09-25T10:42:40+00:00">September 25, 2014</time></a><span
class="byline"> by <span
class="author vcard"><a
class="url fn n" href="../author/manu343726/index.html" title="View all posts by Manu Sánchez" rel="author">Manu Sánchez</a></span></span></div> </header><div
class="entry-content"> <article
class="markdown-body entry-content"><h2><a
class="anchor" href="#template-metaprogramming-with-modern-c-templates-in-depth" name="user-content-template-metaprogramming-with-modern-c-templates-in-depth"></a>Template Metaprogramming with Modern C++: Templates in depth</h2><p><a
title="The last time" href="../template-metaprogramming-with-modern-cpp-introduction/index.html" target="_blank">The last time </a> we learnt what metaprogramming was, how metaprogramming in C++ via templates works, and the functional spirit of the embedded language that C++ template metaprogramming is.</p><p>In this post we will learn C++ templates in depth: Class and function templates, template parameters, variadic templates, all with in depth examples.<br
/> <em>SPOILER: Finally, there is no SFINAE explanation on this post. This has a large amount of contents to be read and understood, I think understanding correctly the template system and the different categories of template parameters is good enough for a single (But large) blog post. Of course, if there is any problem feel free to post a comment here.</em></p><p><img
class="aligncenter" src="../wp-content/uploads/sites/3/2014/05/template-metaprogramming-modern-cplus.jpg" alt="Template Metaprogramming Modern C++ in biicode" width="800" height="329" /><br
/> <span
id="more-1682"></span></p><h2><a
class="anchor" href="#the-template-system-function-and-class-templates" name="user-content-the-template-system-function-and-class-templates"></a>The template system: Function and class templates</h2><p>As we have seen in the first post, the C++ template system generates C++ types and functions from an specification written by the programmer, what we call <em>template</em>. And of course generating a type means generating code too, since normally C++ types are coupled to code (That&#8217;s the concept of a class).</p><p>Lets see how those templates work. First a simple template function:</p><div
id="crayon-56886be162e61671729721" class="crayon-syntax crayon-theme-biicode crayon-font-inconsolata crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 14px !important; line-height: 15px !important;"><div
class="crayon-toolbar" data-settings=" mouseover hide delay" style="font-size: 14px !important;height: 21px !important; line-height: 21px !important;"><span
class="crayon-title"></span><div
class="crayon-tools" style="font-size: 14px !important;height: 21px !important; line-height: 21px !important;"><div
class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div
class="crayon-button-icon"></div></div><div
class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div
class="crayon-button-icon"></div></div><div
class="crayon-button crayon-expand-button" title="Expand Code"><div
class="crayon-button-icon"></div></div><div
class="crayon-button crayon-copy-button" title="Copy"><div
class="crayon-button-icon"></div></div><div
class="crayon-button crayon-popup-button" title="Open Code In New Window"><div
class="crayon-button-icon"></div></div><span
class="crayon-language">C++</span></div></div><div
class="crayon-info" style="min-height: 19.6px !important; line-height: 19.6px !important;"></div><div
class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 15px !important;">
template&lt;typename T&gt;
T identity( const T&amp; e )
{
	return e;
}</textarea></div><div
class="crayon-main" style=""><table
class="crayon-table"><tr
class="crayon-row"><td
class="crayon-nums " data-settings="show"><div
class="crayon-nums-content" style="font-size: 14px !important; line-height: 15px !important;"><div
class="crayon-num" data-line="crayon-56886be162e61671729721-1">1</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886be162e61671729721-2">2</div><div
class="crayon-num" data-line="crayon-56886be162e61671729721-3">3</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886be162e61671729721-4">4</div><div
class="crayon-num" data-line="crayon-56886be162e61671729721-5">5</div></div></td><td
class="crayon-code"><div
class="crayon-pre" style="font-size: 14px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div
class="crayon-line" id="crayon-56886be162e61671729721-1"><span
class="crayon-t">template</span><span
class="crayon-o">&lt;</span><span
class="crayon-r">typename</span><span
class="crayon-h"> </span><span
class="crayon-v">T</span><span
class="crayon-o">&gt;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886be162e61671729721-2"><span
class="crayon-i">T</span><span
class="crayon-h"> </span><span
class="crayon-e">identity</span><span
class="crayon-sy">(</span><span
class="crayon-h"> </span><span
class="crayon-m">const</span><span
class="crayon-h"> </span><span
class="crayon-v">T</span><span
class="crayon-o">&amp;</span><span
class="crayon-h"> </span><span
class="crayon-i">e</span><span
class="crayon-h"> </span><span
class="crayon-sy">)</span></div><div
class="crayon-line" id="crayon-56886be162e61671729721-3"><span
class="crayon-sy">{</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886be162e61671729721-4"><span
class="crayon-h"> </span><span
class="crayon-st">return</span><span
class="crayon-h"> </span><span
class="crayon-v">e</span><span
class="crayon-sy">;</span></div><div
class="crayon-line" id="crayon-56886be162e61671729721-5"><span
class="crayon-sy">}</span></div></div></td></tr></table></div></div><p>This simple template declares a family of functions that take a value of any type <code>T</code> and returns it untouched. Its the runtime version of the metafunction we seen in the first post.<br
/> When the programmer uses that template:</p><div
id="crayon-56886be162e7c596243557" class="crayon-syntax crayon-theme-biicode crayon-font-inconsolata crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 14px !important; line-height: 15px !important;"><div
class="crayon-toolbar" data-settings=" mouseover hide delay" style="font-size: 14px !important;height: 21px !important; line-height: 21px !important;"><span
class="crayon-title"></span><div
class="crayon-tools" style="font-size: 14px !important;height: 21px !important; line-height: 21px !important;"><div
class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div
class="crayon-button-icon"></div></div><div
class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div
class="crayon-button-icon"></div></div><div
class="crayon-button crayon-expand-button" title="Expand Code"><div
class="crayon-button-icon"></div></div><div
class="crayon-button crayon-copy-button" title="Copy"><div
class="crayon-button-icon"></div></div><div
class="crayon-button crayon-popup-button" title="Open Code In New Window"><div
class="crayon-button-icon"></div></div></div></div><div
class="crayon-info" style="min-height: 19.6px !important; line-height: 19.6px !important;"></div><div
class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 15px !important;">
int i = identity(0);</textarea></div><div
class="crayon-main" style=""><table
class="crayon-table"><tr
class="crayon-row"><td
class="crayon-nums " data-settings="show"><div
class="crayon-nums-content" style="font-size: 14px !important; line-height: 15px !important;"><div
class="crayon-num" data-line="crayon-56886be162e7c596243557-1">1</div></div></td><td
class="crayon-code"><div
class="crayon-pre" style="font-size: 14px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div
class="crayon-line" id="crayon-56886be162e7c596243557-1"><span
class="crayon-t">int</span><span
class="crayon-h"> </span><span
class="crayon-v">i</span><span
class="crayon-h"> </span><span
class="crayon-o">=</span><span
class="crayon-h"> </span><span
class="crayon-e">identity</span><span
class="crayon-sy">(</span><span
class="crayon-cn">0</span><span
class="crayon-sy">)</span><span
class="crayon-sy">;</span></div></div></td></tr></table></div></div><p>the compiler instantiates the template using the correct parameters, an <code>int</code> type parameter in this case.<br
/> <em>Note how template parameters are inferred from the function argumentsassed to the template function. This is why when using function templates is not neccessary nor a good practice to pass template parameters explicitly. Only is needed in some cases when a parameter could not be inferred from the function arguments <a
href="http://en.cppreference.com/w/cpp/memory/shared_ptr/make_shared"><code>std::make_shared()</code></a> for an example.</em></p><p>Exactly the same occurs for class templates: The compiler generates one type (class) and its corresponding code for each combination of template parameters.</p><p>There is one point to be noted: Its true that the compiler generates one instantation for each combination of parameters, but <strong>modern C++ compilers are smart enough to not generate executable code for templates that are not actually used in the program.</strong> Also, modern compilers perform memoization during template instantiation, which increases the performance of the template system. Both optimizations make invalid the old arargumentaying that C++ templates increase executable size. <strong>That&#8217;s not completely true, since the compiler only generates code for the things that are actually used</strong>, after optimizations like inlining, dead code elimination, etc.</p><p>See for example the classic fibonacci metafunction:</p><div
id="crayon-56886be162e8c278131050" class="crayon-syntax crayon-theme-biicode crayon-font-inconsolata crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 14px !important; line-height: 15px !important;"><div
class="crayon-toolbar" data-settings=" mouseover hide delay" style="font-size: 14px !important;height: 21px !important; line-height: 21px !important;"><span
class="crayon-title"></span><div
class="crayon-tools" style="font-size: 14px !important;height: 21px !important; line-height: 21px !important;"><div
class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div
class="crayon-button-icon"></div></div><div
class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div
class="crayon-button-icon"></div></div><div
class="crayon-button crayon-expand-button" title="Expand Code"><div
class="crayon-button-icon"></div></div><div
class="crayon-button crayon-copy-button" title="Copy"><div
class="crayon-button-icon"></div></div><div
class="crayon-button crayon-popup-button" title="Open Code In New Window"><div
class="crayon-button-icon"></div></div><span
class="crayon-language">C++</span></div></div><div
class="crayon-info" style="min-height: 19.6px !important; line-height: 19.6px !important;"></div><div
class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 15px !important;">
template&lt;int n&gt;
struct fibonacci
{
	static constexpr int value = fibonacci&lt;n-1&gt;::value + fibonacci&lt;n-2&gt;::value;
};
template&lt;&gt;
struct fibonacci&lt;0&gt;
{
	static constexpr value = 0;
};
template&lt;&gt;
struct Fibonacci&lt;1&gt;
{
	static conexpr value = 1;
};</textarea></div><div
class="crayon-main" style=""><table
class="crayon-table"><tr
class="crayon-row"><td
class="crayon-nums " data-settings="show"><div
class="crayon-nums-content" style="font-size: 14px !important; line-height: 15px !important;"><div
class="crayon-num" data-line="crayon-56886be162e8c278131050-1">1</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886be162e8c278131050-2">2</div><div
class="crayon-num" data-line="crayon-56886be162e8c278131050-3">3</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886be162e8c278131050-4">4</div><div
class="crayon-num" data-line="crayon-56886be162e8c278131050-5">5</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886be162e8c278131050-6">6</div><div
class="crayon-num" data-line="crayon-56886be162e8c278131050-7">7</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886be162e8c278131050-8">8</div><div
class="crayon-num" data-line="crayon-56886be162e8c278131050-9">9</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886be162e8c278131050-10">10</div><div
class="crayon-num" data-line="crayon-56886be162e8c278131050-11">11</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886be162e8c278131050-12">12</div><div
class="crayon-num" data-line="crayon-56886be162e8c278131050-13">13</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886be162e8c278131050-14">14</div><div
class="crayon-num" data-line="crayon-56886be162e8c278131050-15">15</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886be162e8c278131050-16">16</div><div
class="crayon-num" data-line="crayon-56886be162e8c278131050-17">17</div></div></td><td
class="crayon-code"><div
class="crayon-pre" style="font-size: 14px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div
class="crayon-line" id="crayon-56886be162e8c278131050-1"><span
class="crayon-t">template</span><span
class="crayon-o">&lt;</span><span
class="crayon-t">int</span><span
class="crayon-h"> </span><span
class="crayon-e">n</span><span
class="crayon-o">&gt;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886be162e8c278131050-2"><span
class="crayon-t">struct</span><span
class="crayon-h"> </span><span
class="crayon-e">fibonacci</span></div><div
class="crayon-line" id="crayon-56886be162e8c278131050-3"><span
class="crayon-sy">{</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886be162e8c278131050-4"><span
class="crayon-h"> </span><span
class="crayon-m">static</span><span
class="crayon-h"> </span><span
class="crayon-t">constexpr</span><span
class="crayon-h"> </span><span
class="crayon-t">int</span><span
class="crayon-h"> </span><span
class="crayon-t">value</span><span
class="crayon-h"> </span><span
class="crayon-o">=</span><span
class="crayon-h"> </span><span
class="crayon-v">fibonacci</span><span
class="crayon-o">&lt;</span><span
class="crayon-v">n</span><span
class="crayon-o">-</span><span
class="crayon-cn">1</span><span
class="crayon-o">&gt;</span><span
class="crayon-o">::</span><span
class="crayon-t">value</span><span
class="crayon-h"> </span><span
class="crayon-o">+</span><span
class="crayon-h"> </span><span
class="crayon-v">fibonacci</span><span
class="crayon-o">&lt;</span><span
class="crayon-v">n</span><span
class="crayon-o">-</span><span
class="crayon-cn">2</span><span
class="crayon-o">&gt;</span><span
class="crayon-o">::</span><span
class="crayon-t">value</span><span
class="crayon-sy">;</span></div><div
class="crayon-line" id="crayon-56886be162e8c278131050-5"><span
class="crayon-sy">}</span><span
class="crayon-sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886be162e8c278131050-6">&nbsp;</div><div
class="crayon-line" id="crayon-56886be162e8c278131050-7"><span
class="crayon-t">template</span><span
class="crayon-o">&lt;&gt;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886be162e8c278131050-8"><span
class="crayon-t">struct</span><span
class="crayon-h"> </span><span
class="crayon-e">fibonacci</span><span
class="crayon-o">&lt;</span><span
class="crayon-cn">0</span><span
class="crayon-o">&gt;</span></div><div
class="crayon-line" id="crayon-56886be162e8c278131050-9"><span
class="crayon-sy">{</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886be162e8c278131050-10"><span
class="crayon-h"> </span><span
class="crayon-m">static</span><span
class="crayon-h"> </span><span
class="crayon-t">constexpr</span><span
class="crayon-h"> </span><span
class="crayon-t">value</span><span
class="crayon-h"> </span><span
class="crayon-o">=</span><span
class="crayon-h"> </span><span
class="crayon-cn">0</span><span
class="crayon-sy">;</span></div><div
class="crayon-line" id="crayon-56886be162e8c278131050-11"><span
class="crayon-sy">}</span><span
class="crayon-sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886be162e8c278131050-12">&nbsp;</div><div
class="crayon-line" id="crayon-56886be162e8c278131050-13"><span
class="crayon-t">template</span><span
class="crayon-o">&lt;&gt;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886be162e8c278131050-14"><span
class="crayon-t">struct</span><span
class="crayon-h"> </span><span
class="crayon-e">Fibonacci</span><span
class="crayon-o">&lt;</span><span
class="crayon-cn">1</span><span
class="crayon-o">&gt;</span></div><div
class="crayon-line" id="crayon-56886be162e8c278131050-15"><span
class="crayon-sy">{</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886be162e8c278131050-16"><span
class="crayon-h"> </span><span
class="crayon-m">static</span><span
class="crayon-h"> </span><span
class="crayon-e">conexpr </span><span
class="crayon-t">value</span><span
class="crayon-h"> </span><span
class="crayon-o">=</span><span
class="crayon-h"> </span><span
class="crayon-cn">1</span><span
class="crayon-sy">;</span></div><div
class="crayon-line" id="crayon-56886be162e8c278131050-17"><span
class="crayon-sy">}</span><span
class="crayon-sy">;</span></div></div></td></tr></table></div></div><p>This is the instantation tree for a <code>fibonacci&lt;5&gt;</code> template instance:</p><div
id="crayon-56886be162e97206866378" class="crayon-syntax crayon-theme-biicode crayon-font-inconsolata crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 14px !important; line-height: 15px !important;"><div
class="crayon-toolbar" data-settings=" mouseover hide delay" style="font-size: 14px !important;height: 21px !important; line-height: 21px !important;"><span
class="crayon-title"></span><div
class="crayon-tools" style="font-size: 14px !important;height: 21px !important; line-height: 21px !important;"><div
class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div
class="crayon-button-icon"></div></div><div
class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div
class="crayon-button-icon"></div></div><div
class="crayon-button crayon-expand-button" title="Expand Code"><div
class="crayon-button-icon"></div></div><div
class="crayon-button crayon-copy-button" title="Copy"><div
class="crayon-button-icon"></div></div><div
class="crayon-button crayon-popup-button" title="Open Code In New Window"><div
class="crayon-button-icon"></div></div><span
class="crayon-language">C++</span></div></div><div
class="crayon-info" style="min-height: 19.6px !important; line-height: 19.6px !important;"></div><div
class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 15px !important;">
                              +--------+
                              | fib&lt;5&gt; |
                              +--------+
                                  /\
                                 /  \
                                /    \
                               /      \
                        +--------+  +--------+
                        | fib&lt;4&gt; |  | fib&lt;3&gt; |
                        +--------+  +--------+
                            /\          /\
                           /  ...      /  \
                          /           /    \
                         /           /      \
                  +--------+  +--------+  +--------+
                  | fib&lt;3&gt; |  | fib&lt;2&gt; |  | fib&lt;1&gt; |
                  +--------+  +--------+  +--------+
                       /\          /\
                    ...  ...    ...  ...</textarea></div><div
class="crayon-main" style=""><table
class="crayon-table"><tr
class="crayon-row"><td
class="crayon-nums " data-settings="show"><div
class="crayon-nums-content" style="font-size: 14px !important; line-height: 15px !important;"><div
class="crayon-num" data-line="crayon-56886be162e97206866378-1">1</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886be162e97206866378-2">2</div><div
class="crayon-num" data-line="crayon-56886be162e97206866378-3">3</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886be162e97206866378-4">4</div><div
class="crayon-num" data-line="crayon-56886be162e97206866378-5">5</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886be162e97206866378-6">6</div><div
class="crayon-num" data-line="crayon-56886be162e97206866378-7">7</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886be162e97206866378-8">8</div><div
class="crayon-num" data-line="crayon-56886be162e97206866378-9">9</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886be162e97206866378-10">10</div><div
class="crayon-num" data-line="crayon-56886be162e97206866378-11">11</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886be162e97206866378-12">12</div><div
class="crayon-num" data-line="crayon-56886be162e97206866378-13">13</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886be162e97206866378-14">14</div><div
class="crayon-num" data-line="crayon-56886be162e97206866378-15">15</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886be162e97206866378-16">16</div><div
class="crayon-num" data-line="crayon-56886be162e97206866378-17">17</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886be162e97206866378-18">18</div><div
class="crayon-num" data-line="crayon-56886be162e97206866378-19">19</div></div></td><td
class="crayon-code"><div
class="crayon-pre" style="font-size: 14px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div
class="crayon-line" id="crayon-56886be162e97206866378-1"><span
class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="crayon-o">+</span><span
class="crayon-o">--</span><span
class="crayon-o">--</span><span
class="crayon-o">--</span><span
class="crayon-o">--</span><span
class="crayon-o">+</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886be162e97206866378-2"><span
class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="crayon-o">|</span><span
class="crayon-h"> </span><span
class="crayon-v">fib</span><span
class="crayon-o">&lt;</span><span
class="crayon-cn">5</span><span
class="crayon-o">&gt;</span><span
class="crayon-h"> </span><span
class="crayon-o">|</span></div><div
class="crayon-line" id="crayon-56886be162e97206866378-3"><span
class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="crayon-o">+</span><span
class="crayon-o">--</span><span
class="crayon-o">--</span><span
class="crayon-o">--</span><span
class="crayon-o">--</span><span
class="crayon-o">+</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886be162e97206866378-4"><span
class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="crayon-o">/</span><span
class="crayon-sy">\</span></div><div
class="crayon-line" id="crayon-56886be162e97206866378-5"><span
class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class="crayon-o">/</span><span
class="crayon-h">&nbsp;&nbsp;</span><span
class="crayon-sy">\</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886be162e97206866378-6"><span
class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="crayon-o">/</span><span
class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="crayon-sy">\</span></div><div
class="crayon-line" id="crayon-56886be162e97206866378-7"><span
class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class="crayon-o">/</span><span
class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="crayon-sy">\</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886be162e97206866378-8"><span
class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="crayon-o">+</span><span
class="crayon-o">--</span><span
class="crayon-o">--</span><span
class="crayon-o">--</span><span
class="crayon-o">--</span><span
class="crayon-o">+</span><span
class="crayon-h">&nbsp;&nbsp;</span><span
class="crayon-o">+</span><span
class="crayon-o">--</span><span
class="crayon-o">--</span><span
class="crayon-o">--</span><span
class="crayon-o">--</span><span
class="crayon-o">+</span></div><div
class="crayon-line" id="crayon-56886be162e97206866378-9"><span
class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="crayon-o">|</span><span
class="crayon-h"> </span><span
class="crayon-v">fib</span><span
class="crayon-o">&lt;</span><span
class="crayon-cn">4</span><span
class="crayon-o">&gt;</span><span
class="crayon-h"> </span><span
class="crayon-o">|</span><span
class="crayon-h">&nbsp;&nbsp;</span><span
class="crayon-o">|</span><span
class="crayon-h"> </span><span
class="crayon-v">fib</span><span
class="crayon-o">&lt;</span><span
class="crayon-cn">3</span><span
class="crayon-o">&gt;</span><span
class="crayon-h"> </span><span
class="crayon-o">|</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886be162e97206866378-10"><span
class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="crayon-o">+</span><span
class="crayon-o">--</span><span
class="crayon-o">--</span><span
class="crayon-o">--</span><span
class="crayon-o">--</span><span
class="crayon-o">+</span><span
class="crayon-h">&nbsp;&nbsp;</span><span
class="crayon-o">+</span><span
class="crayon-o">--</span><span
class="crayon-o">--</span><span
class="crayon-o">--</span><span
class="crayon-o">--</span><span
class="crayon-o">+</span></div><div
class="crayon-line" id="crayon-56886be162e97206866378-11"><span
class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="crayon-o">/</span><span
class="crayon-sy">\</span><span
class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="crayon-o">/</span><span
class="crayon-sy">\</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886be162e97206866378-12"><span
class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class="crayon-o">/</span><span
class="crayon-h">&nbsp;&nbsp;</span><span
class="crayon-sy">.</span><span
class="crayon-sy">.</span><span
class="crayon-sy">.</span><span
class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="crayon-o">/</span><span
class="crayon-h">&nbsp;&nbsp;</span><span
class="crayon-sy">\</span></div><div
class="crayon-line" id="crayon-56886be162e97206866378-13"><span
class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="crayon-o">/</span><span
class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class="crayon-o">/</span><span
class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="crayon-sy">\</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886be162e97206866378-14"><span
class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class="crayon-o">/</span><span
class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class="crayon-o">/</span><span
class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="crayon-sy">\</span></div><div
class="crayon-line" id="crayon-56886be162e97206866378-15"><span
class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="crayon-o">+</span><span
class="crayon-o">--</span><span
class="crayon-o">--</span><span
class="crayon-o">--</span><span
class="crayon-o">--</span><span
class="crayon-o">+</span><span
class="crayon-h">&nbsp;&nbsp;</span><span
class="crayon-o">+</span><span
class="crayon-o">--</span><span
class="crayon-o">--</span><span
class="crayon-o">--</span><span
class="crayon-o">--</span><span
class="crayon-o">+</span><span
class="crayon-h">&nbsp;&nbsp;</span><span
class="crayon-o">+</span><span
class="crayon-o">--</span><span
class="crayon-o">--</span><span
class="crayon-o">--</span><span
class="crayon-o">--</span><span
class="crayon-o">+</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886be162e97206866378-16"><span
class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="crayon-o">|</span><span
class="crayon-h"> </span><span
class="crayon-v">fib</span><span
class="crayon-o">&lt;</span><span
class="crayon-cn">3</span><span
class="crayon-o">&gt;</span><span
class="crayon-h"> </span><span
class="crayon-o">|</span><span
class="crayon-h">&nbsp;&nbsp;</span><span
class="crayon-o">|</span><span
class="crayon-h"> </span><span
class="crayon-v">fib</span><span
class="crayon-o">&lt;</span><span
class="crayon-cn">2</span><span
class="crayon-o">&gt;</span><span
class="crayon-h"> </span><span
class="crayon-o">|</span><span
class="crayon-h">&nbsp;&nbsp;</span><span
class="crayon-o">|</span><span
class="crayon-h"> </span><span
class="crayon-v">fib</span><span
class="crayon-o">&lt;</span><span
class="crayon-cn">1</span><span
class="crayon-o">&gt;</span><span
class="crayon-h"> </span><span
class="crayon-o">|</span></div><div
class="crayon-line" id="crayon-56886be162e97206866378-17"><span
class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="crayon-o">+</span><span
class="crayon-o">--</span><span
class="crayon-o">--</span><span
class="crayon-o">--</span><span
class="crayon-o">--</span><span
class="crayon-o">+</span><span
class="crayon-h">&nbsp;&nbsp;</span><span
class="crayon-o">+</span><span
class="crayon-o">--</span><span
class="crayon-o">--</span><span
class="crayon-o">--</span><span
class="crayon-o">--</span><span
class="crayon-o">+</span><span
class="crayon-h">&nbsp;&nbsp;</span><span
class="crayon-o">+</span><span
class="crayon-o">--</span><span
class="crayon-o">--</span><span
class="crayon-o">--</span><span
class="crayon-o">--</span><span
class="crayon-o">+</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886be162e97206866378-18"><span
class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class="crayon-o">/</span><span
class="crayon-sy">\</span><span
class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="crayon-o">/</span><span
class="crayon-sy">\</span></div><div
class="crayon-line" id="crayon-56886be162e97206866378-19"><span
class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="crayon-sy">.</span><span
class="crayon-sy">.</span><span
class="crayon-sy">.</span><span
class="crayon-h">&nbsp;&nbsp;</span><span
class="crayon-sy">.</span><span
class="crayon-sy">.</span><span
class="crayon-sy">.</span><span
class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="crayon-sy">.</span><span
class="crayon-sy">.</span><span
class="crayon-sy">.</span><span
class="crayon-h">&nbsp;&nbsp;</span><span
class="crayon-sy">.</span><span
class="crayon-sy">.</span><span
class="crayon-sy">.</span></div></div></td></tr></table></div></div><p>That&#8217;s what you would expect, right? Ok, but <strong>that&#8217;s not what the compiler does</strong>. Enter memoization:</p><div
id="crayon-56886be162ea2474496928" class="crayon-syntax crayon-theme-biicode crayon-font-inconsolata crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 14px !important; line-height: 15px !important;"><div
class="crayon-toolbar" data-settings=" mouseover hide delay" style="font-size: 14px !important;height: 21px !important; line-height: 21px !important;"><span
class="crayon-title"></span><div
class="crayon-tools" style="font-size: 14px !important;height: 21px !important; line-height: 21px !important;"><div
class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div
class="crayon-button-icon"></div></div><div
class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div
class="crayon-button-icon"></div></div><div
class="crayon-button crayon-expand-button" title="Expand Code"><div
class="crayon-button-icon"></div></div><div
class="crayon-button crayon-copy-button" title="Copy"><div
class="crayon-button-icon"></div></div><div
class="crayon-button crayon-popup-button" title="Open Code In New Window"><div
class="crayon-button-icon"></div></div><span
class="crayon-language">C++</span></div></div><div
class="crayon-info" style="min-height: 19.6px !important; line-height: 19.6px !important;"></div><div
class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 15px !important;">
                              +--------+
                              | fib&lt;5&gt; |
                              +--------+
                                  /\
                                 /  *
                                /
                               /
                        +--------+
                        | fib&lt;4&gt; |
                        +--------+
                            /\
                           /  *
                          /
                         /
                  +--------+
                  | fib&lt;3&gt; |
                  +--------+
                       /\
                      /  *
                     /
                    /
             +--------+
             | fib&lt;2&gt; |
             +--------+
                 /\
                /  \
               /    \
              /      \
       +--------+  +--------+
       | fib&lt;1&gt; |  | fib&lt;0&gt; |
       +--------+  +--------+</textarea></div><div
class="crayon-main" style=""><table
class="crayon-table"><tr
class="crayon-row"><td
class="crayon-nums " data-settings="show"><div
class="crayon-nums-content" style="font-size: 14px !important; line-height: 15px !important;"><div
class="crayon-num" data-line="crayon-56886be162ea2474496928-1">1</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886be162ea2474496928-2">2</div><div
class="crayon-num" data-line="crayon-56886be162ea2474496928-3">3</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886be162ea2474496928-4">4</div><div
class="crayon-num" data-line="crayon-56886be162ea2474496928-5">5</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886be162ea2474496928-6">6</div><div
class="crayon-num" data-line="crayon-56886be162ea2474496928-7">7</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886be162ea2474496928-8">8</div><div
class="crayon-num" data-line="crayon-56886be162ea2474496928-9">9</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886be162ea2474496928-10">10</div><div
class="crayon-num" data-line="crayon-56886be162ea2474496928-11">11</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886be162ea2474496928-12">12</div><div
class="crayon-num" data-line="crayon-56886be162ea2474496928-13">13</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886be162ea2474496928-14">14</div><div
class="crayon-num" data-line="crayon-56886be162ea2474496928-15">15</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886be162ea2474496928-16">16</div><div
class="crayon-num" data-line="crayon-56886be162ea2474496928-17">17</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886be162ea2474496928-18">18</div><div
class="crayon-num" data-line="crayon-56886be162ea2474496928-19">19</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886be162ea2474496928-20">20</div><div
class="crayon-num" data-line="crayon-56886be162ea2474496928-21">21</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886be162ea2474496928-22">22</div><div
class="crayon-num" data-line="crayon-56886be162ea2474496928-23">23</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886be162ea2474496928-24">24</div><div
class="crayon-num" data-line="crayon-56886be162ea2474496928-25">25</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886be162ea2474496928-26">26</div><div
class="crayon-num" data-line="crayon-56886be162ea2474496928-27">27</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886be162ea2474496928-28">28</div><div
class="crayon-num" data-line="crayon-56886be162ea2474496928-29">29</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886be162ea2474496928-30">30</div><div
class="crayon-num" data-line="crayon-56886be162ea2474496928-31">31</div></div></td><td
class="crayon-code"><div
class="crayon-pre" style="font-size: 14px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div
class="crayon-line" id="crayon-56886be162ea2474496928-1"><span
class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="crayon-o">+</span><span
class="crayon-o">--</span><span
class="crayon-o">--</span><span
class="crayon-o">--</span><span
class="crayon-o">--</span><span
class="crayon-o">+</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886be162ea2474496928-2"><span
class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="crayon-o">|</span><span
class="crayon-h"> </span><span
class="crayon-v">fib</span><span
class="crayon-o">&lt;</span><span
class="crayon-cn">5</span><span
class="crayon-o">&gt;</span><span
class="crayon-h"> </span><span
class="crayon-o">|</span></div><div
class="crayon-line" id="crayon-56886be162ea2474496928-3"><span
class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="crayon-o">+</span><span
class="crayon-o">--</span><span
class="crayon-o">--</span><span
class="crayon-o">--</span><span
class="crayon-o">--</span><span
class="crayon-o">+</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886be162ea2474496928-4"><span
class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="crayon-o">/</span><span
class="crayon-sy">\</span></div><div
class="crayon-line" id="crayon-56886be162ea2474496928-5"><span
class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class="crayon-o">/</span><span
class="crayon-h">&nbsp;&nbsp;</span><span
class="crayon-o">*</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886be162ea2474496928-6"><span
class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="crayon-o">/</span><span
class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div
class="crayon-line" id="crayon-56886be162ea2474496928-7"><span
class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class="crayon-o">/</span><span
class="crayon-h">&nbsp;&nbsp;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886be162ea2474496928-8"><span
class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="crayon-o">+</span><span
class="crayon-o">--</span><span
class="crayon-o">--</span><span
class="crayon-o">--</span><span
class="crayon-o">--</span><span
class="crayon-o">+</span></div><div
class="crayon-line" id="crayon-56886be162ea2474496928-9"><span
class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="crayon-o">|</span><span
class="crayon-h"> </span><span
class="crayon-v">fib</span><span
class="crayon-o">&lt;</span><span
class="crayon-cn">4</span><span
class="crayon-o">&gt;</span><span
class="crayon-h"> </span><span
class="crayon-o">|</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886be162ea2474496928-10"><span
class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="crayon-o">+</span><span
class="crayon-o">--</span><span
class="crayon-o">--</span><span
class="crayon-o">--</span><span
class="crayon-o">--</span><span
class="crayon-o">+</span></div><div
class="crayon-line" id="crayon-56886be162ea2474496928-11"><span
class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="crayon-o">/</span><span
class="crayon-sy">\</span><span
class="crayon-h"> </span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886be162ea2474496928-12"><span
class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class="crayon-o">/</span><span
class="crayon-h">&nbsp;&nbsp;</span><span
class="crayon-o">*</span><span
class="crayon-h"> </span></div><div
class="crayon-line" id="crayon-56886be162ea2474496928-13"><span
class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="crayon-o">/</span><span
class="crayon-h">&nbsp;&nbsp;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886be162ea2474496928-14"><span
class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class="crayon-o">/</span><span
class="crayon-h">&nbsp;&nbsp;</span></div><div
class="crayon-line" id="crayon-56886be162ea2474496928-15"><span
class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="crayon-o">+</span><span
class="crayon-o">--</span><span
class="crayon-o">--</span><span
class="crayon-o">--</span><span
class="crayon-o">--</span><span
class="crayon-o">+</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886be162ea2474496928-16"><span
class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="crayon-o">|</span><span
class="crayon-h"> </span><span
class="crayon-v">fib</span><span
class="crayon-o">&lt;</span><span
class="crayon-cn">3</span><span
class="crayon-o">&gt;</span><span
class="crayon-h"> </span><span
class="crayon-o">|</span></div><div
class="crayon-line" id="crayon-56886be162ea2474496928-17"><span
class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="crayon-o">+</span><span
class="crayon-o">--</span><span
class="crayon-o">--</span><span
class="crayon-o">--</span><span
class="crayon-o">--</span><span
class="crayon-o">+</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886be162ea2474496928-18"><span
class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class="crayon-o">/</span><span
class="crayon-sy">\</span></div><div
class="crayon-line" id="crayon-56886be162ea2474496928-19"><span
class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="crayon-o">/</span><span
class="crayon-h">&nbsp;&nbsp;</span><span
class="crayon-o">*</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886be162ea2474496928-20"><span
class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class="crayon-o">/</span></div><div
class="crayon-line" id="crayon-56886be162ea2474496928-21"><span
class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="crayon-o">/</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886be162ea2474496928-22"><span
class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class="crayon-o">+</span><span
class="crayon-o">--</span><span
class="crayon-o">--</span><span
class="crayon-o">--</span><span
class="crayon-o">--</span><span
class="crayon-o">+</span></div><div
class="crayon-line" id="crayon-56886be162ea2474496928-23"><span
class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class="crayon-o">|</span><span
class="crayon-h"> </span><span
class="crayon-v">fib</span><span
class="crayon-o">&lt;</span><span
class="crayon-cn">2</span><span
class="crayon-o">&gt;</span><span
class="crayon-h"> </span><span
class="crayon-o">|</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886be162ea2474496928-24"><span
class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class="crayon-o">+</span><span
class="crayon-o">--</span><span
class="crayon-o">--</span><span
class="crayon-o">--</span><span
class="crayon-o">--</span><span
class="crayon-o">+</span></div><div
class="crayon-line" id="crayon-56886be162ea2474496928-25"><span
class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class="crayon-o">/</span><span
class="crayon-sy">\</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886be162ea2474496928-26"><span
class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="crayon-o">/</span><span
class="crayon-h">&nbsp;&nbsp;</span><span
class="crayon-sy">\</span></div><div
class="crayon-line" id="crayon-56886be162ea2474496928-27"><span
class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class="crayon-o">/</span><span
class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="crayon-sy">\</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886be162ea2474496928-28"><span
class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="crayon-o">/</span><span
class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="crayon-sy">\</span></div><div
class="crayon-line" id="crayon-56886be162ea2474496928-29"><span
class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class="crayon-o">+</span><span
class="crayon-o">--</span><span
class="crayon-o">--</span><span
class="crayon-o">--</span><span
class="crayon-o">--</span><span
class="crayon-o">+</span><span
class="crayon-h">&nbsp;&nbsp;</span><span
class="crayon-o">+</span><span
class="crayon-o">--</span><span
class="crayon-o">--</span><span
class="crayon-o">--</span><span
class="crayon-o">--</span><span
class="crayon-o">+</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886be162ea2474496928-30"><span
class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class="crayon-o">|</span><span
class="crayon-h"> </span><span
class="crayon-v">fib</span><span
class="crayon-o">&lt;</span><span
class="crayon-cn">1</span><span
class="crayon-o">&gt;</span><span
class="crayon-h"> </span><span
class="crayon-o">|</span><span
class="crayon-h">&nbsp;&nbsp;</span><span
class="crayon-o">|</span><span
class="crayon-h"> </span><span
class="crayon-v">fib</span><span
class="crayon-o">&lt;</span><span
class="crayon-cn">0</span><span
class="crayon-o">&gt;</span><span
class="crayon-h"> </span><span
class="crayon-o">|</span></div><div
class="crayon-line" id="crayon-56886be162ea2474496928-31"><span
class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class="crayon-o">+</span><span
class="crayon-o">--</span><span
class="crayon-o">--</span><span
class="crayon-o">--</span><span
class="crayon-o">--</span><span
class="crayon-o">+</span><span
class="crayon-h">&nbsp;&nbsp;</span><span
class="crayon-o">+</span><span
class="crayon-o">--</span><span
class="crayon-o">--</span><span
class="crayon-o">--</span><span
class="crayon-o">--</span><span
class="crayon-o">+</span></div></div></td></tr></table></div></div><p>where <code>*</code> means the compiler selected the memoized (Instanced previously) template instead of doing the full instantation again.</p><p>Then the fact that the compiler only generates code which actually does something (All syntactic sugar that high-level constructs provide is thrown away):</p><div
id="crayon-56886be162eac230096692" class="crayon-syntax crayon-theme-biicode crayon-font-inconsolata crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 14px !important; line-height: 15px !important;"><div
class="crayon-toolbar" data-settings=" mouseover hide delay" style="font-size: 14px !important;height: 21px !important; line-height: 21px !important;"><span
class="crayon-title"></span><div
class="crayon-tools" style="font-size: 14px !important;height: 21px !important; line-height: 21px !important;"><div
class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div
class="crayon-button-icon"></div></div><div
class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div
class="crayon-button-icon"></div></div><div
class="crayon-button crayon-expand-button" title="Expand Code"><div
class="crayon-button-icon"></div></div><div
class="crayon-button crayon-copy-button" title="Copy"><div
class="crayon-button-icon"></div></div><div
class="crayon-button crayon-popup-button" title="Open Code In New Window"><div
class="crayon-button-icon"></div></div><span
class="crayon-language">C++</span></div></div><div
class="crayon-info" style="min-height: 19.6px !important; line-height: 19.6px !important;"></div><div
class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 15px !important;">
int main()
{
    return Fibonacci&lt;5&gt;::value;
}</textarea></div><div
class="crayon-main" style=""><table
class="crayon-table"><tr
class="crayon-row"><td
class="crayon-nums " data-settings="show"><div
class="crayon-nums-content" style="font-size: 14px !important; line-height: 15px !important;"><div
class="crayon-num" data-line="crayon-56886be162eac230096692-1">1</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886be162eac230096692-2">2</div><div
class="crayon-num" data-line="crayon-56886be162eac230096692-3">3</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886be162eac230096692-4">4</div></div></td><td
class="crayon-code"><div
class="crayon-pre" style="font-size: 14px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div
class="crayon-line" id="crayon-56886be162eac230096692-1"><span
class="crayon-t">int</span><span
class="crayon-h"> </span><span
class="crayon-e">main</span><span
class="crayon-sy">(</span><span
class="crayon-sy">)</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886be162eac230096692-2"><span
class="crayon-sy">{</span></div><div
class="crayon-line" id="crayon-56886be162eac230096692-3"><span
class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="crayon-st">return</span><span
class="crayon-h"> </span><span
class="crayon-v">Fibonacci</span><span
class="crayon-o">&lt;</span><span
class="crayon-cn">5</span><span
class="crayon-o">&gt;</span><span
class="crayon-o">::</span><span
class="crayon-t">value</span><span
class="crayon-sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886be162eac230096692-4"><span
class="crayon-sy">}</span></div></div></td></tr></table></div></div><p><a
href="http://gcc.godbolt.org/#%7B%22version%22%3A3%2C%22filterAsm%22%3A%7B%22labels%22%3Atrue%2C%22directives%22%3Atrue%2C%22commentOnly%22%3Atrue%7D%2C%22compilers%22%3A%5B%7B%22sourcez%22%3A%22C4UwtgDgNghqA8BLAdsABMgfAKAM7ACcBXAY3QDNEAjAe2RhJMWwG9s0O185ES0S6%2BEAA8IBNCnQA3GFCIg0AXjSVa9RonjIAtAEZMALgMy5CgNQrqdBky3aATIeOz5Abk6dsAX1fZsoSFgEHHxiMks1G00ABhw2D25gXn5BUFFxSTQTeSU0aN8fPwDoOBB4EMJSCit1W31Wdk5E5IFkIXSJVCyXBWVdAt9sTLAYFAAKAEoGjwIQYCICZAjrDXhdWKNskAKgAAA%3D%22%2C%22compiler%22%3A%22%2Fopt%2Fgcc-4.9.0%2Fbin%2Fg%2B%2B%22%2C%22options%22%3A%22-O0%20-std%3Dc%2B%2B11%22%7D%5D%7D"><code>GCC 4.9 -std=c++11 -O0</code> x86 target</a>:</p><div
id="crayon-56886be162eb6386868549" class="crayon-syntax crayon-theme-biicode crayon-font-inconsolata crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 14px !important; line-height: 15px !important;"><div
class="crayon-toolbar" data-settings=" mouseover hide delay" style="font-size: 14px !important;height: 21px !important; line-height: 21px !important;"><span
class="crayon-title"></span><div
class="crayon-tools" style="font-size: 14px !important;height: 21px !important; line-height: 21px !important;"><div
class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div
class="crayon-button-icon"></div></div><div
class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div
class="crayon-button-icon"></div></div><div
class="crayon-button crayon-expand-button" title="Expand Code"><div
class="crayon-button-icon"></div></div><div
class="crayon-button crayon-copy-button" title="Copy"><div
class="crayon-button-icon"></div></div><div
class="crayon-button crayon-popup-button" title="Open Code In New Window"><div
class="crayon-button-icon"></div></div></div></div><div
class="crayon-info" style="min-height: 19.6px !important; line-height: 19.6px !important;"></div><div
class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 15px !important;">
main:                                   # @main
	movl	$55, %eax
	movl	$0, -4(%rsp)
	ret</textarea></div><div
class="crayon-main" style=""><table
class="crayon-table"><tr
class="crayon-row"><td
class="crayon-nums " data-settings="show"><div
class="crayon-nums-content" style="font-size: 14px !important; line-height: 15px !important;"><div
class="crayon-num" data-line="crayon-56886be162eb6386868549-1">1</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886be162eb6386868549-2">2</div><div
class="crayon-num" data-line="crayon-56886be162eb6386868549-3">3</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886be162eb6386868549-4">4</div></div></td><td
class="crayon-code"><div
class="crayon-pre" style="font-size: 14px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div
class="crayon-line" id="crayon-56886be162eb6386868549-1"><span
class="crayon-v">main</span><span
class="crayon-o">:</span><span
class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class="crayon-p"># @main</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886be162eb6386868549-2"><span
class="crayon-h"> </span><span
class="crayon-i">movl</span><span
class="crayon-h"> </span><span
class="crayon-sy">$</span><span
class="crayon-cn">55</span><span
class="crayon-sy">,</span><span
class="crayon-h"> </span><span
class="crayon-o">%</span><span
class="crayon-e">eax</span></div><div
class="crayon-line" id="crayon-56886be162eb6386868549-3"><span
class="crayon-e"> </span><span
class="crayon-i">movl</span><span
class="crayon-h"> </span><span
class="crayon-sy">$</span><span
class="crayon-cn">0</span><span
class="crayon-sy">,</span><span
class="crayon-h"> </span><span
class="crayon-o">-</span><span
class="crayon-cn">4</span><span
class="crayon-sy">(</span><span
class="crayon-o">%</span><span
class="crayon-v">rsp</span><span
class="crayon-sy">)</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886be162eb6386868549-4"><span
class="crayon-h"> </span><span
class="crayon-v">ret</span></div></div></td></tr></table></div></div><p>Only a hardcoded 55. Do you see code bloating there?</p><h2><a
class="anchor" href="#template-parameters" name="user-content-template-parameters"></a>Template parameters</h2><p>C++ templates can take three kinds of parameters: <strong>Value parameters, type parameters, and template template parameters</strong>. <em>There are more categories (References, pointers, etc) but they are not as interesting as the former from the metaprogramming point of view.</em> Here we will see them in depth.</p><h3><a
class="anchor" href="#value-parameters" name="user-content-value-parameters"></a>Value parameters</h3><p>First of all, C++ templates can take parameters that are <strong>integral values known at compile time</strong>. Say a <code>char</code>, an <code>unsigned int</code>, a <code>long int</code>, etc. The fibonacci example above is one case of template with value parameters only, an <code>int</code> in that case.</p><p>Lets see a more complex example to introduce you to modern C++ features: Imagine a metafunction that given a character <code>c</code> and a size <code>n</code> generates a string containing the <code>n</code> consecutive characters starting at <code>c</code>, name it <code>build_string</code>:</p><div
id="crayon-56886be162ec0828816017" class="crayon-syntax crayon-theme-biicode crayon-font-inconsolata crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 14px !important; line-height: 15px !important;"><div
class="crayon-toolbar" data-settings=" mouseover hide delay" style="font-size: 14px !important;height: 21px !important; line-height: 21px !important;"><span
class="crayon-title"></span><div
class="crayon-tools" style="font-size: 14px !important;height: 21px !important; line-height: 21px !important;"><div
class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div
class="crayon-button-icon"></div></div><div
class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div
class="crayon-button-icon"></div></div><div
class="crayon-button crayon-expand-button" title="Expand Code"><div
class="crayon-button-icon"></div></div><div
class="crayon-button crayon-copy-button" title="Copy"><div
class="crayon-button-icon"></div></div><div
class="crayon-button crayon-popup-button" title="Open Code In New Window"><div
class="crayon-button-icon"></div></div><span
class="crayon-language">C++</span></div></div><div
class="crayon-info" style="min-height: 19.6px !important; line-height: 19.6px !important;"></div><div
class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 15px !important;">
template&lt;char c , std::size_t n&gt;
struct build_string
{
};</textarea></div><div
class="crayon-main" style=""><table
class="crayon-table"><tr
class="crayon-row"><td
class="crayon-nums " data-settings="show"><div
class="crayon-nums-content" style="font-size: 14px !important; line-height: 15px !important;"><div
class="crayon-num" data-line="crayon-56886be162ec0828816017-1">1</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886be162ec0828816017-2">2</div><div
class="crayon-num" data-line="crayon-56886be162ec0828816017-3">3</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886be162ec0828816017-4">4</div></div></td><td
class="crayon-code"><div
class="crayon-pre" style="font-size: 14px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div
class="crayon-line" id="crayon-56886be162ec0828816017-1"><span
class="crayon-t">template</span><span
class="crayon-o">&lt;</span><span
class="crayon-t">char</span><span
class="crayon-h"> </span><span
class="crayon-i">c</span><span
class="crayon-h"> </span><span
class="crayon-sy">,</span><span
class="crayon-h"> </span><span
class="crayon-v">std</span><span
class="crayon-o">::</span><span
class="crayon-e">size_t</span><span
class="crayon-h"> </span><span
class="crayon-e">n</span><span
class="crayon-o">&gt;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886be162ec0828816017-2"><span
class="crayon-t">struct</span><span
class="crayon-h"> </span><span
class="crayon-e">build_string</span></div><div
class="crayon-line" id="crayon-56886be162ec0828816017-3"><span
class="crayon-sy">{</span><span
class="crayon-h"> </span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886be162ec0828816017-4"><span
class="crayon-sy">}</span><span
class="crayon-sy">;</span></div></div></td></tr></table></div></div><p>Whats the return type of <code>build_string?</code> A string, of course. But we need <em>a compile-time string</em>. One way to represent strings at compile-time is using C++11 variadic templates:</p><div
id="crayon-56886be162ec9090036115" class="crayon-syntax crayon-theme-biicode crayon-font-inconsolata crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 14px !important; line-height: 15px !important;"><div
class="crayon-toolbar" data-settings=" mouseover hide delay" style="font-size: 14px !important;height: 21px !important; line-height: 21px !important;"><span
class="crayon-title"></span><div
class="crayon-tools" style="font-size: 14px !important;height: 21px !important; line-height: 21px !important;"><div
class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div
class="crayon-button-icon"></div></div><div
class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div
class="crayon-button-icon"></div></div><div
class="crayon-button crayon-expand-button" title="Expand Code"><div
class="crayon-button-icon"></div></div><div
class="crayon-button crayon-copy-button" title="Copy"><div
class="crayon-button-icon"></div></div><div
class="crayon-button crayon-popup-button" title="Open Code In New Window"><div
class="crayon-button-icon"></div></div><span
class="crayon-language">C++</span></div></div><div
class="crayon-info" style="min-height: 19.6px !important; line-height: 19.6px !important;"></div><div
class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 15px !important;">
template&lt;char... Cs&gt;
struct string
{
	static constexpr std::array&lt;char,sizeof...(Cs)+1&gt; value = {Cs...,'\0'};
	constexpr operator const char*()
	{
		return value.data();
	}
	operator std::string() const
	{
		return std::string{value.data()};
	}
};</textarea></div><div
class="crayon-main" style=""><table
class="crayon-table"><tr
class="crayon-row"><td
class="crayon-nums " data-settings="show"><div
class="crayon-nums-content" style="font-size: 14px !important; line-height: 15px !important;"><div
class="crayon-num" data-line="crayon-56886be162ec9090036115-1">1</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886be162ec9090036115-2">2</div><div
class="crayon-num" data-line="crayon-56886be162ec9090036115-3">3</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886be162ec9090036115-4">4</div><div
class="crayon-num" data-line="crayon-56886be162ec9090036115-5">5</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886be162ec9090036115-6">6</div><div
class="crayon-num" data-line="crayon-56886be162ec9090036115-7">7</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886be162ec9090036115-8">8</div><div
class="crayon-num" data-line="crayon-56886be162ec9090036115-9">9</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886be162ec9090036115-10">10</div><div
class="crayon-num" data-line="crayon-56886be162ec9090036115-11">11</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886be162ec9090036115-12">12</div><div
class="crayon-num" data-line="crayon-56886be162ec9090036115-13">13</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886be162ec9090036115-14">14</div></div></td><td
class="crayon-code"><div
class="crayon-pre" style="font-size: 14px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div
class="crayon-line" id="crayon-56886be162ec9090036115-1"><span
class="crayon-t">template</span><span
class="crayon-o">&lt;</span><span
class="crayon-t">char</span><span
class="crayon-sy">.</span><span
class="crayon-sy">.</span><span
class="crayon-sy">.</span><span
class="crayon-h"> </span><span
class="crayon-e">Cs</span><span
class="crayon-o">&gt;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886be162ec9090036115-2"><span
class="crayon-t">struct</span><span
class="crayon-h"> </span><span
class="crayon-t">string</span></div><div
class="crayon-line" id="crayon-56886be162ec9090036115-3"><span
class="crayon-sy">{</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886be162ec9090036115-4"><span
class="crayon-h"> </span><span
class="crayon-m">static</span><span
class="crayon-h"> </span><span
class="crayon-t">constexpr</span><span
class="crayon-h"> </span><span
class="crayon-v">std</span><span
class="crayon-o">::</span><span
class="crayon-t">array</span><span
class="crayon-o">&lt;</span><span
class="crayon-t">char</span><span
class="crayon-sy">,</span><span
class="crayon-r">sizeof</span><span
class="crayon-sy">.</span><span
class="crayon-sy">.</span><span
class="crayon-sy">.</span><span
class="crayon-sy">(</span><span
class="crayon-v">Cs</span><span
class="crayon-sy">)</span><span
class="crayon-o">+</span><span
class="crayon-cn">1</span><span
class="crayon-o">&gt;</span><span
class="crayon-h"> </span><span
class="crayon-t">value</span><span
class="crayon-h"> </span><span
class="crayon-o">=</span><span
class="crayon-h"> </span><span
class="crayon-sy">{</span><span
class="crayon-v">Cs</span><span
class="crayon-sy">.</span><span
class="crayon-sy">.</span><span
class="crayon-sy">.</span><span
class="crayon-sy">,</span><span
class="crayon-s">'\0'</span><span
class="crayon-sy">}</span><span
class="crayon-sy">;</span></div><div
class="crayon-line" id="crayon-56886be162ec9090036115-5"><span
class="crayon-h"> </span><span
class="crayon-t">constexpr</span><span
class="crayon-h"> </span><span
class="crayon-t">operator</span><span
class="crayon-h"> </span><span
class="crayon-m">const</span><span
class="crayon-h"> </span><span
class="crayon-t">char</span><span
class="crayon-o">*</span><span
class="crayon-sy">(</span><span
class="crayon-sy">)</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886be162ec9090036115-6"><span
class="crayon-h"> </span><span
class="crayon-sy">{</span></div><div
class="crayon-line" id="crayon-56886be162ec9090036115-7"><span
class="crayon-h"> </span><span
class="crayon-st">return</span><span
class="crayon-h"> </span><span
class="crayon-t">value</span><span
class="crayon-sy">.</span><span
class="crayon-e">data</span><span
class="crayon-sy">(</span><span
class="crayon-sy">)</span><span
class="crayon-sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886be162ec9090036115-8"><span
class="crayon-h"> </span><span
class="crayon-sy">}</span></div><div
class="crayon-line" id="crayon-56886be162ec9090036115-9">&nbsp;</div><div
class="crayon-line crayon-striped-line" id="crayon-56886be162ec9090036115-10"><span
class="crayon-h"> </span><span
class="crayon-t">operator</span><span
class="crayon-h"> </span><span
class="crayon-v">std</span><span
class="crayon-o">::</span><span
class="crayon-t">string</span><span
class="crayon-sy">(</span><span
class="crayon-sy">)</span><span
class="crayon-h"> </span><span
class="crayon-m">const</span></div><div
class="crayon-line" id="crayon-56886be162ec9090036115-11"><span
class="crayon-h"> </span><span
class="crayon-sy">{</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886be162ec9090036115-12"><span
class="crayon-h"> </span><span
class="crayon-st">return</span><span
class="crayon-h"> </span><span
class="crayon-v">std</span><span
class="crayon-o">::</span><span
class="crayon-t">string</span><span
class="crayon-sy">{</span><span
class="crayon-t">value</span><span
class="crayon-sy">.</span><span
class="crayon-e">data</span><span
class="crayon-sy">(</span><span
class="crayon-sy">)</span><span
class="crayon-sy">}</span><span
class="crayon-sy">;</span></div><div
class="crayon-line" id="crayon-56886be162ec9090036115-13"><span
class="crayon-h"> </span><span
class="crayon-sy">}</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886be162ec9090036115-14"><span
class="crayon-sy">}</span><span
class="crayon-sy">;</span></div></div></td></tr></table></div></div><p>The <code>string</code> template is only a variadic pack of chars, but also has a <code>value</code> member array. That&#8217;s allows us to get the characters at runtime. Note how the array is initialized at compile-time from the char pack.<br
/> Given the <code>string</code> template, we can build up a string recursively:</p><div
id="crayon-56886be162ed3822761975" class="crayon-syntax crayon-theme-biicode crayon-font-inconsolata crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 14px !important; line-height: 15px !important;"><div
class="crayon-toolbar" data-settings=" mouseover hide delay" style="font-size: 14px !important;height: 21px !important; line-height: 21px !important;"><span
class="crayon-title"></span><div
class="crayon-tools" style="font-size: 14px !important;height: 21px !important; line-height: 21px !important;"><div
class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div
class="crayon-button-icon"></div></div><div
class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div
class="crayon-button-icon"></div></div><div
class="crayon-button crayon-expand-button" title="Expand Code"><div
class="crayon-button-icon"></div></div><div
class="crayon-button crayon-copy-button" title="Copy"><div
class="crayon-button-icon"></div></div><div
class="crayon-button crayon-popup-button" title="Open Code In New Window"><div
class="crayon-button-icon"></div></div><span
class="crayon-language">C++</span></div></div><div
class="crayon-info" style="min-height: 19.6px !important; line-height: 19.6px !important;"></div><div
class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 15px !important;">
template&lt;char c , std::size_t n&gt;
struct build_string
{
    template&lt;std::size_t count , typename STRING&gt;
    struct build_string_impl;
    template&lt;std::size_t count , char... Cs&gt;
    struct build_string_impl&lt;count,string&lt;Cs...&gt;&gt;
    {
    	using result = typename build_string_impl&lt;count-1,string&lt;c+count,Cs...&gt;&gt;::result;
    };
    template&lt;char... Cs&gt;
    struct build_string_impl&lt;0,string&lt;Cs...&gt;&gt;
    {
    	using result = string&lt;c,Cs...&gt;;
    };
    using result = typename build_string_impl&lt;n,string&lt;&gt;&gt;::result;
};</textarea></div><div
class="crayon-main" style=""><table
class="crayon-table"><tr
class="crayon-row"><td
class="crayon-nums " data-settings="show"><div
class="crayon-nums-content" style="font-size: 14px !important; line-height: 15px !important;"><div
class="crayon-num" data-line="crayon-56886be162ed3822761975-1">1</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886be162ed3822761975-2">2</div><div
class="crayon-num" data-line="crayon-56886be162ed3822761975-3">3</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886be162ed3822761975-4">4</div><div
class="crayon-num" data-line="crayon-56886be162ed3822761975-5">5</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886be162ed3822761975-6">6</div><div
class="crayon-num" data-line="crayon-56886be162ed3822761975-7">7</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886be162ed3822761975-8">8</div><div
class="crayon-num" data-line="crayon-56886be162ed3822761975-9">9</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886be162ed3822761975-10">10</div><div
class="crayon-num" data-line="crayon-56886be162ed3822761975-11">11</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886be162ed3822761975-12">12</div><div
class="crayon-num" data-line="crayon-56886be162ed3822761975-13">13</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886be162ed3822761975-14">14</div><div
class="crayon-num" data-line="crayon-56886be162ed3822761975-15">15</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886be162ed3822761975-16">16</div><div
class="crayon-num" data-line="crayon-56886be162ed3822761975-17">17</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886be162ed3822761975-18">18</div><div
class="crayon-num" data-line="crayon-56886be162ed3822761975-19">19</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886be162ed3822761975-20">20</div></div></td><td
class="crayon-code"><div
class="crayon-pre" style="font-size: 14px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div
class="crayon-line" id="crayon-56886be162ed3822761975-1"><span
class="crayon-t">template</span><span
class="crayon-o">&lt;</span><span
class="crayon-t">char</span><span
class="crayon-h"> </span><span
class="crayon-i">c</span><span
class="crayon-h"> </span><span
class="crayon-sy">,</span><span
class="crayon-h"> </span><span
class="crayon-v">std</span><span
class="crayon-o">::</span><span
class="crayon-e">size_t</span><span
class="crayon-h"> </span><span
class="crayon-e">n</span><span
class="crayon-o">&gt;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886be162ed3822761975-2"><span
class="crayon-t">struct</span><span
class="crayon-h"> </span><span
class="crayon-e">build_string</span></div><div
class="crayon-line" id="crayon-56886be162ed3822761975-3"><span
class="crayon-sy">{</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886be162ed3822761975-4"><span
class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="crayon-t">template</span><span
class="crayon-o">&lt;</span><span
class="crayon-v">std</span><span
class="crayon-o">::</span><span
class="crayon-e">size_t </span><span
class="crayon-i">count</span><span
class="crayon-h"> </span><span
class="crayon-sy">,</span><span
class="crayon-h"> </span><span
class="crayon-r">typename</span><span
class="crayon-h"> </span><span
class="crayon-t">STRING</span><span
class="crayon-o">&gt;</span></div><div
class="crayon-line" id="crayon-56886be162ed3822761975-5"><span
class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="crayon-t">struct</span><span
class="crayon-h"> </span><span
class="crayon-v">build_string_impl</span><span
class="crayon-sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886be162ed3822761975-6">&nbsp;</div><div
class="crayon-line" id="crayon-56886be162ed3822761975-7"><span
class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="crayon-t">template</span><span
class="crayon-o">&lt;</span><span
class="crayon-v">std</span><span
class="crayon-o">::</span><span
class="crayon-e">size_t </span><span
class="crayon-i">count</span><span
class="crayon-h"> </span><span
class="crayon-sy">,</span><span
class="crayon-h"> </span><span
class="crayon-t">char</span><span
class="crayon-sy">.</span><span
class="crayon-sy">.</span><span
class="crayon-sy">.</span><span
class="crayon-h"> </span><span
class="crayon-v">Cs</span><span
class="crayon-o">&gt;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886be162ed3822761975-8"><span
class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="crayon-t">struct</span><span
class="crayon-h"> </span><span
class="crayon-v">build_string_impl</span><span
class="crayon-o">&lt;</span><span
class="crayon-v">count</span><span
class="crayon-sy">,</span><span
class="crayon-t">string</span><span
class="crayon-o">&lt;</span><span
class="crayon-v">Cs</span><span
class="crayon-sy">.</span><span
class="crayon-sy">.</span><span
class="crayon-sy">.</span><span
class="crayon-o">&gt;&gt;</span></div><div
class="crayon-line" id="crayon-56886be162ed3822761975-9"><span
class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="crayon-sy">{</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886be162ed3822761975-10"><span
class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class="crayon-r">using</span><span
class="crayon-h"> </span><span
class="crayon-v">result</span><span
class="crayon-h"> </span><span
class="crayon-o">=</span><span
class="crayon-h"> </span><span
class="crayon-r">typename</span><span
class="crayon-h"> </span><span
class="crayon-v">build_string_impl</span><span
class="crayon-o">&lt;</span><span
class="crayon-v">count</span><span
class="crayon-o">-</span><span
class="crayon-cn">1</span><span
class="crayon-sy">,</span><span
class="crayon-t">string</span><span
class="crayon-o">&lt;</span><span
class="crayon-v">c</span><span
class="crayon-o">+</span><span
class="crayon-v">count</span><span
class="crayon-sy">,</span><span
class="crayon-v">Cs</span><span
class="crayon-sy">.</span><span
class="crayon-sy">.</span><span
class="crayon-sy">.</span><span
class="crayon-o">&gt;&gt;</span><span
class="crayon-o">::</span><span
class="crayon-v">result</span><span
class="crayon-sy">;</span></div><div
class="crayon-line" id="crayon-56886be162ed3822761975-11"><span
class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="crayon-sy">}</span><span
class="crayon-sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886be162ed3822761975-12">&nbsp;</div><div
class="crayon-line" id="crayon-56886be162ed3822761975-13"><span
class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="crayon-t">template</span><span
class="crayon-o">&lt;</span><span
class="crayon-t">char</span><span
class="crayon-sy">.</span><span
class="crayon-sy">.</span><span
class="crayon-sy">.</span><span
class="crayon-h"> </span><span
class="crayon-v">Cs</span><span
class="crayon-o">&gt;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886be162ed3822761975-14"><span
class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="crayon-t">struct</span><span
class="crayon-h"> </span><span
class="crayon-v">build_string_impl</span><span
class="crayon-o">&lt;</span><span
class="crayon-cn">0</span><span
class="crayon-sy">,</span><span
class="crayon-t">string</span><span
class="crayon-o">&lt;</span><span
class="crayon-v">Cs</span><span
class="crayon-sy">.</span><span
class="crayon-sy">.</span><span
class="crayon-sy">.</span><span
class="crayon-o">&gt;&gt;</span></div><div
class="crayon-line" id="crayon-56886be162ed3822761975-15"><span
class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="crayon-sy">{</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886be162ed3822761975-16"><span
class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class="crayon-r">using</span><span
class="crayon-h"> </span><span
class="crayon-v">result</span><span
class="crayon-h"> </span><span
class="crayon-o">=</span><span
class="crayon-h"> </span><span
class="crayon-t">string</span><span
class="crayon-o">&lt;</span><span
class="crayon-v">c</span><span
class="crayon-sy">,</span><span
class="crayon-v">Cs</span><span
class="crayon-sy">.</span><span
class="crayon-sy">.</span><span
class="crayon-sy">.</span><span
class="crayon-o">&gt;</span><span
class="crayon-sy">;</span></div><div
class="crayon-line" id="crayon-56886be162ed3822761975-17"><span
class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="crayon-sy">}</span><span
class="crayon-sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886be162ed3822761975-18">&nbsp;</div><div
class="crayon-line" id="crayon-56886be162ed3822761975-19"><span
class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="crayon-r">using</span><span
class="crayon-h"> </span><span
class="crayon-v">result</span><span
class="crayon-h"> </span><span
class="crayon-o">=</span><span
class="crayon-h"> </span><span
class="crayon-r">typename</span><span
class="crayon-h"> </span><span
class="crayon-v">build_string_impl</span><span
class="crayon-o">&lt;</span><span
class="crayon-v">n</span><span
class="crayon-sy">,</span><span
class="crayon-t">string</span><span
class="crayon-o">&lt;&gt;</span><span
class="crayon-o">&gt;</span><span
class="crayon-o">::</span><span
class="crayon-v">result</span><span
class="crayon-sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886be162ed3822761975-20"><span
class="crayon-sy">}</span><span
class="crayon-sy">;</span></div></div></td></tr></table></div></div><p>Using C++14 variable templates one can improve the syntax to get the char array a bit:</p><div
id="crayon-56886be162edd871298245" class="crayon-syntax crayon-theme-biicode crayon-font-inconsolata crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 14px !important; line-height: 15px !important;"><div
class="crayon-toolbar" data-settings=" mouseover hide delay" style="font-size: 14px !important;height: 21px !important; line-height: 21px !important;"><span
class="crayon-title"></span><div
class="crayon-tools" style="font-size: 14px !important;height: 21px !important; line-height: 21px !important;"><div
class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div
class="crayon-button-icon"></div></div><div
class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div
class="crayon-button-icon"></div></div><div
class="crayon-button crayon-expand-button" title="Expand Code"><div
class="crayon-button-icon"></div></div><div
class="crayon-button crayon-copy-button" title="Copy"><div
class="crayon-button-icon"></div></div><div
class="crayon-button crayon-popup-button" title="Open Code In New Window"><div
class="crayon-button-icon"></div></div></div></div><div
class="crayon-info" style="min-height: 19.6px !important; line-height: 19.6px !important;"></div><div
class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 15px !important;">
template&lt;char c , std::size_t n&gt;
constexpr std::array&lt;char,n+1&gt; build_string_array = build_string&lt;c,n&gt;::result::value;</textarea></div><div
class="crayon-main" style=""><table
class="crayon-table"><tr
class="crayon-row"><td
class="crayon-nums " data-settings="show"><div
class="crayon-nums-content" style="font-size: 14px !important; line-height: 15px !important;"><div
class="crayon-num" data-line="crayon-56886be162edd871298245-1">1</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886be162edd871298245-2">2</div></div></td><td
class="crayon-code"><div
class="crayon-pre" style="font-size: 14px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div
class="crayon-line" id="crayon-56886be162edd871298245-1"><span
class="crayon-v">template</span><span
class="crayon-o">&lt;</span><span
class="crayon-t">char</span><span
class="crayon-h"> </span><span
class="crayon-i">c</span><span
class="crayon-h"> </span><span
class="crayon-sy">,</span><span
class="crayon-h"> </span><span
class="crayon-v">std</span><span
class="crayon-o">::</span><span
class="crayon-v">size</span><span
class="crayon-sy">_</span>t<span
class="crayon-h"> </span><span
class="crayon-v">n</span><span
class="crayon-o">&gt;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886be162edd871298245-2"><span
class="crayon-e">constexpr </span><span
class="crayon-v">std</span><span
class="crayon-o">::</span><span
class="crayon-t">array</span><span
class="crayon-o">&lt;</span><span
class="crayon-t">char</span><span
class="crayon-sy">,</span><span
class="crayon-v">n</span><span
class="crayon-o">+</span><span
class="crayon-cn">1</span><span
class="crayon-o">&gt;</span><span
class="crayon-h"> </span><span
class="crayon-v">build_string_array</span><span
class="crayon-h"> </span><span
class="crayon-o">=</span><span
class="crayon-h"> </span><span
class="crayon-v">build_string</span><span
class="crayon-o">&lt;</span><span
class="crayon-v">c</span><span
class="crayon-sy">,</span><span
class="crayon-v">n</span><span
class="crayon-o">&gt;</span><span
class="crayon-o">::</span><span
class="crayon-v">result</span><span
class="crayon-o">::</span><span
class="crayon-v">value</span><span
class="crayon-sy">;</span></div></div></td></tr></table></div></div><p>How beautiful is to see a hardcoded <code>"abc"</code> string injected in your assembly, isn&#8217;t?<br
/> <a
href="http://goo.gl/dHA10n">See for yourself.</a></p><p>Value parameters, variadic templates, constexpr variadic-pack based initialization, C++14 variable templates&#8230; So far so good. Enter type parameters.</p><h3><a
class="anchor" href="#type-parameters" name="user-content-type-parameters"></a>Type parameters</h3><p>As the name says, are parameters that represent types. The canonical example is a container template:</p><div
id="crayon-56886be162ee7008164435" class="crayon-syntax crayon-theme-biicode crayon-font-inconsolata crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 14px !important; line-height: 15px !important;"><div
class="crayon-toolbar" data-settings=" mouseover hide delay" style="font-size: 14px !important;height: 21px !important; line-height: 21px !important;"><span
class="crayon-title"></span><div
class="crayon-tools" style="font-size: 14px !important;height: 21px !important; line-height: 21px !important;"><div
class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div
class="crayon-button-icon"></div></div><div
class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div
class="crayon-button-icon"></div></div><div
class="crayon-button crayon-expand-button" title="Expand Code"><div
class="crayon-button-icon"></div></div><div
class="crayon-button crayon-copy-button" title="Copy"><div
class="crayon-button-icon"></div></div><div
class="crayon-button crayon-popup-button" title="Open Code In New Window"><div
class="crayon-button-icon"></div></div><span
class="crayon-language">C++</span></div></div><div
class="crayon-info" style="min-height: 19.6px !important; line-height: 19.6px !important;"></div><div
class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 15px !important;">
template&lt;typename T&gt;
class vector
{
    ...
};</textarea></div><div
class="crayon-main" style=""><table
class="crayon-table"><tr
class="crayon-row"><td
class="crayon-nums " data-settings="show"><div
class="crayon-nums-content" style="font-size: 14px !important; line-height: 15px !important;"><div
class="crayon-num" data-line="crayon-56886be162ee7008164435-1">1</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886be162ee7008164435-2">2</div><div
class="crayon-num" data-line="crayon-56886be162ee7008164435-3">3</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886be162ee7008164435-4">4</div><div
class="crayon-num" data-line="crayon-56886be162ee7008164435-5">5</div></div></td><td
class="crayon-code"><div
class="crayon-pre" style="font-size: 14px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div
class="crayon-line" id="crayon-56886be162ee7008164435-1"><span
class="crayon-t">template</span><span
class="crayon-o">&lt;</span><span
class="crayon-r">typename</span><span
class="crayon-h"> </span><span
class="crayon-e">T</span><span
class="crayon-o">&gt;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886be162ee7008164435-2"><span
class="crayon-t">class</span><span
class="crayon-h"> </span><span
class="crayon-e">vector</span></div><div
class="crayon-line" id="crayon-56886be162ee7008164435-3"><span
class="crayon-sy">{</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886be162ee7008164435-4"><span
class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="crayon-sy">.</span><span
class="crayon-sy">.</span><span
class="crayon-sy">.</span></div><div
class="crayon-line" id="crayon-56886be162ee7008164435-5"><span
class="crayon-sy">}</span><span
class="crayon-sy">;</span></div></div></td></tr></table></div></div><p>One useful template is the <strong><em>typelist</em></strong>: A typelist represents a set (list) of types. This simple template is very powerfull since it allows us to hold and manipulate a set of types.<br
/> Imagine you want to know if a type <code>T</code> is an integer type. What would you do? A simple approach is to store the set of known integral types on a list, and later<br
/> search if the type we are asking is on that list:</p><div
id="crayon-56886be162ef0474582031" class="crayon-syntax crayon-theme-biicode crayon-font-inconsolata crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 14px !important; line-height: 15px !important;"><div
class="crayon-toolbar" data-settings=" mouseover hide delay" style="font-size: 14px !important;height: 21px !important; line-height: 21px !important;"><span
class="crayon-title"></span><div
class="crayon-tools" style="font-size: 14px !important;height: 21px !important; line-height: 21px !important;"><div
class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div
class="crayon-button-icon"></div></div><div
class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div
class="crayon-button-icon"></div></div><div
class="crayon-button crayon-expand-button" title="Expand Code"><div
class="crayon-button-icon"></div></div><div
class="crayon-button crayon-copy-button" title="Copy"><div
class="crayon-button-icon"></div></div><div
class="crayon-button crayon-popup-button" title="Open Code In New Window"><div
class="crayon-button-icon"></div></div><span
class="crayon-language">C++</span></div></div><div
class="crayon-info" style="min-height: 19.6px !important; line-height: 19.6px !important;"></div><div
class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 15px !important;">
//The typelist template
template&lt;typename... Ts&gt;
struct list{};
//A metafunction returning the index of a type T in a list of types L. If T doesn't belong to L, it returns -1
template&lt;typename T , typename L&gt;
struct index_of;
//Again that recursive head:tail traversal of functional languages
template&lt;typename T , typename HEAD , typename... TAIL&gt;
struct index_of&lt;T,list&lt;HEAD,TAIL...&gt;&gt;
{
	static constexpr int next_value = index_of&lt;T,TAIL...&gt;;::value;
	static constexpr int value = next_value &gt;= 0 ? next_value + 1 : -1; //Propagate the -1 or the index
};
//First base case: The type is found (T matches HEAD)
template&lt;tyename T , typename... TAIL&gt;
struct index_of&lt;T,list&lt;T,TAIL...&gt;&gt;
{
	static constexpr int vaue = 0;
};
//Second base case: The type is not found (There are no more types on the list to match with)
template&lt;typename T&gt;
struct index_of&lt;T,list&lt;&gt;&gt;
{
	static constexpr int value = -1;
};
//A type T is integral if its found on a list containing all the integral types
template&lt;typename T&gt;
struct is_integral : public std::integral_constant&lt;bool, index_of&lt;T,list&lt;short,int,long,etc...&gt;&gt;::value &gt;= 0&gt;;;
{};</textarea></div><div
class="crayon-main" style=""><table
class="crayon-table"><tr
class="crayon-row"><td
class="crayon-nums " data-settings="show"><div
class="crayon-nums-content" style="font-size: 14px !important; line-height: 15px !important;"><div
class="crayon-num" data-line="crayon-56886be162ef0474582031-1">1</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886be162ef0474582031-2">2</div><div
class="crayon-num" data-line="crayon-56886be162ef0474582031-3">3</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886be162ef0474582031-4">4</div><div
class="crayon-num" data-line="crayon-56886be162ef0474582031-5">5</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886be162ef0474582031-6">6</div><div
class="crayon-num" data-line="crayon-56886be162ef0474582031-7">7</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886be162ef0474582031-8">8</div><div
class="crayon-num" data-line="crayon-56886be162ef0474582031-9">9</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886be162ef0474582031-10">10</div><div
class="crayon-num" data-line="crayon-56886be162ef0474582031-11">11</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886be162ef0474582031-12">12</div><div
class="crayon-num" data-line="crayon-56886be162ef0474582031-13">13</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886be162ef0474582031-14">14</div><div
class="crayon-num" data-line="crayon-56886be162ef0474582031-15">15</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886be162ef0474582031-16">16</div><div
class="crayon-num" data-line="crayon-56886be162ef0474582031-17">17</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886be162ef0474582031-18">18</div><div
class="crayon-num" data-line="crayon-56886be162ef0474582031-19">19</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886be162ef0474582031-20">20</div><div
class="crayon-num" data-line="crayon-56886be162ef0474582031-21">21</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886be162ef0474582031-22">22</div><div
class="crayon-num" data-line="crayon-56886be162ef0474582031-23">23</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886be162ef0474582031-24">24</div><div
class="crayon-num" data-line="crayon-56886be162ef0474582031-25">25</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886be162ef0474582031-26">26</div><div
class="crayon-num" data-line="crayon-56886be162ef0474582031-27">27</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886be162ef0474582031-28">28</div><div
class="crayon-num" data-line="crayon-56886be162ef0474582031-29">29</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886be162ef0474582031-30">30</div><div
class="crayon-num" data-line="crayon-56886be162ef0474582031-31">31</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886be162ef0474582031-32">32</div><div
class="crayon-num" data-line="crayon-56886be162ef0474582031-33">33</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886be162ef0474582031-34">34</div></div></td><td
class="crayon-code"><div
class="crayon-pre" style="font-size: 14px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div
class="crayon-line" id="crayon-56886be162ef0474582031-1"><span
class="crayon-c">//The typelist template</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886be162ef0474582031-2"><span
class="crayon-t">template</span><span
class="crayon-o">&lt;</span><span
class="crayon-r">typename</span><span
class="crayon-sy">.</span><span
class="crayon-sy">.</span><span
class="crayon-sy">.</span><span
class="crayon-h"> </span><span
class="crayon-e">Ts</span><span
class="crayon-o">&gt;</span></div><div
class="crayon-line" id="crayon-56886be162ef0474582031-3"><span
class="crayon-t">struct</span><span
class="crayon-h"> </span><span
class="crayon-e">list</span><span
class="crayon-sy">{</span><span
class="crayon-sy">}</span><span
class="crayon-sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886be162ef0474582031-4">&nbsp;</div><div
class="crayon-line" id="crayon-56886be162ef0474582031-5"><span
class="crayon-c">//A metafunction returning the index of a type T in a list of types L. If T doesn't belong to L, it returns -1</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886be162ef0474582031-6"><span
class="crayon-t">template</span><span
class="crayon-o">&lt;</span><span
class="crayon-r">typename</span><span
class="crayon-h"> </span><span
class="crayon-i">T</span><span
class="crayon-h"> </span><span
class="crayon-sy">,</span><span
class="crayon-h"> </span><span
class="crayon-r">typename</span><span
class="crayon-h"> </span><span
class="crayon-v">L</span><span
class="crayon-o">&gt;</span></div><div
class="crayon-line" id="crayon-56886be162ef0474582031-7"><span
class="crayon-t">struct</span><span
class="crayon-h"> </span><span
class="crayon-v">index_of</span><span
class="crayon-sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886be162ef0474582031-8">&nbsp;</div><div
class="crayon-line" id="crayon-56886be162ef0474582031-9"><span
class="crayon-c">//Again that recursive head:tail traversal of functional languages</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886be162ef0474582031-10"><span
class="crayon-t">template</span><span
class="crayon-o">&lt;</span><span
class="crayon-r">typename</span><span
class="crayon-h"> </span><span
class="crayon-i">T</span><span
class="crayon-h"> </span><span
class="crayon-sy">,</span><span
class="crayon-h"> </span><span
class="crayon-r">typename</span><span
class="crayon-h"> </span><span
class="crayon-i">HEAD</span><span
class="crayon-h"> </span><span
class="crayon-sy">,</span><span
class="crayon-h"> </span><span
class="crayon-r">typename</span><span
class="crayon-sy">.</span><span
class="crayon-sy">.</span><span
class="crayon-sy">.</span><span
class="crayon-h"> </span><span
class="crayon-v">TAIL</span><span
class="crayon-o">&gt;</span></div><div
class="crayon-line" id="crayon-56886be162ef0474582031-11"><span
class="crayon-t">struct</span><span
class="crayon-h"> </span><span
class="crayon-v">index_of</span><span
class="crayon-o">&lt;</span><span
class="crayon-v">T</span><span
class="crayon-sy">,</span><span
class="crayon-v">list</span><span
class="crayon-o">&lt;</span><span
class="crayon-v">HEAD</span><span
class="crayon-sy">,</span><span
class="crayon-v">TAIL</span><span
class="crayon-sy">.</span><span
class="crayon-sy">.</span><span
class="crayon-sy">.</span><span
class="crayon-o">&gt;&gt;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886be162ef0474582031-12"><span
class="crayon-sy">{</span></div><div
class="crayon-line" id="crayon-56886be162ef0474582031-13"><span
class="crayon-h"> </span><span
class="crayon-m">static</span><span
class="crayon-h"> </span><span
class="crayon-t">constexpr</span><span
class="crayon-h"> </span><span
class="crayon-t">int</span><span
class="crayon-h"> </span><span
class="crayon-v">next_value</span><span
class="crayon-h"> </span><span
class="crayon-o">=</span><span
class="crayon-h"> </span><span
class="crayon-v">index_of</span><span
class="crayon-o">&lt;</span><span
class="crayon-v">T</span><span
class="crayon-sy">,</span><span
class="crayon-v">TAIL</span><span
class="crayon-sy">.</span><span
class="crayon-sy">.</span><span
class="crayon-sy">.</span><span
class="crayon-o">&gt;</span><span
class="crayon-sy">;</span><span
class="crayon-o">::</span><span
class="crayon-t">value</span><span
class="crayon-sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886be162ef0474582031-14"><span
class="crayon-h"> </span><span
class="crayon-m">static</span><span
class="crayon-h"> </span><span
class="crayon-t">constexpr</span><span
class="crayon-h"> </span><span
class="crayon-t">int</span><span
class="crayon-h"> </span><span
class="crayon-t">value</span><span
class="crayon-h"> </span><span
class="crayon-o">=</span><span
class="crayon-h"> </span><span
class="crayon-v">next_value</span><span
class="crayon-h"> </span><span
class="crayon-o">&gt;=</span><span
class="crayon-h"> </span><span
class="crayon-cn">0</span><span
class="crayon-h"> </span><span
class="crayon-sy">?</span><span
class="crayon-h"> </span><span
class="crayon-v">next_value</span><span
class="crayon-h"> </span><span
class="crayon-o">+</span><span
class="crayon-h"> </span><span
class="crayon-cn">1</span><span
class="crayon-h"> </span><span
class="crayon-o">:</span><span
class="crayon-h"> </span><span
class="crayon-o">-</span><span
class="crayon-cn">1</span><span
class="crayon-sy">;</span><span
class="crayon-h"> </span><span
class="crayon-c">//Propagate the -1 or the index</span></div><div
class="crayon-line" id="crayon-56886be162ef0474582031-15"><span
class="crayon-sy">}</span><span
class="crayon-sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886be162ef0474582031-16">&nbsp;</div><div
class="crayon-line" id="crayon-56886be162ef0474582031-17"><span
class="crayon-c">//First base case: The type is found (T matches HEAD)</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886be162ef0474582031-18"><span
class="crayon-t">template</span><span
class="crayon-o">&lt;</span><span
class="crayon-i">tyename</span><span
class="crayon-h"> </span><span
class="crayon-i">T</span><span
class="crayon-h"> </span><span
class="crayon-sy">,</span><span
class="crayon-h"> </span><span
class="crayon-r">typename</span><span
class="crayon-sy">.</span><span
class="crayon-sy">.</span><span
class="crayon-sy">.</span><span
class="crayon-h"> </span><span
class="crayon-v">TAIL</span><span
class="crayon-o">&gt;</span></div><div
class="crayon-line" id="crayon-56886be162ef0474582031-19"><span
class="crayon-t">struct</span><span
class="crayon-h"> </span><span
class="crayon-v">index_of</span><span
class="crayon-o">&lt;</span><span
class="crayon-v">T</span><span
class="crayon-sy">,</span><span
class="crayon-v">list</span><span
class="crayon-o">&lt;</span><span
class="crayon-v">T</span><span
class="crayon-sy">,</span><span
class="crayon-v">TAIL</span><span
class="crayon-sy">.</span><span
class="crayon-sy">.</span><span
class="crayon-sy">.</span><span
class="crayon-o">&gt;&gt;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886be162ef0474582031-20"><span
class="crayon-sy">{</span></div><div
class="crayon-line" id="crayon-56886be162ef0474582031-21"><span
class="crayon-h"> </span><span
class="crayon-m">static</span><span
class="crayon-h"> </span><span
class="crayon-t">constexpr</span><span
class="crayon-h"> </span><span
class="crayon-t">int</span><span
class="crayon-h"> </span><span
class="crayon-v">vaue</span><span
class="crayon-h"> </span><span
class="crayon-o">=</span><span
class="crayon-h"> </span><span
class="crayon-cn">0</span><span
class="crayon-sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886be162ef0474582031-22"><span
class="crayon-sy">}</span><span
class="crayon-sy">;</span></div><div
class="crayon-line" id="crayon-56886be162ef0474582031-23">&nbsp;</div><div
class="crayon-line crayon-striped-line" id="crayon-56886be162ef0474582031-24"><span
class="crayon-c">//Second base case: The type is not found (There are no more types on the list to match with)</span></div><div
class="crayon-line" id="crayon-56886be162ef0474582031-25"><span
class="crayon-t">template</span><span
class="crayon-o">&lt;</span><span
class="crayon-r">typename</span><span
class="crayon-h"> </span><span
class="crayon-v">T</span><span
class="crayon-o">&gt;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886be162ef0474582031-26"><span
class="crayon-t">struct</span><span
class="crayon-h"> </span><span
class="crayon-v">index_of</span><span
class="crayon-o">&lt;</span><span
class="crayon-v">T</span><span
class="crayon-sy">,</span><span
class="crayon-e">list</span><span
class="crayon-o">&lt;&gt;</span><span
class="crayon-o">&gt;</span></div><div
class="crayon-line" id="crayon-56886be162ef0474582031-27"><span
class="crayon-sy">{</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886be162ef0474582031-28"><span
class="crayon-h"> </span><span
class="crayon-m">static</span><span
class="crayon-h"> </span><span
class="crayon-t">constexpr</span><span
class="crayon-h"> </span><span
class="crayon-t">int</span><span
class="crayon-h"> </span><span
class="crayon-t">value</span><span
class="crayon-h"> </span><span
class="crayon-o">=</span><span
class="crayon-h"> </span><span
class="crayon-o">-</span><span
class="crayon-cn">1</span><span
class="crayon-sy">;</span></div><div
class="crayon-line" id="crayon-56886be162ef0474582031-29"><span
class="crayon-sy">}</span><span
class="crayon-sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886be162ef0474582031-30">&nbsp;</div><div
class="crayon-line" id="crayon-56886be162ef0474582031-31"><span
class="crayon-c">//A type T is integral if its found on a list containing all the integral types</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886be162ef0474582031-32"><span
class="crayon-t">template</span><span
class="crayon-o">&lt;</span><span
class="crayon-r">typename</span><span
class="crayon-h"> </span><span
class="crayon-v">T</span><span
class="crayon-o">&gt;</span></div><div
class="crayon-line" id="crayon-56886be162ef0474582031-33"><span
class="crayon-t">struct</span><span
class="crayon-h"> </span><span
class="crayon-v">is_integral</span><span
class="crayon-h"> </span><span
class="crayon-o">:</span><span
class="crayon-h"> </span><span
class="crayon-m">public</span><span
class="crayon-h"> </span><span
class="crayon-v">std</span><span
class="crayon-o">::</span><span
class="crayon-v">integral_constant</span><span
class="crayon-o">&lt;</span><span
class="crayon-t">bool</span><span
class="crayon-sy">,</span><span
class="crayon-h"> </span><span
class="crayon-v">index_of</span><span
class="crayon-o">&lt;</span><span
class="crayon-v">T</span><span
class="crayon-sy">,</span><span
class="crayon-v">list</span><span
class="crayon-o">&lt;</span><span
class="crayon-t">short</span><span
class="crayon-sy">,</span><span
class="crayon-t">int</span><span
class="crayon-sy">,</span><span
class="crayon-t">long</span><span
class="crayon-sy">,</span><span
class="crayon-v">etc</span><span
class="crayon-sy">.</span><span
class="crayon-sy">.</span><span
class="crayon-sy">.</span><span
class="crayon-o">&gt;&gt;</span><span
class="crayon-o">::</span><span
class="crayon-t">value</span><span
class="crayon-h"> </span><span
class="crayon-o">&gt;=</span><span
class="crayon-h"> </span><span
class="crayon-cn">0</span><span
class="crayon-o">&gt;</span><span
class="crayon-sy">;</span><span
class="crayon-sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886be162ef0474582031-34"><span
class="crayon-sy">{</span><span
class="crayon-sy">}</span><span
class="crayon-sy">;</span></div></div></td></tr></table></div></div><p>This thing (Storing a typelist of integral types and searching on it) is exactly what the libc++ Standard Library implementation does to implement the <code>std::is_integral</code> type trait. GCC&#8217;s stdlibc++ on the other hand uses explicit template specializations, one for each integral type.</p><p>Also, always be careful when writing and using that recursive metafunctions. The compiler has some limits, and breaking them could lead to some horrible errors like this:</p><p><img
class="aligncenter wp-image-1688 size-full" src="../wp-content/uploads/sites/2/2014/09/biierror.png" alt="Template metaprogramming: not safe from errors, not even with biicode" width="811" height="375" />And thats only the header of the error, it was really two hundreds of lines long. Remember that &#8220;<em>Template instantiation depth reached max of X</em>&#8221; error. Will be one of your best friends when doing template metaprogramming.</p><h3><a
class="anchor" href="#template-template-parameters" name="user-content-template-template-parameters"></a>Template-template parameters</h3><p>The last category is also the poor known category of template parameters, possibly because its ugly syntax.</p><p>A template-template parameter its a C++ template parameter which <strong>represents not a type nor a value, but a template itself</strong>:</p><div
id="crayon-56886be162efb484089728" class="crayon-syntax crayon-theme-biicode crayon-font-inconsolata crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 14px !important; line-height: 15px !important;"><div
class="crayon-toolbar" data-settings=" mouseover hide delay" style="font-size: 14px !important;height: 21px !important; line-height: 21px !important;"><span
class="crayon-title"></span><div
class="crayon-tools" style="font-size: 14px !important;height: 21px !important; line-height: 21px !important;"><div
class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div
class="crayon-button-icon"></div></div><div
class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div
class="crayon-button-icon"></div></div><div
class="crayon-button crayon-expand-button" title="Expand Code"><div
class="crayon-button-icon"></div></div><div
class="crayon-button crayon-copy-button" title="Copy"><div
class="crayon-button-icon"></div></div><div
class="crayon-button crayon-popup-button" title="Open Code In New Window"><div
class="crayon-button-icon"></div></div><span
class="crayon-language">C++</span></div></div><div
class="crayon-info" style="min-height: 19.6px !important; line-height: 19.6px !important;"></div><div
class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 15px !important;">
template&lt;template&lt;typename&gt; class T&gt;
struct foo{};</textarea></div><div
class="crayon-main" style=""><table
class="crayon-table"><tr
class="crayon-row"><td
class="crayon-nums " data-settings="show"><div
class="crayon-nums-content" style="font-size: 14px !important; line-height: 15px !important;"><div
class="crayon-num" data-line="crayon-56886be162efb484089728-1">1</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886be162efb484089728-2">2</div></div></td><td
class="crayon-code"><div
class="crayon-pre" style="font-size: 14px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div
class="crayon-line" id="crayon-56886be162efb484089728-1"><span
class="crayon-t">template</span><span
class="crayon-o">&lt;</span><span
class="crayon-t">template</span><span
class="crayon-o">&lt;</span><span
class="crayon-r">typename</span><span
class="crayon-o">&gt;</span><span
class="crayon-h"> </span><span
class="crayon-t">class</span><span
class="crayon-h"> </span><span
class="crayon-e">T</span><span
class="crayon-o">&gt;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886be162efb484089728-2"><span
class="crayon-t">struct</span><span
class="crayon-h"> </span><span
class="crayon-e">foo</span><span
class="crayon-sy">{</span><span
class="crayon-sy">}</span><span
class="crayon-sy">;</span></div></div></td></tr></table></div></div><p><code>foo</code> is a template expecting a template with one type parameter only. So <code>foo</code> can take something like this <code>bar</code> as template parameter:</p><div
id="crayon-56886be162f05016796535" class="crayon-syntax crayon-theme-biicode crayon-font-inconsolata crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 14px !important; line-height: 15px !important;"><div
class="crayon-toolbar" data-settings=" mouseover hide delay" style="font-size: 14px !important;height: 21px !important; line-height: 21px !important;"><span
class="crayon-title"></span><div
class="crayon-tools" style="font-size: 14px !important;height: 21px !important; line-height: 21px !important;"><div
class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div
class="crayon-button-icon"></div></div><div
class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div
class="crayon-button-icon"></div></div><div
class="crayon-button crayon-expand-button" title="Expand Code"><div
class="crayon-button-icon"></div></div><div
class="crayon-button crayon-copy-button" title="Copy"><div
class="crayon-button-icon"></div></div><div
class="crayon-button crayon-popup-button" title="Open Code In New Window"><div
class="crayon-button-icon"></div></div><span
class="crayon-language">C++</span></div></div><div
class="crayon-info" style="min-height: 19.6px !important; line-height: 19.6px !important;"></div><div
class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 15px !important;">
template&lt;typename T&gt;
struct bar{};
using foo_instance = foo&lt;bar&gt;;</textarea></div><div
class="crayon-main" style=""><table
class="crayon-table"><tr
class="crayon-row"><td
class="crayon-nums " data-settings="show"><div
class="crayon-nums-content" style="font-size: 14px !important; line-height: 15px !important;"><div
class="crayon-num" data-line="crayon-56886be162f05016796535-1">1</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886be162f05016796535-2">2</div><div
class="crayon-num" data-line="crayon-56886be162f05016796535-3">3</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886be162f05016796535-4">4</div></div></td><td
class="crayon-code"><div
class="crayon-pre" style="font-size: 14px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div
class="crayon-line" id="crayon-56886be162f05016796535-1"><span
class="crayon-t">template</span><span
class="crayon-o">&lt;</span><span
class="crayon-r">typename</span><span
class="crayon-h"> </span><span
class="crayon-e">T</span><span
class="crayon-o">&gt;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886be162f05016796535-2"><span
class="crayon-t">struct</span><span
class="crayon-h"> </span><span
class="crayon-e">bar</span><span
class="crayon-sy">{</span><span
class="crayon-sy">}</span><span
class="crayon-sy">;</span></div><div
class="crayon-line" id="crayon-56886be162f05016796535-3">&nbsp;</div><div
class="crayon-line crayon-striped-line" id="crayon-56886be162f05016796535-4"><span
class="crayon-r">using</span><span
class="crayon-h"> </span><span
class="crayon-v">foo_instance</span><span
class="crayon-h"> </span><span
class="crayon-o">=</span><span
class="crayon-h"> </span><span
class="crayon-v">foo</span><span
class="crayon-o">&lt;</span><span
class="crayon-v">bar</span><span
class="crayon-o">&gt;</span><span
class="crayon-sy">;</span></div></div></td></tr></table></div></div><p>Its possible to write a template that can take any kind of template? No. Thats the reason why we encouraged the use of type parameters only for template metaprogramming during the first post. If we only use type parameters, doing that its easy thanks to variadic templates:</p><div
id="crayon-56886be162f0f936387847" class="crayon-syntax crayon-theme-biicode crayon-font-inconsolata crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 14px !important; line-height: 15px !important;"><div
class="crayon-toolbar" data-settings=" mouseover hide delay" style="font-size: 14px !important;height: 21px !important; line-height: 21px !important;"><span
class="crayon-title"></span><div
class="crayon-tools" style="font-size: 14px !important;height: 21px !important; line-height: 21px !important;"><div
class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div
class="crayon-button-icon"></div></div><div
class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div
class="crayon-button-icon"></div></div><div
class="crayon-button crayon-expand-button" title="Expand Code"><div
class="crayon-button-icon"></div></div><div
class="crayon-button crayon-copy-button" title="Copy"><div
class="crayon-button-icon"></div></div><div
class="crayon-button crayon-popup-button" title="Open Code In New Window"><div
class="crayon-button-icon"></div></div><span
class="crayon-language">C++</span></div></div><div
class="crayon-info" style="min-height: 19.6px !important; line-height: 19.6px !important;"></div><div
class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 15px !important;">
template&lt;typename...&gt; class T&gt;
struct universal_template{};</textarea></div><div
class="crayon-main" style=""><table
class="crayon-table"><tr
class="crayon-row"><td
class="crayon-nums " data-settings="show"><div
class="crayon-nums-content" style="font-size: 14px !important; line-height: 15px !important;"><div
class="crayon-num" data-line="crayon-56886be162f0f936387847-1">1</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886be162f0f936387847-2">2</div></div></td><td
class="crayon-code"><div
class="crayon-pre" style="font-size: 14px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div
class="crayon-line" id="crayon-56886be162f0f936387847-1"><span
class="crayon-t">template</span><span
class="crayon-o">&lt;</span><span
class="crayon-r">typename</span><span
class="crayon-sy">.</span><span
class="crayon-sy">.</span><span
class="crayon-sy">.</span><span
class="crayon-o">&gt;</span><span
class="crayon-h"> </span><span
class="crayon-t">class</span><span
class="crayon-h"> </span><span
class="crayon-e">T</span><span
class="crayon-o">&gt;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886be162f0f936387847-2"><span
class="crayon-t">struct</span><span
class="crayon-h"> </span><span
class="crayon-e">universal_template</span><span
class="crayon-sy">{</span><span
class="crayon-sy">}</span><span
class="crayon-sy">;</span></div></div></td></tr></table></div></div><p>If you follow our coding convention, that <code>universal_template</code> could take any kind of template, metafunction, etc we have. During <a
href="https://www.biicode.com/manu343726/manu343726/turbo_core/master">Turbo</a> development I followed that convention, and used box types for values (With types like <code>std::integral_constant</code>) and templates (With a template similar to that <code>universal_template</code>). The equivalent template was called <code>tml::lazy</code> from the fact that its primarily used for delayed and lazy template instantation:</p><div
id="crayon-56886be162f19192161595" class="crayon-syntax crayon-theme-biicode crayon-font-inconsolata crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 14px !important; line-height: 15px !important;"><div
class="crayon-toolbar" data-settings=" mouseover hide delay" style="font-size: 14px !important;height: 21px !important; line-height: 21px !important;"><span
class="crayon-title"></span><div
class="crayon-tools" style="font-size: 14px !important;height: 21px !important; line-height: 21px !important;"><div
class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div
class="crayon-button-icon"></div></div><div
class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div
class="crayon-button-icon"></div></div><div
class="crayon-button crayon-expand-button" title="Expand Code"><div
class="crayon-button-icon"></div></div><div
class="crayon-button crayon-copy-button" title="Copy"><div
class="crayon-button-icon"></div></div><div
class="crayon-button crayon-popup-button" title="Open Code In New Window"><div
class="crayon-button-icon"></div></div><span
class="crayon-language">C++</span></div></div><div
class="crayon-info" style="min-height: 19.6px !important; line-height: 19.6px !important;"></div><div
class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 15px !important;">
template&lt;typename T&gt;
struct unary{};
template&lt;typename LHS , typename RHS&gt;
struct binary{};
using unary_t = tml::lazy&lt;unary&gt;; //Its no more a template but a type
using binary_t = tml::lazy&lt;binary&gt;;
using unary_instance = tml::eval&lt;unary_t,int&gt; //Instaintiates the "template" unary_t with int as parameter,
                                              //so unary_instance is unary</textarea></div><div
class="crayon-main" style=""><table
class="crayon-table"><tr
class="crayon-row"><td
class="crayon-nums " data-settings="show"><div
class="crayon-nums-content" style="font-size: 14px !important; line-height: 15px !important;"><div
class="crayon-num" data-line="crayon-56886be162f19192161595-1">1</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886be162f19192161595-2">2</div><div
class="crayon-num" data-line="crayon-56886be162f19192161595-3">3</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886be162f19192161595-4">4</div><div
class="crayon-num" data-line="crayon-56886be162f19192161595-5">5</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886be162f19192161595-6">6</div><div
class="crayon-num" data-line="crayon-56886be162f19192161595-7">7</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886be162f19192161595-8">8</div><div
class="crayon-num" data-line="crayon-56886be162f19192161595-9">9</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886be162f19192161595-10">10</div><div
class="crayon-num" data-line="crayon-56886be162f19192161595-11">11</div></div></td><td
class="crayon-code"><div
class="crayon-pre" style="font-size: 14px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div
class="crayon-line" id="crayon-56886be162f19192161595-1"><span
class="crayon-t">template</span><span
class="crayon-o">&lt;</span><span
class="crayon-r">typename</span><span
class="crayon-h"> </span><span
class="crayon-e">T</span><span
class="crayon-o">&gt;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886be162f19192161595-2"><span
class="crayon-t">struct</span><span
class="crayon-h"> </span><span
class="crayon-e">unary</span><span
class="crayon-sy">{</span><span
class="crayon-sy">}</span><span
class="crayon-sy">;</span></div><div
class="crayon-line" id="crayon-56886be162f19192161595-3">&nbsp;</div><div
class="crayon-line crayon-striped-line" id="crayon-56886be162f19192161595-4"><span
class="crayon-t">template</span><span
class="crayon-o">&lt;</span><span
class="crayon-r">typename</span><span
class="crayon-h"> </span><span
class="crayon-i">LHS</span><span
class="crayon-h"> </span><span
class="crayon-sy">,</span><span
class="crayon-h"> </span><span
class="crayon-r">typename</span><span
class="crayon-h"> </span><span
class="crayon-e">RHS</span><span
class="crayon-o">&gt;</span></div><div
class="crayon-line" id="crayon-56886be162f19192161595-5"><span
class="crayon-t">struct</span><span
class="crayon-h"> </span><span
class="crayon-e">binary</span><span
class="crayon-sy">{</span><span
class="crayon-sy">}</span><span
class="crayon-sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886be162f19192161595-6">&nbsp;</div><div
class="crayon-line" id="crayon-56886be162f19192161595-7"><span
class="crayon-r">using</span><span
class="crayon-h"> </span><span
class="crayon-v">unary_t</span><span
class="crayon-h"> </span><span
class="crayon-o">=</span><span
class="crayon-h"> </span><span
class="crayon-v">tml</span><span
class="crayon-o">::</span><span
class="crayon-v">lazy</span><span
class="crayon-o">&lt;</span><span
class="crayon-v">unary</span><span
class="crayon-o">&gt;</span><span
class="crayon-sy">;</span><span
class="crayon-h"> </span><span
class="crayon-c">//Its no more a template but a type</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886be162f19192161595-8"><span
class="crayon-r">using</span><span
class="crayon-h"> </span><span
class="crayon-v">binary_t</span><span
class="crayon-h"> </span><span
class="crayon-o">=</span><span
class="crayon-h"> </span><span
class="crayon-v">tml</span><span
class="crayon-o">::</span><span
class="crayon-v">lazy</span><span
class="crayon-o">&lt;</span><span
class="crayon-v">binary</span><span
class="crayon-o">&gt;</span><span
class="crayon-sy">;</span></div><div
class="crayon-line" id="crayon-56886be162f19192161595-9">&nbsp;</div><div
class="crayon-line crayon-striped-line" id="crayon-56886be162f19192161595-10"><span
class="crayon-r">using</span><span
class="crayon-h"> </span><span
class="crayon-v">unary_instance</span><span
class="crayon-h"> </span><span
class="crayon-o">=</span><span
class="crayon-h"> </span><span
class="crayon-v">tml</span><span
class="crayon-o">::</span><span
class="crayon-v">eval</span><span
class="crayon-o">&lt;</span><span
class="crayon-v">unary_t</span><span
class="crayon-sy">,</span><span
class="crayon-t">int</span><span
class="crayon-o">&gt;</span><span
class="crayon-h"> </span><span
class="crayon-c">//Instaintiates the "template" unary_t with int as parameter, </span></div><div
class="crayon-line" id="crayon-56886be162f19192161595-11"><span
class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="crayon-c">//so unary_instance is unary</span></div></div></td></tr></table></div></div><p>As you can see, template-template parameters are very powerful ones, since they can convert templates into types, leading to many use cases. The best of all I think, they are the template metaprogramming equivalent of functors:</p><div
id="crayon-56886be162f23119284702" class="crayon-syntax crayon-theme-biicode crayon-font-inconsolata crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 14px !important; line-height: 15px !important;"><div
class="crayon-toolbar" data-settings=" mouseover hide delay" style="font-size: 14px !important;height: 21px !important; line-height: 21px !important;"><span
class="crayon-title"></span><div
class="crayon-tools" style="font-size: 14px !important;height: 21px !important; line-height: 21px !important;"><div
class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div
class="crayon-button-icon"></div></div><div
class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div
class="crayon-button-icon"></div></div><div
class="crayon-button crayon-expand-button" title="Expand Code"><div
class="crayon-button-icon"></div></div><div
class="crayon-button crayon-copy-button" title="Copy"><div
class="crayon-button-icon"></div></div><div
class="crayon-button crayon-popup-button" title="Open Code In New Window"><div
class="crayon-button-icon"></div></div><span
class="crayon-language">C++</span></div></div><div
class="crayon-info" style="min-height: 19.6px !important; line-height: 19.6px !important;"></div><div
class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 14px !important; line-height: 15px !important;">
//A simple comparison metafunction
template&lt;typename LHS , typename RHS&gt;
struct less
{
    using result = std::integral_constant&lt;bool, (sizeof(LHS) &lt; sizeof(RHS))&gt;;
};
//Returns the minimal type given a comparison criteria (less by default)
template&lt;typename LHS , typename RHS&gt;
struct min
{
	using result = typename std::conditional&lt;tml::eval&lt;COMPARER,LHS,RHS&gt;::value,
	                                         LHS,
	                                         RHS
	                                        &gt;::type;
};</textarea></div><div
class="crayon-main" style=""><table
class="crayon-table"><tr
class="crayon-row"><td
class="crayon-nums " data-settings="show"><div
class="crayon-nums-content" style="font-size: 14px !important; line-height: 15px !important;"><div
class="crayon-num" data-line="crayon-56886be162f23119284702-1">1</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886be162f23119284702-2">2</div><div
class="crayon-num" data-line="crayon-56886be162f23119284702-3">3</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886be162f23119284702-4">4</div><div
class="crayon-num" data-line="crayon-56886be162f23119284702-5">5</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886be162f23119284702-6">6</div><div
class="crayon-num" data-line="crayon-56886be162f23119284702-7">7</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886be162f23119284702-8">8</div><div
class="crayon-num" data-line="crayon-56886be162f23119284702-9">9</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886be162f23119284702-10">10</div><div
class="crayon-num" data-line="crayon-56886be162f23119284702-11">11</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886be162f23119284702-12">12</div><div
class="crayon-num" data-line="crayon-56886be162f23119284702-13">13</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886be162f23119284702-14">14</div><div
class="crayon-num" data-line="crayon-56886be162f23119284702-15">15</div><div
class="crayon-num crayon-striped-num" data-line="crayon-56886be162f23119284702-16">16</div></div></td><td
class="crayon-code"><div
class="crayon-pre" style="font-size: 14px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div
class="crayon-line" id="crayon-56886be162f23119284702-1"><span
class="crayon-c">//A simple comparison metafunction</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886be162f23119284702-2"><span
class="crayon-t">template</span><span
class="crayon-o">&lt;</span><span
class="crayon-r">typename</span><span
class="crayon-h"> </span><span
class="crayon-i">LHS</span><span
class="crayon-h"> </span><span
class="crayon-sy">,</span><span
class="crayon-h"> </span><span
class="crayon-r">typename</span><span
class="crayon-h"> </span><span
class="crayon-e">RHS</span><span
class="crayon-o">&gt;</span></div><div
class="crayon-line" id="crayon-56886be162f23119284702-3"><span
class="crayon-t">struct</span><span
class="crayon-h"> </span><span
class="crayon-e">less</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886be162f23119284702-4"><span
class="crayon-sy">{</span></div><div
class="crayon-line" id="crayon-56886be162f23119284702-5"><span
class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="crayon-r">using</span><span
class="crayon-h"> </span><span
class="crayon-v">result</span><span
class="crayon-h"> </span><span
class="crayon-o">=</span><span
class="crayon-h"> </span><span
class="crayon-v">std</span><span
class="crayon-o">::</span><span
class="crayon-v">integral_constant</span><span
class="crayon-o">&lt;</span><span
class="crayon-t">bool</span><span
class="crayon-sy">,</span><span
class="crayon-h"> </span><span
class="crayon-sy">(</span><span
class="crayon-r">sizeof</span><span
class="crayon-sy">(</span><span
class="crayon-v">LHS</span><span
class="crayon-sy">)</span><span
class="crayon-h"> </span><span
class="crayon-o">&lt;</span><span
class="crayon-h"> </span><span
class="crayon-r">sizeof</span><span
class="crayon-sy">(</span><span
class="crayon-v">RHS</span><span
class="crayon-sy">)</span><span
class="crayon-sy">)</span><span
class="crayon-o">&gt;</span><span
class="crayon-sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886be162f23119284702-6"><span
class="crayon-sy">}</span><span
class="crayon-sy">;</span></div><div
class="crayon-line" id="crayon-56886be162f23119284702-7">&nbsp;</div><div
class="crayon-line crayon-striped-line" id="crayon-56886be162f23119284702-8"><span
class="crayon-c">//Returns the minimal type given a comparison criteria (less by default)</span></div><div
class="crayon-line" id="crayon-56886be162f23119284702-9"><span
class="crayon-t">template</span><span
class="crayon-o">&lt;</span><span
class="crayon-r">typename</span><span
class="crayon-h"> </span><span
class="crayon-i">LHS</span><span
class="crayon-h"> </span><span
class="crayon-sy">,</span><span
class="crayon-h"> </span><span
class="crayon-r">typename</span><span
class="crayon-h"> </span><span
class="crayon-e">RHS</span><span
class="crayon-o">&gt;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886be162f23119284702-10"><span
class="crayon-t">struct</span><span
class="crayon-h"> </span><span
class="crayon-e">min</span></div><div
class="crayon-line" id="crayon-56886be162f23119284702-11"><span
class="crayon-sy">{</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886be162f23119284702-12"><span
class="crayon-h"> </span><span
class="crayon-r">using</span><span
class="crayon-h"> </span><span
class="crayon-v">result</span><span
class="crayon-h"> </span><span
class="crayon-o">=</span><span
class="crayon-h"> </span><span
class="crayon-r">typename</span><span
class="crayon-h"> </span><span
class="crayon-v">std</span><span
class="crayon-o">::</span><span
class="crayon-v">conditional</span><span
class="crayon-o">&lt;</span><span
class="crayon-v">tml</span><span
class="crayon-o">::</span><span
class="crayon-v">eval</span><span
class="crayon-o">&lt;</span><span
class="crayon-v">COMPARER</span><span
class="crayon-sy">,</span><span
class="crayon-v">LHS</span><span
class="crayon-sy">,</span><span
class="crayon-v">RHS</span><span
class="crayon-o">&gt;</span><span
class="crayon-o">::</span><span
class="crayon-t">value</span><span
class="crayon-sy">,</span></div><div
class="crayon-line" id="crayon-56886be162f23119284702-13"><span
class="crayon-h"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class="crayon-v">LHS</span><span
class="crayon-sy">,</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886be162f23119284702-14"><span
class="crayon-h"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class="crayon-v">RHS</span></div><div
class="crayon-line" id="crayon-56886be162f23119284702-15"><span
class="crayon-h"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
class="crayon-o">&gt;</span><span
class="crayon-o">::</span><span
class="crayon-v">type</span><span
class="crayon-sy">;</span></div><div
class="crayon-line crayon-striped-line" id="crayon-56886be162f23119284702-16"><span
class="crayon-sy">}</span><span
class="crayon-sy">;</span></div></div></td></tr></table></div></div><p></p><h2><a
class="anchor" href="#summary" name="user-content-summary"></a>Summary of template metaprogramming in depth</h2><ul
class="task-list"><li><strong>Modern C++ compilers are smart enough to optimize the output of the template system and the execution of the template system itself</strong>. Beware of modern compiler capabilites, don&#8217;t tie yourself to old speaks. There are template-related problems, of course, but these are usually not. By default, there is no exponential and mind blowing executable size increase.</li><li><strong>There are three categories of template arguments</strong>, each with their own use cases and properties. Combine them to have a powerful template metaprogramming toolbox.</li></ul><p>Don&#8217;t be afraid if you haven&#8217;t understood some of the examples provided here. They are not intended to be simple, but to show use cases of template metaprogramming. Do you want to understand them completely? <a
href="http://www.meetup.com/Madrid-C-Cpp/events/205900412/">Come to the workshops</a> next week!</p><style type="text/css">#meetup_oembed .mu_clearfix:after { visibility: hidden; display: block; font-size: 0; content: " "; clear: both; height: 0; }* html #meetup_oembed .mu_clearfix, *:first-child+html #meetup_oembed .mu_clearfix { zoom: 1; }#meetup_oembed { background:#eee;border:1px solid #ccc;padding:10px;-moz-border-radius:3px;-webkit-border-radius:3px;border-radius:3px;margin:0; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 12px; }#meetup_oembed h3 { font-weight:normal; margin:0 0 10px; padding:0; line-height:26px; font-family:Georgia,Palatino,serif; font-size:24px }#meetup_oembed p { margin: 0 0 10px; padding:0; line-height:16px; }#meetup_oembed img { border:none; margin:0; padding:0; }#meetup_oembed a, #meetup_oembed a:visited, #meetup_oembed a:link { color: #1B76B3; text-decoration: none; cursor: hand; cursor: pointer; }#meetup_oembed a:hover { color: #1B76B3; text-decoration: underline; }#meetup_oembed a.mu_button { font-size:14px; -moz-border-radius:3px;-webkit-border-radius:3px;border-radius:3px;border:2px solid #A7241D;color:white!important;text-decoration:none;background-color: #CA3E47; background-image: -moz-linear-gradient(top, #ca3e47, #a8252e); background-image: -webkit-gradient(linear, left bottom, left top, color-stop(0, #a8252e), color-stop(1, #ca3e47));disvplay:inline-block;padding:5px 10px; }#meetup_oembed a.mu_button:hover { color: #fff!important; text-decoration: none; }#meetup_oembed .photo { width:50px; height:50px; overflow:hidden;background:#ccc;float:left;margin:0 5px 0 0;text-align:center;padding:1px; }#meetup_oembed .photo img { height:50px }#meetup_oembed .number { font-size:18px; }#meetup_oembed .thing { text-transform: uppercase; color: #555; }</style><div
id="meetup_oembed" style="height:309px"><div
style="overflow:hidden;max-height:269px"><h3>Madrid C/C++</h3><p
style="margin:0 0 10px;font-size:12px;line-height:16px;">Madrid, ES <br
/> <span
style="font-size:14px;font-weight:bold;">180</span> <em>programadores</em></p><p> <a
href="http://www.meetup.com/Madrid-C-Cpp/" target="_blank"><img
src="../../photos4.meetupstatic.com/photos/event/8/c/c/a/600_368916042.jpg" style="float:right;max-width:150px;margin-right:0;" /></a><div
style="margin-right:170px;line-height:16px;">Conoce otros programadores C/C++ de Madrid. Haz Networking, aprende, o simplemente disfruta de unas cervezas. Todos los niveles de conocimiento son bienvenidos, incluso princi&#8230;</div></p></div><p
style="margin:10px 0 5px;"><a
href="http://www.meetup.com/Madrid-C-Cpp/" target="_blank" class="mu_button">Check out this Meetup Group &rarr;</a></p></div><p
class="widgettitleFeatures" align="center"><strong>Stay tuned by signing up below</strong></p><div
id="ContainerFriendsSubscribe"><div
class="mc_custom_border_hdr">Stay tuned</div><style>.widget_mailchimpsf_widget .widget-title {
		line-height: 1.4em;
		margin-bottom: 0.75em;
	}
	#mc_subheader {
		line-height: 1.25em;
		margin-bottom: 18px;
	}
	.mc_merge_var {
		margin-bottom: 1.0em;
	}
	.mc_var_label,
	.mc_interest_label {
		display: block;
		margin-bottom: 0.5em;
	}
	.mc_input {
		-moz-box-sizing: border-box;
		-webkit-box-sizing: border-box;
		box-sizing: border-box;
		width: 100%;
	}
	.mc_input.mc_phone {
		width: auto;
	}
	select.mc_select {
		margin-top: 0.5em;
		width: 100%;
	}
	.mc_address_label {
		margin-top: 1.0em;
		margin-bottom: 0.5em;
		display: block;
	}
	.mc_address_label ~ select {
		width: 100%;
	}
	.mc_list li {
		list-style: none;
		background: none !important;
	}
	.mc_interests_header {
		margin-top: 1.0em;
		margin-bottom: 0.5em;
	}
	.mc_interest label,
	.mc_interest input {
		margin-bottom: 0.4em;
	}
	#mc_signup_submit {
		margin-top: 1.5em;
		width: 80%;
	}
	#mc_unsub_link a {
		font-size: 0.75em;
	}
	#mc_unsub_link {
		margin-top: 1.0em;
	}
	.mc_header_address,
	.mc_email_format {
		display: block;
		font-weight: bold;
		margin-top: 1.0em;
		margin-bottom: 0.5em;
	}
	.mc_email_options {
		margin-top: 0.5em;
	}
	.mc_email_type {
		padding-left: 4px;
	}</style><div
id="mc_signup"><form
method="post" action="#mc_signup" id="mc_signup_form"> <input
type="hidden" id="mc_submit_type" name="mc_submit_type" value="html" /> <input
type="hidden" name="mcsf_action" value="mc_submit_signup_form" /> <input
type="hidden" id="_mc_submit_signup_form_nonce" name="_mc_submit_signup_form_nonce" value="528a10d57f" /><div
class="mc_form_inside"><div
class="updated" id="mc_message"></div><div
class="mc_merge_var"> <label
for="mc_mv_EMAIL" class="mc_var_label mc_header mc_header_email">Email Address</label> <input
type="text" size="18" placeholder="" name="mc_mv_EMAIL" id="mc_mv_EMAIL" class="mc_input"/></div><div
class="mc_signup_submit"> <input
type="submit" name="mc_signup_submit" id="mc_signup_submit" value="Send" class="button" /></div></div></form></div></div><p></p> </article><hr
class="dot-line" />Related Posts<ul><li><a
href="../cpp-madrid-meetup-template-metaprogramming/index.html" title="C/C++ Madrid meetup @ biicode office">C/C++ Madrid meetup @ biicode office</a></li><li><a
href="../template-metaprogramming-with-modern-cpp-introduction/index.html" title="Template Metaprogramming with Modern C++: Introduction">Template Metaprogramming with Modern C++: Introduction</a></li><li><a
href="../a-tiny-metaprogramming-lib-metafunctions/index.html" title="A Tiny Metaprogramming Library: Extending the Metaphor, entering metafunctions">A Tiny Metaprogramming Library: Extending the Metaphor, entering metafunctions</a></li><li><a
href="../tiny-metaprogramming-library/index.html" title="A Tiny Metaprogramming Library">A Tiny Metaprogramming Library</a></li></ul><div
class="addthis_toolbox addthis_default_style addthis_32x32_style" addthis:url='http://blog.biicode.com/template-metaprogramming-cpp-ii/' addthis:title='Template Metaprogramming with Modern C++: templates in depth' ><a
class="addthis_button_facebook"></a><a
class="addthis_button_twitter"></a><a
class="addthis_button_google_plusone_share"></a><a
class="addthis_button_compact"></a><a
class="addthis_counter addthis_bubble_style"></a></div></div> <footer
class="entry-meta"> This entry was posted in <a
href="../category/meta-programming/index.html" rel="category tag">Meta-programming</a> and tagged <a
href="../tag/c/index.html" rel="tag">c++</a>, <a
href="../tag/c11/index.html" rel="tag">c++11</a>, <a
href="../tag/c14/index.html" rel="tag">c++14</a>, <a
href="../tag/cpp/index.html" rel="tag">cpp</a>, <a
href="../tag/metaprogramming/index.html" rel="tag">metaprogramming</a>. Bookmark the <a
href="index.html" title="Permalink to Template Metaprogramming with Modern C++: templates in depth" rel="bookmark">permalink</a>. </footer> </article> <nav
role="navigation" id="nav-below" class="navigation-post"><h1 class="screen-reader-text">Post navigation</h1><div
class="previous"><a
href="../sparse-bitsets-cpp/index.html" rel="prev"><span
class="meta-nav">&larr;</span> Sparse bitsets in C++ with BITSCAN</a></div><div
class="next"><a
href="../file-based-cpp-dependency-manager/index.html" rel="next">Why a FILE BASED dependency manager rocks for C/C++ <span
class="meta-nav">&rarr;</span></a></div> </nav><div
id="disqus_thread"><div
id="dsq-content"><ul
id="dsq-comments"><li
class="post pingback"><p>Pingback: <a
href='http://www.smashcompany.com/technology/c-wants-lisp-macros' rel='external nofollow' class='url'>C++ wants Lisp macros | Smash Company</a>()</p></li></li><li
class="post pingback"><p>Pingback: <a
href='../cpp-madrid-meetup-template-metaprogramming/index.html' rel='external nofollow' class='url'>C/C++ Madrid meetup @ biicode | biicode Blog</a>()</p></li></li><li
class="comment even thread-even depth-1" id="dsq-comment-170"><div
id="dsq-comment-header-170" class="dsq-comment-header"><cite
id="dsq-cite-170"> http://cpptutorials.com <span
id="dsq-author-user-170">Santhi</span></cite></div><div
id="dsq-comment-body-170" class="dsq-comment-body"><div
id="dsq-comment-message-170" class="dsq-comment-message"><p>Very useful information indeed! Thanks for posting the content and you can find more<br
/> on default arguments here below with examples.</p><p><a
href="http://www.cpptutorials.com/2014/11/what-are-default-arguments-in-c-with.html" rel="nofollow"><br
/> Default arguments in  Cpp with examples<br
/> </a></p></div></div><ul
class="children"><li
class="comment odd alt depth-2" id="dsq-comment-177"><div
id="dsq-comment-header-177" class="dsq-comment-header"><cite
id="dsq-cite-177"> <span
id="dsq-author-user-177">biicode</span></cite></div><div
id="dsq-comment-body-177" class="dsq-comment-body"><div
id="dsq-comment-message-177" class="dsq-comment-message"><p>Our pleasure Santhi, thanks for reading.</p></div></div></li></ul></li></ul></div></div> <script type="text/javascript">var disqus_url = 'index.html';
var disqus_identifier = '1682%20http_/blog.biicode.com/indexbab4.html?p=1682';
var disqus_container_id = 'disqus_thread';
var disqus_shortname = 'biicodeblog';
var disqus_title = "Template Metaprogramming with Modern C++: templates in depth";
var disqus_config_custom = window.disqus_config;
var disqus_config = function () {
    /*
    All currently supported events:
    onReady: fires when everything is ready,
    onNewComment: fires when a new comment is posted,
    onIdentify: fires when user is authenticated
    */
    this.language = '';
        this.callbacks.onReady.push(function () {
        // sync comments in the background so we don't block the page
        var script = document.createElement('script');
        script.async = true;
        script.src = 'indexfb60.html?cf_action=sync_comments&amp;post_id=1682';
        var firstScript = document.getElementsByTagName('script')[0];
        firstScript.parentNode.insertBefore(script, firstScript);
    });
    if (disqus_config_custom) {
        disqus_config_custom.call(this);
    }
};
(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script> </div></div><div
id="secondary" class="widget-area" role="complementary"> <aside
id="text-2" class="widget widget_text"><div
class="textwidget"><p
class="widgettitleWhatwedo" align="center"> biicode is:</p><p
class="hrOrange">&nbsp;</p><p
align="center" class="widgetxtWhatwedo">For <span
style="font-weight:normal">C/C++ developers,</span> biicode is a file-based dependencies manager that makes code reuse simple.</p><div
id="Sidebar-Tryforfree"> <img
src="../wp-content/uploads/sites/3/2014/05/try-it-for-free-on.jpg" /> <a
href="http://www.biicode.com/downloads"><img
class="top" src="../wp-content/uploads/sites/3/2014/05/try-it-for-free-off.jpg" /></a></div></div> </aside><aside
id="text-3" class="widget widget_text"><div
class="textwidget"> <a
href="https://www.biicode.com/biicode-open-source-challenge"><img
src="../wp-content/uploads/sites/3/2014/05/banner-open-source.jpg" /></a></div> </aside><aside
id="categories-2" class="widget widget_categories"><h1 class="widget-title">Categories</h1><label
class="screen-reader-text" for="cat">Categories</label><select
name='cat' id='cat' class='postform' ><option
value='-1'>Select Category</option><option
class="level-0" value="3">#biicontest2014</option><option
class="level-0" value="328">algorithms</option><option
class="level-0" value="350">Arduino</option><option
class="level-0" value="12">biicode</option><option
class="level-0" value="173">biicode-internals</option><option
class="level-0" value="7">biicoders</option><option
class="level-0" value="229">BITSCAN</option><option
class="level-0" value="372">c++</option><option
class="level-0" value="49">events</option><option
class="level-0" value="198">Gamedev</option><option
class="level-0" value="318">Integrations</option><option
class="level-0" value="209">Meta-programming</option><option
class="level-0" value="43">news</option><option
class="level-0" value="163">Our Story</option><option
class="level-0" value="269">Software design</option><option
class="level-0" value="50">try this out</option><option
class="level-0" value="225">ZeroMQ</option> </select> <script type='text/javascript'>/*  */
(function() {
	var dropdown = document.getElementById( "cat" );
	function onCatChange() {
		if ( dropdown.options[ dropdown.selectedIndex ].value > 0 ) {
			location.href = "http://blog.biicode.com/?cat=" + dropdown.options[ dropdown.selectedIndex ].value;
		}
	}
	dropdown.onchange = onCatChange;
})();
/*  */</script> </aside></div></div></div><div
id="containerfooter"> <footer><div
class="center"><div
class="footer-item company"><h3>About</h3><ul><li><a
href="http://web.biicode.com/about-us">Company</a></li><li><a
href="http://web.biicode.com/pricing">Pricing</a></li><li><a
href="http://web.biicode.com/jobs">Careers</a></li><li><a
href="http://web.biicode.com/meet-the-team">Team </a></li><li><a
href="http://web.biicode.com/contact-us/">Contact us </a></li></ul></div><div
class="footer-item contact"><h3>Features</h3><ul><li><a
href="http://web.biicode.com/features/arduino/">Arduino</a></li><li><a
href="http://web.biicode.com/features/raspberry-pi/">Raspberry Pi</a></li><li><a
href="http://web.biicode.com/features/cpp/">C/C++</a></li><li><a
href="http://web.biicode.com/features/nodejs/">Node.js</a></li></ul></div><div
class="footer-item resources"><h3>Resources</h3><ul><li><a
href="http://web.biicode.com/learn/getting-started">Getting Started</a></li><li><a
href="https://www.biicode.com/downloads">Downloads </a></li><li><a
href="http://www.biicode.com/explore">Explore</a></li><li><a
href="http://docs.biicode.com/">Documentation</a></li><li><a
href="http://forum.biicode.com/">Forum</a></li><li><a
href="../index.html">Blog</a></li></ul></div><div
class="footer-item resources"><h3>Community</h3><ul><li><a
href="http://web.biicode.com/community/friends/">Friends</a></li><li><a
href="http://web.biicode.com/community/roadmap/">Roadmap</a></li></ul></div><div
class="signupfooter"><div
id="signupfooter-bt"> <img
src="../wp-content/themes/truly-minimal-wpcom/img/footer/bt-sign-up-footer-on.png" /> <a
href="https://www.biicode.com/accounts/signup/"><img
class="top" src="../wp-content/themes/truly-minimal-wpcom/img/footer/bt-sign-up-footer-off.png" /></a></div><div
id="socialiconsfooter-bt"> <img
src="../wp-content/themes/truly-minimal-wpcom/img/footer/icon-fb-footer-on.png" /> <a
href="https://www.facebook.com/Biicode"><img
class="top" src="../wp-content/themes/truly-minimal-wpcom/img/footer/icon-fb-footer-off.png" /></a></div><div
id="socialiconsfooter-bt"> <img
src="../wp-content/themes/truly-minimal-wpcom/img/footer/icon-twitter-footer-on.png" /> <a
href="https://twitter.com/biicode"><img
class="top" src="../wp-content/themes/truly-minimal-wpcom/img/footer/icon-twitter-footer-off.png" /></a></div><div
id="socialiconsfooter-bt"> <img
src="../wp-content/themes/truly-minimal-wpcom/img/footer/icon-google-footer-on.png" /> <a
href="https://plus.google.com/110838391970414654069/posts"><img
class="top" src="../wp-content/themes/truly-minimal-wpcom/img/footer/icon-google-footer-off.png" /></a></div><div
id="socialiconsfooter-bt"> <img
src="../wp-content/themes/truly-minimal-wpcom/img/footer/icon-linkedin-footer-on.png" /> <a
href="http://www.linkedin.com/company/biicode"><img
class="top" src="../wp-content/themes/truly-minimal-wpcom/img/footer/icon-linkedin-footer-off.png" /></a></div></div><div
class="center copyright"> <img
src="../wp-content/themes/truly-minimal-wpcom/img/footer/biicoce-logo-footer.png" class="logo" width="32" height="42" /><p>© 2014 Biicode. All rights reserved · <a
href="http://web.biicode.com/legal/terms-and-conditions">Terms and conditions</a> · <a
href="http://web.biicode.com/legal/privacy-policy">Privacy Policy</a> · <a
href="http://web.biicode.com/legal/community-guidelines">Community guidelines</a></p></div></div> </footer></div>
 <script type="text/javascript">//
			jQuery(document).ready(function() {
				// Edit 09/05: remove globals and package into Object Literal, and removed the debug function
				cli_show_cookiebar({
					html: '<div id="cookie-law-info-bar"><span>This website uses cookies to improve your experience. We\'ll assume you\'re ok with this, but you can opt-out if you wish.<a href=\"#\" id=\"cookie_action_close_header\"  class=\"medium cli-plugin-button cli-plugin-main-button\" >Accept</a> <a href=\"http://web.biicode.com/legal/privacy-policy/\" id=\"CONSTANT_OPEN_URL\" target=\"_new\"  class=\"cli-plugin-main-link\"  >Read More</a></span></div><div id="cookie-law-info-again"><span id="cookie_hdr_showagain">Privacy & Cookies Policy</span></div>',
					settings: '{"animate_speed_hide":"500","animate_speed_show":"500","background":"#fff","border":"#444","border_on":true,"button_1_button_colour":"#000000","button_1_button_hover":"#000000","button_1_link_colour":"#fff","button_1_as_button":true,"button_2_button_colour":"#333","button_2_button_hover":"#292929","button_2_link_colour":"#444","button_2_as_button":false,"font_family":"Arial, Helvetica, sans-serif","notify_animate_hide":true,"notify_animate_show":false,"notify_div_id":"#cookie-law-info-bar","notify_position_horizontal":"right","notify_position_vertical":"bottom","scroll_close":false,"scroll_close_reload":false,"showagain_tab":true,"showagain_background":"#fff","showagain_border":"#000","showagain_div_id":"#cookie-law-info-again","showagain_x_position":"100px","text":"#000","show_once_yn":false,"show_once":"10000"}'
				});
			});
			//</script> <script type="text/javascript">// 
        var disqus_shortname = 'biicodeblog';
        (function () {
            var nodes = document.getElementsByTagName('span');
            for (var i = 0, url; i < nodes.length; i++) {
                if (nodes[i].className.indexOf('dsq-postid') != -1) {
                    nodes[i].parentNode.setAttribute('data-disqus-identifier', nodes[i].getAttribute('data-dsqidentifier'));
                    url = nodes[i].parentNode.href.split('#', 1);
                    if (url.length == 1) { url = url[0]; }
                    else { url = url[1]; }
                    nodes[i].parentNode.href = url + '#disqus_thread';
                }
            }
            var s = document.createElement('script');
            s.async = true;
            s.type = 'text/javascript';
            s.src = '//' + disqus_shortname + '.disqus.com/count.js';
            (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
        }());
        //</script><script type="text/javascript">if (typeof(addthis_share) == "undefined"){ addthis_share = {"passthrough":{"twitter":{"via":"biicode"}}};}

var addthis_config = {"data_track_clickback":false,"data_track_addressbar":false,"data_track_textcopy":false,"ui_atversion":"300"};
var addthis_product = 'wpp-4.0.7';
</script><script type="text/javascript" src="../../s7.addthis.com/js/300/addthis_widget.js#pubid=ra-522dcd676fbf553f"></script><script type="text/javascript">
jQuery(window).load(function(){
  var q2w3_sidebar_1_options = { "sidebar" : "sidebar-1", "margin_top" : 10, "margin_bottom" : 450, "screen_max_width" : 0, "width_inherit" : false, "widgets" : ['text-2','text-3','categories-2'] };
  q2w3_sidebar(q2w3_sidebar_1_options);
  setInterval(function () { q2w3_sidebar(q2w3_sidebar_1_options); }, 1500);
});
</script>
<script type='text/javascript' src='../wp-content/themes/truly-minimal-wpcom/js/navigation11a8.js?ver=20120206'></script>
<script type='text/javascript' src='../wp-content/themes/truly-minimal-wpcom/js/skip-link-focus-fix08e0.js?ver=20130115'></script>
<script type='text/javascript' src='../wp-includes/js/comment-reply.mind19b.js?ver=4.2.5'></script>
<!--wp_footer-->
</body>

<!-- Mirrored from blog.biicode.com/template-metaprogramming-cpp-ii/ by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 03 Jan 2016 00:43:44 GMT -->
</html>